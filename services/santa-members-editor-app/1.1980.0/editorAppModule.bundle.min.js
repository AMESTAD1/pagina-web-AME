!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("_")):"function"==typeof define&&define.amd?define("santa-members-editor-app",["_"],t):"object"==typeof exports?exports["santa-members-editor-app"]=t(require("_")):e["santa-members-editor-app"]=t(e._)}("undefined"!=typeof self?self:this,(function(e){return function(){var t,n,o={9186:function(e,t){t.qq=t.Rb=t.wn=t.xA=t.ZJ=t.tt=t.DI=t.sV=t.dn=void 0,t.dn="14bcded7-0066-7c35-14d7-466cb3f09103",t.sV="140603ad-af8d-84a5-2c80-a0f60cb47351",t.DI="13d21c63-b5ec-5912-8397-c3a5ddb27a97",t.tt="14724f35-6794-cd1a-0244-25fd138f9242",t.ZJ="1380b703-ce81-ff05-f115-39571d94dfcd",t.xA="14dbefd2-01b4-fb61-32a7-3abd44da4908",t.wn="14f25924-5664-31b2-9568-f9c5ed98c9b1",t.Rb="2936472a-a1ed-4ae5-9f71-614313a9f4e7",t.qq="148c2287-c669-d849-d153-463c7486a694";var n={}},1721:function(e,t,n){"use strict";n.r(t),n.d(t,{ConsentPolicyAccessor:function(){return f}});var o,i={policy:"getCurrentConsentPolicy",header:"_getConsentPolicyHeader",isMethod:!0},r={policy:"consentPolicy",header:"consentPolicyHeader",isMethod:!1},a={essential:!0,dataToThirdParty:!0,advertising:!0,functional:!0,analytics:!0};function s(){return window}function c(){return self}function l(){return n.g}function u(){return globalThis}function p(e){var t;void 0===e&&(e=void 0),e&&(o=e),o||e||[u,l,c,s].forEach((function(e){try{o||(o=e())}catch(e){}}));try{"object"==typeof o.commonConfig&&o.commonConfig.consentPolicy&&(t=d(o.commonConfig,r)),t||"object"!=typeof o.consentPolicyManager||(t=d(o.consentPolicyManager,i)),t||"object"!=typeof o.Wix||"object"!=typeof o.Wix.Utils||"function"!=typeof o.Wix.Utils.getCurrentConsentPolicy||(t=d(o.Wix.Utils,i))}catch(e){}return t}function d(e,t){return{getCurrentConsentPolicy:function(){var n=e[t.policy];return t.isMethod?n():n},_getConsentPolicyHeader:function(){var n=e[t.header];return t.isMethod?n():n},deleteReference:!t.isMethod}}var f=function(){function e(e){e&&(this.env=e),this.consentPolicyAccess=p(this.env)}return e.prototype.clearReference=function(){this.consentPolicyAccess&&this.consentPolicyAccess.deleteReference&&(this.consentPolicyAccess=void 0)},e.prototype.getCurrentConsentPolicy=function(){this.consentPolicyAccess||(this.consentPolicyAccess=p(this.env));var e=this.consentPolicyAccess&&this.consentPolicyAccess.getCurrentConsentPolicy()||a;return this.clearReference(),e.policy?e.policy:e},e.prototype.getConsentPolicyHeader=function(e){void 0===e&&(e=!1),this.consentPolicyAccess||(this.consentPolicyAccess=p(this.env));var t=this.consentPolicyAccess&&this.consentPolicyAccess._getConsentPolicyHeader()||{"consent-policy":""};return this.clearReference(),e?t["consent-policy"]:t},e}()},439:function(e,t,n){e.exports=n(1541)},1410:function(e,t,n){"use strict";var o=n(4545),i=n(2525),r=n(8051),a=n(3542),s=n(2496),c=n(6600),l=n(6440),u=n(9652);e.exports=function(e){return new Promise((function(t,n){var p=e.data,d=e.headers,f=e.responseType;o.isFormData(p)&&delete d["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+h)}var y=s(e.baseURL,e.url);function b(){if(g){var o="getAllResponseHeaders"in g?c(g.getAllResponseHeaders()):null,r={data:f&&"text"!==f&&"json"!==f?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:o,config:e,request:g};i(t,n,r),g=null}}if(g.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(b)},g.onabort=function(){g&&(n(u("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(u("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},o.isStandardBrowserEnv()){var v=(e.withCredentials||l(y))&&e.xsrfCookieName?r.read(e.xsrfCookieName):void 0;v&&(d[e.xsrfHeaderName]=v)}"setRequestHeader"in g&&o.forEach(d,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete d[t]:g.setRequestHeader(t,e)})),o.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),f&&"json"!==f&&(g.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){g&&(g.abort(),n(e),g=null)})),p||(p=null),g.send(p)}))}},1541:function(e,t,n){"use strict";var o=n(4545),i=n(9309),r=n(1153),a=n(8313);function s(e){var t=new r(e),n=i(r.prototype.request,t);return o.extend(n,r.prototype,t),o.extend(n,t),n}var c=s(n(6276));c.Axios=r,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(7455),c.CancelToken=n(8348),c.isCancel=n(8396),c.all=function(e){return Promise.all(e)},c.spread=n(2001),c.isAxiosError=n(3766),e.exports=c,e.exports.default=c},7455:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},8348:function(e,t,n){"use strict";var o=n(7455);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new o(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},8396:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},1153:function(e,t,n){"use strict";var o=n(4545),i=n(3542),r=n(2840),a=n(700),s=n(8313),c=n(7802),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new r,response:new r}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var n=[],o=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,r=[];if(this.interceptors.response.forEach((function(e){r.push(e.fulfilled,e.rejected)})),!o){var u=[a,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(r),i=Promise.resolve(e);u.length;)i=i.then(u.shift(),u.shift());return i}for(var p=e;n.length;){var d=n.shift(),f=n.shift();try{p=d(p)}catch(e){f(e);break}}try{i=a(p)}catch(e){return Promise.reject(e)}for(;r.length;)i=i.then(r.shift(),r.shift());return i},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),o.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,o){return this.request(s(o||{},{method:e,url:t,data:n}))}})),e.exports=u},2840:function(e,t,n){"use strict";var o=n(4545);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){o.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},2496:function(e,t,n){"use strict";var o=n(8953),i=n(8228);e.exports=function(e,t){return e&&!o(t)?i(e,t):t}},9652:function(e,t,n){"use strict";var o=n(7014);e.exports=function(e,t,n,i,r){var a=new Error(e);return o(a,t,n,i,r)}},700:function(e,t,n){"use strict";var o=n(4545),i=n(9765),r=n(8396),a=n(6276);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),o.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7014:function(e){"use strict";e.exports=function(e,t,n,o,i){return e.config=t,n&&(e.code=n),e.request=o,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},8313:function(e,t,n){"use strict";var o=n(4545);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],r=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return o.isPlainObject(e)&&o.isPlainObject(t)?o.merge(e,t):o.isPlainObject(t)?o.merge({},t):o.isArray(t)?t.slice():t}function l(i){o.isUndefined(t[i])?o.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(e[i],t[i])}o.forEach(i,(function(e){o.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),o.forEach(r,l),o.forEach(a,(function(i){o.isUndefined(t[i])?o.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(void 0,t[i])})),o.forEach(s,(function(o){o in t?n[o]=c(e[o],t[o]):o in e&&(n[o]=c(void 0,e[o]))}));var u=i.concat(r).concat(a).concat(s),p=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return o.forEach(p,l),n}},2525:function(e,t,n){"use strict";var o=n(9652);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},9765:function(e,t,n){"use strict";var o=n(4545),i=n(6276);e.exports=function(e,t,n){var r=this||i;return o.forEach(n,(function(n){e=n.call(r,e,t)})),e}},6276:function(e,t,n){"use strict";var o=n(3158),i=n(4545),r=n(7730),a=n(7014),s={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==o&&"[object process]"===Object.prototype.toString.call(o))&&(l=n(1410)),l),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,r=!n&&"json"===this.responseType;if(r||o&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){u.headers[e]=i.merge(s)})),e.exports=u},9309:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},3542:function(e,t,n){"use strict";var o=n(4545);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(o.isURLSearchParams(t))r=t.toString();else{var a=[];o.forEach(t,(function(e,t){null!=e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,(function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),r=a.join("&")}if(r){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},8228:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},8051:function(e,t,n){"use strict";var o=n(4545);e.exports=o.isStandardBrowserEnv()?{write:function(e,t,n,i,r,a){var s=[];s.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),o.isString(i)&&s.push("path="+i),o.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},8953:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},3766:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},6440:function(e,t,n){"use strict";var o=n(4545);e.exports=o.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=o.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},7730:function(e,t,n){"use strict";var o=n(4545);e.exports=function(e,t){o.forEach(e,(function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])}))}},6600:function(e,t,n){"use strict";var o=n(4545),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,a={};return e?(o.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=o.trim(e.substr(0,r)).toLowerCase(),n=o.trim(e.substr(r+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},2001:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7802:function(e,t,n){"use strict";var o=n(2799),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var r={},a=o.version.split(".");function s(e,t){for(var n=t?t.split("."):a,o=e.split("."),i=0;i<3;i++){if(n[i]>o[i])return!0;if(n[i]<o[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&s(t);function a(e,t){return"[Axios v"+o.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,s){if(!1===e)throw new Error(a(o," has been removed in "+t));return i&&!r[o]&&(r[o]=!0,console.warn(a(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var o=Object.keys(e),i=o.length;i-- >0;){var r=o[i],a=t[r];if(a){var s=e[r],c=void 0===s||a(s,r,e);if(!0!==c)throw new TypeError("option "+r+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+r)}},validators:i}},4545:function(e,t,n){"use strict";var o=n(9309),i=Object.prototype.toString;function r(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,o){c(t[o])&&c(n)?t[o]=e(t[o],n):c(n)?t[o]=e({},n):r(n)?t[o]=n.slice():t[o]=n}for(var o=0,i=arguments.length;o<i;o++)u(arguments[o],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"==typeof t?o(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},5208:function(e){var t;"undefined"!=typeof self&&self,t=()=>(()=>{"use strict";var e={"../editor-platform-sdk-types/dist/esm/common.js":
/*!*******************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/common.js ***!
  \*******************************************************/(e,t,n)=>{var o,i,r,a;n.r(t),n.d(t,{DeviceType:()=>i,LinkTypes:()=>o,TPAComponentType:()=>r,WidgetInstallationType:()=>a}),function(e){e.NoLink="NoLink",e.PageLink="PageLink",e.AnchorLink="AnchorLink",e.ExternalLink="ExternalLink",e.DocumentLink="DocumentLink",e.PhoneLink="PhoneLink",e.EmailLink="EmailLink",e.LoginToWixLink="LoginToWixLink",e.DynamicPageLink="DynamicPageLink",e.EdgeAnchorLink="EdgeAnchorLinks",e.PopupLink="PopupLink",e.FormSubmitButtonLink="FormSubmitButtonLink"}(o||(o={})),function(e){e.Desktop="desktop",e.Mobile="mobile"}(i||(i={})),function(e){e.Page="PAGE",e.Widget="WIDGET"}(r||(r={})),function(e){e.Open="open",e.Closed="closed"}(a||(a={}))},"../editor-platform-sdk-types/dist/esm/definitions/appEditorApi.js":
/*!*************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/appEditorApi.js ***!
  \*************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/consentPolicy.js":
/*!**************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/consentPolicy.js ***!
  \**************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/index.js":
/*!******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/index.js ***!
  \******************************************************************/(e,t,n)=>{n.r(t),n.d(t,{EditorType:()=>r.EditorType,InstallInitiator:()=>r.InstallInitiator,InstallationOriginType:()=>r.InstallationOriginType,MediaType:()=>o.MediaType,NotificationPresetTypes:()=>i.NotificationPresetTypes,NotificationType:()=>i.NotificationType,PagesPanelTabType:()=>a.PagesPanelTabType,PanelResolveType:()=>a.PanelResolveType,PanelType:()=>a.PanelType,PremiumIntent:()=>s.PremiumIntent,customizeActions:()=>a.customizeActions}),n(/*! ./appEditorApi */"../editor-platform-sdk-types/dist/esm/definitions/appEditorApi.js"),n(/*! ./consentPolicy */"../editor-platform-sdk-types/dist/esm/definitions/consentPolicy.js");var o=n(/*! ./media */"../editor-platform-sdk-types/dist/esm/definitions/media.js"),i=(n(/*! ./monitoring */"../editor-platform-sdk-types/dist/esm/definitions/monitoring.js"),n(/*! ./notifications */"../editor-platform-sdk-types/dist/esm/definitions/notifications.js")),r=n(/*! ./origin */"../editor-platform-sdk-types/dist/esm/definitions/origin.js"),a=(n(/*! ./pageDefinition */"../editor-platform-sdk-types/dist/esm/definitions/pageDefinition.js"),n(/*! ./panels */"../editor-platform-sdk-types/dist/esm/definitions/panels.js")),s=n(/*! ./premiumIntent */"../editor-platform-sdk-types/dist/esm/definitions/premiumIntent.js");n(/*! ./responsiveLayout */"../editor-platform-sdk-types/dist/esm/definitions/responsiveLayout.js"),n(/*! ./info */"../editor-platform-sdk-types/dist/esm/definitions/info.js")},"../editor-platform-sdk-types/dist/esm/definitions/info.js":
/*!*****************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/info.js ***!
  \*****************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/media.js":
/*!******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/media.js ***!
  \******************************************************************/(e,t,n)=>{var o;n.r(t),n.d(t,{MediaType:()=>o}),function(e){e.Image="IMAGE",e.Video="VIDEO",e.Document="DOCUMENT"}(o||(o={}))},"../editor-platform-sdk-types/dist/esm/definitions/monitoring.js":
/*!***********************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/monitoring.js ***!
  \***********************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/notifications.js":
/*!**************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/notifications.js ***!
  \**************************************************************************/(e,t,n)=>{var o,i;n.r(t),n.d(t,{NotificationPresetTypes:()=>i,NotificationType:()=>o}),function(e){e.Success="success",e.Error="error",e.Warning="warning",e.Info="info"}(o||(o={})),function(e){e.REPEATER_EDITOR_MAX_ITEMS="repeaterMaxItemsEditorLimitation"}(i||(i={}))},"../editor-platform-sdk-types/dist/esm/definitions/origin.js":
/*!*******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/origin.js ***!
  \*******************************************************************/(e,t,n)=>{var o,i,r;n.r(t),n.d(t,{EditorType:()=>o,InstallInitiator:()=>i,InstallationOriginType:()=>r}),function(e){e.Classic="CLASSIC",e.Responsive="RESPONSIVE",e.ADI="ADI",e.ADI_MA="ADI_MA",e.ADI_TEMPLATE="ADI_TEMPLATE"}(o||(o={})),function(e){e.Editor="EDITOR",e.App="APP",e.Dependency_Service="Dependency_Service"}(i||(i={})),function(e){e.AppMarket="APP_MARKET",e.AddPanel="ADD_PANEL",e.AppPanel="APP_PANEL",e.PageSettingsPanel="PAGE_SETTINGS_PANEL",e.PresetService="PRESET_SERVICE",e.SITE_CREATION="SITE_CREATION",e.SILENT_INSTALL_SITE_CREATION="SILENT_INSTALL_SITE_CREATION",e.SILENT_INSTALL="SILENT_INSTALL",e.ADD_SECTION_PANEL="ADD_SECTION_PANEL",e.ADD_PAGE_PANEL="ADD_PAGE_PANEL",e.COPY_PASTE="COPY_PASTE",e.INTRO_FUNNEL="INTRO_FUNNEL",e.PAGES_PANEL="PAGES_PANEL",e.PAGE_SETTINGS_PANEL="PAGE_SETTINGS_PANEL",e.IMPORT_PANEL="IMPORT_PANEL"}(r||(r={}))},"../editor-platform-sdk-types/dist/esm/definitions/pageDefinition.js":
/*!***************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/pageDefinition.js ***!
  \***************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/panels.js":
/*!*******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/panels.js ***!
  \*******************************************************************/(e,t,n)=>{var o,i,r,a;n.r(t),n.d(t,{PagesPanelTabType:()=>r,PanelResolveType:()=>i,PanelType:()=>o,customizeActions:()=>a}),function(e){e.Settings="settings",e.Layout="layout",e.Design="design",e.Upgrade="upgrade",e.Add="add"}(o||(o={})),function(e){e.MAIN_ACTION="mainActionClicked",e.SECONDARY_ACTION="secActionClicked",e.CLOSE_ACTION="closeActionClicked"}(i||(i={})),function(e){e.PageInfo="PAGE_INFO",e.Layout="LAYOUT",e.Permissions="PERMISSIONS",e.SEO="SEO"}(r||(r={})),function(e){e.Custom="Custom"}(a||(a={}))},"../editor-platform-sdk-types/dist/esm/definitions/premiumIntent.js":
/*!**************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/premiumIntent.js ***!
  \**************************************************************************/(e,t,n)=>{var o;n.r(t),n.d(t,{PremiumIntent:()=>o}),function(e){e.Neutral="NEUTRAL",e.Free="FREE",e.Paid="PAID"}(o||(o={}))},"../editor-platform-sdk-types/dist/esm/definitions/responsiveLayout.js":
/*!*****************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/responsiveLayout.js ***!
  \*****************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/editor-app.js":
/*!***********************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/editor-app.js ***!
  \***********************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/events/EventType.js":
/*!*****************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/events/EventType.js ***!
  \*****************************************************************/(e,t,n)=>{var o;n.r(t),n.d(t,{EventType:()=>o,customEventTypes:()=>i,generalEventTypes:()=>r}),function(e){e.appMenuReorder="appMenuReorder",e.componentDeleted="componentDeleted",e.componentGfppClicked="componentGfppClicked",e.appActionClicked="appActionClicked",e.connectedComponentPasted="connectedComponentPasted",e.connectedComponentDuplicated="connectedComponentDuplicated",e.concurrentPanelEdit="concurrentPanelEdit",e.widgetPasted="widgetPasted",e.widgetDuplicated="widgetDuplicated",e.widgetAdded="widgetAdded",e.controllerAdded="controllerAdded",e.controllerSettingsButtonClicked="controllerSettingsButtonClicked",e.controllerGfppClicked="controllerGfppClicked",e.stateChanged="stateChanged",e.stateAdded="stateAdded",e.stateDuplicated="stateDuplicated",e.pageDeleted="pageDeleted",e.siteWasPublished="siteWasPublished",e.siteWasFirstSaved="siteWasFirstSaved",e.siteWasSaved="siteWasSaved",e.startConfiguration="startConfiguration",e.welcomeSectionMainActionClicked="welcomeSectionMainActionClicked",e.widgetGfppClicked="widgetGfppClicked",e.appUpgradeCompleted="appUpgradeCompleted",e.instanceChanged="instanceChanged",e.componentSelectionChanged="componentSelectionChanged",e.globalDesignPresetChanged="globalDesignPresetChanged",e.developerModeChanged="developerModeChanged",e.developerModeStatusChanged="developerModeStatusChanged",e.focusedPageChanged="focusedPageChanged",e.componentAddedToStage="componentAddedToStage",e.connectedComponentAddedToStage="connectedComponentAddedToStage",e.anyComponentAddedToStage="anyComponentAddedToStage",e.componentAnimationChanged="componentAnimationChanged",e.componentDataChanged="componentDataChanged",e.componentDesignChanged="componentDesignChanged",e.componentStyleChanged="componentStyleChanged",e.switchedFromPreview="switchedFromPreview",e.componentArrangementChanged="componentArrangementChanged",e.componentDragEnded="componentDragEnded",e.componentResizeStarted="componentResizeStarted",e.componentRotateEnded="componentRotateEnded",e.sitePublishedDialogClosed="sitePublishedDialogClosed",e.pageBackgroundChanged="pageBackgroundChanged",e.mobileTextScaleChanged="mobileTextScaleChanged",e.componentCropSaved="componentCropSaved",e.toggleBackToTopButtonOn="toggleBackToTopButtonOn",e.componentBehaviorChanged="componentBehaviorChanged",e.componentPropsChanged="componentPropsChanged",e.switchedToMobileView="switchedToMobileView",e.switchedToDesktopView="switchedToDesktopView",e.textEditBoxClosed="textEditBoxClosed",e.hideMobileElement="hideMobileElement",e.showMobileElement="showMobileElement",e.pageRenamed="pageRenamed",e.addDynamicPageClicked="addDynamicPageClicked",e.consentPolicyChanged="consentPolicyChanged",e.pageDuplicated="pageDuplicated",e.pageAdded="pageAdded",e.undo="undo",e.redo="redo",e.addElementsCompClicked="addElementsCompClicked",e.addElementsAllCompsClicked="addElementsAllCompsClicked",e.addElementsResetClicked="addElementsResetClicked",e.appVisitedInDashboard="appVisitedInDashboard",e.componentAddedToApp="componentAddedToApp",e.documentOperationError="documentOperationError",e.solveAddWidgetLimitation="solveAddWidgetLimitation",e.componentConnected="componentConnected",e.componentDisconnected="componentDisconnected",e.panelHeaderButtonClicked="panelHeaderButtonClicked",e.themeChanged="themeChanged"}(o||(o={}));var i=[o.componentSelectionChanged,o.focusedPageChanged,o.anyComponentAddedToStage,o.componentAnimationChanged,o.componentDataChanged,o.componentDesignChanged,o.componentStyleChanged,o.switchedFromPreview,o.componentArrangementChanged,o.componentDragEnded,o.componentResizeStarted,o.componentRotateEnded,o.sitePublishedDialogClosed,o.pageBackgroundChanged,o.mobileTextScaleChanged,o.componentCropSaved,o.toggleBackToTopButtonOn,o.componentBehaviorChanged,o.componentPropsChanged,o.switchedToMobileView,o.switchedToDesktopView,o.textEditBoxClosed,o.hideMobileElement,o.showMobileElement,o.undo,o.redo,o.appVisitedInDashboard,o.developerModeStatusChanged,o.componentConnected,o.componentDisconnected,o.solveAddWidgetLimitation,o.pageDuplicated,o.pageAdded,o.themeChanged],r=[o.appMenuReorder,o.componentDeleted,o.componentGfppClicked,o.appActionClicked,o.connectedComponentPasted,o.connectedComponentDuplicated,o.concurrentPanelEdit,o.widgetPasted,o.widgetDuplicated,o.widgetAdded,o.controllerAdded,o.controllerSettingsButtonClicked,o.controllerGfppClicked,o.stateChanged,o.stateAdded,o.stateDuplicated,o.pageDeleted,o.siteWasPublished,o.siteWasFirstSaved,o.siteWasSaved,o.startConfiguration,o.welcomeSectionMainActionClicked,o.widgetGfppClicked,o.appUpgradeCompleted,o.instanceChanged,o.globalDesignPresetChanged,o.developerModeChanged,o.connectedComponentAddedToStage,o.pageRenamed,o.addDynamicPageClicked,o.consentPolicyChanged,o.addElementsCompClicked,o.addElementsAllCompsClicked,o.addElementsResetClicked,o.componentAddedToApp,o.documentOperationError,o.panelHeaderButtonClicked]},"../editor-platform-sdk-types/dist/esm/events/EventsInterfaceMap.js":
/*!**************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/events/EventsInterfaceMap.js ***!
  \**************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/events/eventInterfaces.js":
/*!***********************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/events/eventInterfaces.js ***!
  \***********************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/events/index.js":
/*!*************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/events/index.js ***!
  \*************************************************************/(e,t,n)=>{n.r(t),n.d(t,{EventType:()=>o.EventType,customEventTypes:()=>o.customEventTypes,generalEventTypes:()=>o.generalEventTypes}),n(/*! ./eventInterfaces */"../editor-platform-sdk-types/dist/esm/events/eventInterfaces.js");var o=n(/*! ./EventType */"../editor-platform-sdk-types/dist/esm/events/EventType.js");n(/*! ./EventsInterfaceMap */"../editor-platform-sdk-types/dist/esm/events/EventsInterfaceMap.js")},"../editor-platform-sdk-types/dist/esm/index.js":
/*!******************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/index.js ***!
  \******************************************************/(e,t,n)=>{n.r(t),n.d(t,{DeviceType:()=>i.DeviceType,EditorType:()=>r.EditorType,EventType:()=>a.EventType,InstallInitiator:()=>r.InstallInitiator,InstallationOriginType:()=>r.InstallationOriginType,LinkTypes:()=>i.LinkTypes,MediaType:()=>r.MediaType,MemberKind:()=>o.MemberKind,NotificationPresetTypes:()=>r.NotificationPresetTypes,NotificationType:()=>r.NotificationType,PagesPanelTabType:()=>r.PagesPanelTabType,PanelResolveType:()=>r.PanelResolveType,PanelType:()=>r.PanelType,PremiumIntent:()=>r.PremiumIntent,TPAComponentType:()=>i.TPAComponentType,WidgetInstallationType:()=>i.WidgetInstallationType,customEventTypes:()=>a.customEventTypes,customizeActions:()=>r.customizeActions,generalEventTypes:()=>a.generalEventTypes}),n(/*! ./editor-app */"../editor-platform-sdk-types/dist/esm/editor-app.js");var o=n(/*! ./manifest */"../editor-platform-sdk-types/dist/esm/manifest.js"),i=n(/*! ./common */"../editor-platform-sdk-types/dist/esm/common.js"),r=n(/*! ./definitions */"../editor-platform-sdk-types/dist/esm/definitions/index.js"),a=n(/*! ./events */"../editor-platform-sdk-types/dist/esm/events/index.js");n(/*! ./tpaStyleParams */"../editor-platform-sdk-types/dist/esm/tpaStyleParams.js"),n(/*! ./sdk */"../editor-platform-sdk-types/dist/esm/sdk/index.js")},"../editor-platform-sdk-types/dist/esm/manifest.js":
/*!*********************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/manifest.js ***!
  \*********************************************************/(e,t,n)=>{var o;n.r(t),n.d(t,{MemberKind:()=>o}),function(e){e.MEMBER="member",e.FUNCTION="function"}(o||(o={}))},"../editor-platform-sdk-types/dist/esm/sdk/app-settings.js":
/*!*****************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/app-settings.js ***!
  \*****************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/document/application.js":
/*!*************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/document/application.js ***!
  \*************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/document/index.js":
/*!*******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/document/index.js ***!
  \*******************************************************************/(e,t,n)=>{n.r(t),n(/*! ./application */"../editor-platform-sdk-types/dist/esm/sdk/document/application.js")},"../editor-platform-sdk-types/dist/esm/sdk/editor/index.js":
/*!*****************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/editor/index.js ***!
  \*****************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/editorSDK.js":
/*!**************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/editorSDK.js ***!
  \**************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/event-listeners.js":
/*!********************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/event-listeners.js ***!
  \********************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/extra.js":
/*!**********************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/extra.js ***!
  \**********************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/index.js":
/*!**********************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/index.js ***!
  \**********************************************************/(e,t,n)=>{n.r(t),n(/*! ./editorSDK */"../editor-platform-sdk-types/dist/esm/sdk/editorSDK.js"),n(/*! ./extra */"../editor-platform-sdk-types/dist/esm/sdk/extra.js"),n(/*! ./event-listeners */"../editor-platform-sdk-types/dist/esm/sdk/event-listeners.js"),n(/*! ./editor */"../editor-platform-sdk-types/dist/esm/sdk/editor/index.js"),n(/*! ./app-settings */"../editor-platform-sdk-types/dist/esm/sdk/app-settings.js"),n(/*! ./document */"../editor-platform-sdk-types/dist/esm/sdk/document/index.js")},"../editor-platform-sdk-types/dist/esm/tpaStyleParams.js":
/*!***************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/tpaStyleParams.js ***!
  \***************************************************************/(e,t,n)=>{n.r(t)}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{
/*!******************!*\
  !*** ./index.ts ***!
  \******************/
n.r(o),n.d(o,{DeviceType:()=>e.DeviceType,EditorType:()=>e.EditorType,EventType:()=>e.EventType,InstallInitiator:()=>e.InstallInitiator,InstallationOriginType:()=>e.InstallationOriginType,LinkTypes:()=>e.LinkTypes,MediaType:()=>e.MediaType,MemberKind:()=>e.MemberKind,NotificationPresetTypes:()=>e.NotificationPresetTypes,NotificationType:()=>e.NotificationType,PagesPanelTabType:()=>e.PagesPanelTabType,PanelResolveType:()=>e.PanelResolveType,PanelType:()=>e.PanelType,PremiumIntent:()=>e.PremiumIntent,TPAComponentType:()=>e.TPAComponentType,WidgetInstallationType:()=>e.WidgetInstallationType,customEventTypes:()=>e.customEventTypes,customizeActions:()=>e.customizeActions,generalEventTypes:()=>e.generalEventTypes});var e=n(/*! @wix/editor-platform-sdk-types */"../editor-platform-sdk-types/dist/esm/index.js")})(),o})(),e.exports=t()},6433:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultCommonConfig=t.BrandToHostMap=t.DefaultBrand=t.EventContextMap=t.BackofficeDomains=t.LoggerVersion=void 0,t.LoggerVersion="2.0.985|C",t.BackofficeDomains=[".wix.com",".editorx.com"],function(e){e.msid="_msid",e.clientId="_client_id",e.uuid="_uuid",e.visitorId="_visitorId",e.siteMemberId="_siteMemberId",e.brandId="_brandId",e.siteBranchId="_siteBranchId",e.ms="_ms",e.lv="_lv"}(t.EventContextMap||(t.EventContextMap={})),t.DefaultBrand="wix",t.BrandToHostMap={wix:"wix",editorx:"editorx"},t.DefaultCommonConfig={brand:t.DefaultBrand}},7765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ok=t.object=t.defined=void 0;var o=n(6539);t.defined=function(e,t){if(void 0===e)throw new o.AssertionError(t)};t.object=function(e,t){if(void 0!==e&&("object"!=typeof e||Array.isArray(e)||null===e))throw new o.AssertionError(t)};t.ok=function(e,t){if(!e)throw new o.AssertionError(t)}},3599:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readCookie=t.sendBeacon=t.getWindowSize=t.getDesktopSize=t.now=void 0,t.now=function(){return"undefined"!=typeof performance&&performance&&performance.now?performance.now():-1},t.getDesktopSize=function(e){var t=e.screen&&e.screen.width||0,n=e.screen&&e.screen.height||0;return"".concat(t,"x").concat(n)},t.getWindowSize=function(e){var t=0,n=0;return e.innerWidth?(t=e.innerWidth,n=e.innerHeight):e.document&&(e.document.documentElement&&e.document.documentElement.clientWidth?(t=e.document.documentElement.clientWidth,n=e.document.documentElement.clientHeight):e.document.body&&e.document.body.clientWidth&&(t=e.document.body.clientWidth,n=e.document.body.clientHeight)),"".concat(t,"x").concat(n)},t.sendBeacon=function(e,t){return!("undefined"==typeof navigator||!navigator||!navigator.sendBeacon)&&navigator.sendBeacon(e,t)},t.readCookie=function(e){if("undefined"==typeof document)return null;for(var t=0,n=document.cookie.split(";");t<n.length;t++){for(var o=n[t].split("="),i=o[0],r=o[1];" "===i[0];)i=i.substr(1);if(i===e)return r}return""}},5997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBranchId=t.getBrand=t.getCommonConfigValue=void 0;var o=n(47),i=n(6433);t.getCommonConfigValue=function(e,t){return void 0===t&&(t=(0,o.getGlobal)((function(e){return e.Wix&&e.Wix.Utils&&e.Wix.Utils.commonConfig||e.commonConfig}))),(t=t&&"function"==typeof t.getAll?t.getAll():t)&&void 0!==t[e]?t[e]:i.DefaultCommonConfig[e]};t.getBrand=function(e){return(0,t.getCommonConfigValue)("brand",e())};t.getBranchId=function(e){return(0,t.getCommonConfigValue)("branchId",e())}},47:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=t.getWindowIfTop=t.isBackoffice=t.isWebWorker=t.getHost=t.setHost=void 0;var o,i,r=n(6433);function a(e){if("undefined"!=typeof window&&window)try{return window.top===window.self?e?e(window):window:null}catch(e){return null}return null}function s(e,t){return void 0===t&&(t=null),"undefined"!=typeof self&&self&&e(self)||t}t.setHost=function(e){o=e},t.getHost=function(e){return void 0===e&&(e=r.DefaultBrand),o||(void 0===i&&(i=s((function(e){return e.location&&e.location.hostname&&(e.location.hostname.match(/\.(wix|editorx)\.com$/)||[])[1]||null}),null)),t=i||r.BrandToHostMap[e]||r.BrandToHostMap[r.DefaultBrand],"frog.".concat(t,".com"));var t},t.isWebWorker=function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope},t.isBackoffice=function(){return a((function(e){var t=e.document;return r.BackofficeDomains.some((function(e){return-1!==t.location.host.indexOf(e)}))}))},t.getWindowIfTop=a,t.getGlobal=s},6539:function(e,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.APINotSupportedError=t.AssertionError=void 0;var i=function(e){function t(t){var n=e.call(this,t)||this;return n.name=n.constructor.name,n}return o(t,e),t}(Error);t.AssertionError=i;var r=function(e){function t(t){var n=e.call(this,t)||this;return n.name=n.constructor.name,n}return o(t,e),t}(Error);t.APINotSupportedError=r},4100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonDefaults=t.getUserDefaults=t.transformDefaults=void 0;var o=n(6433),i=n(3599),r=n(5997),a=n(8046);t.transformDefaults=function(e){return Object.keys(e).reduce((function(t,n){var i=o.EventContextMap[n]||n;return o.EventContextMap[n]&&void 0!==e[n]?t[i]=e[n]:t[n]=e[n],t}),{})};t.getUserDefaults=function(){return(0,a.getCookies)({clientId:"_wixCIDX",uuid:{name:"_wixUIDX",transform:function(e){return"string"==typeof e&&e.split("|")[1]}}})};t.getCommonDefaults=function(e,n){return(0,t.transformDefaults)({brandId:function(){return(0,r.getBrand)(e)},siteBranchId:function(){return(0,r.getBranchId)(e)},ms:function(){return Math.round((0,i.now)())},lv:o.LoggerVersion})}},8322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listen=void 0;var o=n(47);function i(e){setTimeout((function(){return(0,o.getWindowIfTop)((function(t){return e(t.location.href)}))}))}function r(e){(0,o.getWindowIfTop)((function(t){var n=t.history;return["pushState","replaceState"].forEach((function(t){!function(e,t,n){if(e&&e[t]){var o=e[t];e[t]=function(){return n.apply(null,arguments),o.apply(e,arguments)}}}(n,t,(function(t,n,o){return e(o)}))}))}))}function a(e){(0,o.getWindowIfTop)((function(t){return t.addEventListener("popstate",(function(){return e(t.location.href)}))}))}t.listen=function(e){(0,o.getWindowIfTop)((function(t){var n=t.document.referrer;[i,r,a].forEach((function(t){return t((function(t){e(n,t),n=t}))}))}))}},4116:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.getTransformers=t.getPublisher=t.postMessagePublisher=t.xhrPublisher=t.fetchPublisher=t.beaconPublisher=t.imagePublisher=t.resolvePublisher=void 0;var r=n(8046),a=n(47),s=n(6539),c=n(7737),l=n(2340),u=function(e){return e.useBatch?"POST":"GET"};function p(e){return void 0===e&&(e={}),function(t,n){void 0===n&&(n={});var o=(0,r.buildBiUrl)(e,t,n);return(0,l.beaconTransport)(o,t,!!n.useBatch).catch((function(){var e=u(n);return n.useBatch?(0,l.fetchTransport)(o,t,e).catch((function(n){return n instanceof s.APINotSupportedError?(0,l.xhrTransport)(o,t,e):Promise.reject(n)})):(0,l.pixelTransport)(o,n.image)}))}}function d(e,t){return void 0===e&&(e={}),function(n,o){void 0===o&&(o={});var i=(0,r.buildBiUrl)(e,n,o),a=u(o);return(0,l.fetchTransport)(i,n,a,t).catch((function(e){return e instanceof s.APINotSupportedError?(0,l.xhrTransport)(i,n,a):Promise.reject(e)}))}}function f(e,t){return void 0===e&&(e={}),function(e){return(0,l.postMessageTransport)(e,t)}}t.resolvePublisher=function(e,t){var n,o;return e.publishMethod===c.PublishMethods.PostMessage?(n=f,o=t&&t[c.PublishMethods.PostMessage]):e.publishMethod===c.PublishMethods.Fetch?(n=d,o=t&&t[c.PublishMethods.Fetch]):n=(0,a.isWebWorker)()?d:p,n(e,o)},t.imagePublisher=function(e){return void 0===e&&(e={}),function(t,n){if(void 0===n&&(n={}),n.useBatch)throw new s.APINotSupportedError("Can't use image publisher to send batched events.");var o=(0,r.buildBiUrl)(e,t,n);return(0,l.pixelTransport)(o,n.image)}},t.beaconPublisher=p,t.fetchPublisher=d,t.xhrPublisher=function(e){return void 0===e&&(e={}),function(t,n){void 0===n&&(n={});var o=(0,r.buildBiUrl)(e,t,n),i=u(n);return(0,l.xhrTransport)(o,t,i)}},t.postMessagePublisher=f,t.getPublisher=function(e,n){return(0,t.resolvePublisher)(e,n)};t.getTransformers=function(e,t){var n,r;t&&("function"!=typeof t&&t.postMessage&&e.publishMethod===c.PublishMethods.PostMessage?r=t.postMessage:"function"==typeof t&&(n=t));return{eventTransformer:n,payloadTransformer:function(t,n){if(n.useBatch){var a=function(t){return(null==t?void 0:t.endpoint)||n.endpoint||e.endpoint};t.e=t.e.map((function(e){var t=e.context,n=i(e,["context"]);return o(o({},n),{f:o(o({},n.f),{_rp:a(t)})})}))}return r?r(t):t}}}},8821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.track=void 0;var o=n(8046),i=n(8322),r=n(47),a=n(3599),s="__isTrackingPageViews__";function c(e){var t=function(e){return e({endpoint:"p"}).updateDefaults({src:19,evid:3,vsi:(0,o.guid)()}).logger()}(e),n=1;(0,i.listen)((function(e,o){var i=(0,r.getWindowIfTop)((function(e){return{sr:(0,a.getDesktopSize)(e),wr:(0,a.getWindowSize)(e)}})),s=i.sr,c=i.wr;t.log({from:e,to:o,fis:n,sr:s,wr:c}),n=0}))}t.track=function(e,t){void 0===t&&(t={force:!1}),(t.force||!(0,r.isWebWorker)()&&(0,r.isBackoffice)()&&(0,r.getWindowIfTop)((function(e){return!e[s]})))&&((0,r.getWindowIfTop)((function(e){return e[s]=!0})),c(e))}},2340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postMessageTransport=t.xhrTransport=t.fetchTransport=t.pixelTransport=t.beaconTransport=void 0;var o=n(3599),i=n(6539);t.beaconTransport=function(e,t,n){return void 0===n&&(n=!1),new Promise((function(i,r){return(0,o.sendBeacon)(e,n?JSON.stringify(t):void 0)?i():r(new Error("Transport Error: Cannot send bi using beacon"))}))},t.pixelTransport=function(e,t){return new Promise((function(n,o){var i=t||new window.Image(0,0);i.onload=function(){return n()},i.onerror=function(){return o(new Error("Transport Error: Cannot send bi using pixel"))},i.src=e}))},t.fetchTransport=function(e,t,n,o){if(void 0===n&&(n="GET"),void 0===o){if("undefined"==typeof fetch)return Promise.reject(new i.APINotSupportedError("fetch"));o=fetch}var r={method:n,credentials:"include"};return"POST"===n?r.body=JSON.stringify(t):r.keepalive=!0,o(e,r).then((function(e){if(!e.ok)throw Error("Transport Error: Cannot send bi using fetch. Status: ".concat(e.status))}))},t.xhrTransport=function(e,t,n){return void 0===n&&(n="GET"),new Promise((function(o,i){var r=new XMLHttpRequest;r.open(n,"".concat(location.protocol).concat(e)),r.onload=o,r.onerror=function(){i(new Error("Transport Error: Cannot send bi using xhr."))},r.withCredentials=!0,"POST"===n?r.send(JSON.stringify(t)):r.send()}))},t.postMessageTransport=function(e,t){void 0===t&&(t=self.postMessage);var n=[e];return"undefined"==typeof WorkerGlobalScope&&n.push("*"),t.apply(self,n)}},8046:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.guid=t.buildBiUrl=t.getCookies=void 0;var o=n(3599),i=n(47),r=0;t.getCookies=function(e){return Object.keys(e).reduce((function(t,n){var i="string"==typeof e[n]?{name:e[n]}:e[n],r=i.name,a=i.transform,s=(void 0===a?function(e){return e}:a)((0,o.readCookie)(r));return s&&(t[n]=s),t}),{})},t.buildBiUrl=function(e,t,n){var o=e.host,a=void 0===o?"":o,s=e.endpoint,c=void 0===s?"":s;void 0===n&&(n={}),a=(a="function"==typeof a?a():a)||(0,i.getHost)(),c=n.endpoint||c,n.useBatch||(t._=""+(new Date).getTime()+r++);var l=n.useBatch?[]:Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}),[]);return["//".concat(a,"/").concat(c)].concat(l.length?l.join("&"):[]).join("?")},t.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},647:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BiLoggerClientFactory=t.createBatchQueue=t.manager=t.factory=t.Factory=t.setHost=t.EventCategories=t.PublishMethods=void 0;var s=n(1746),c=n(1721),l=a(n(7765)),u=n(4116),p=n(5997),d=n(47),f=n(7737),g=n(4100),m=n(7737);Object.defineProperty(t,"PublishMethods",{enumerable:!0,get:function(){return m.PublishMethods}}),Object.defineProperty(t,"EventCategories",{enumerable:!0,get:function(){return m.EventCategories}});var h=n(47);Object.defineProperty(t,"setHost",{enumerable:!0,get:function(){return h.setHost}});var y=function(){function e(t){void 0===t&&(t={}),this.options=t,this.commonConfigGetter=function(){},this.initialized=!1,l.ok(!t.publishMethod||-1!==Object.keys(f.PublishMethods).map((function(e){return f.PublishMethods[e]})).indexOf(t.publishMethod),'Unsupported publish method "'.concat(t.publishMethod,'"')),e.consentPolicyAccessor=e.consentPolicyAccessor||new c.ConsentPolicyAccessor,this.loggerClientFactory=(0,s.factory)()}return e.prototype.initFactory=function(){var t=this;if(this.initialized)return this.loggerClientFactory;this.initialized=!0,this.updateDefaults((0,g.getCommonDefaults)(this.commonConfigGetter,e.consentPolicyAccessor)),this.withUserContext((0,g.getUserDefaults)());var n=o(o({},this.options),{host:this.options.host||function(){return(0,d.getHost)((0,p.getBrand)(t.commonConfigGetter))}}),i=(0,u.getPublisher)(n,this.publishFunctions),r=(0,u.getTransformers)(n,this.transformer),a=r.eventTransformer,s=r.payloadTransformer,c=this.loggerClientFactory.addPublisher(i).withConsentPolicyGetter((function(){return e.consentPolicyAccessor.getCurrentConsentPolicy()}));return a&&c.withEventTransformer(a),s&&c.withPayloadTransformer(s),c},e.prototype.withTransformer=function(e){return l.defined(e,"Transformer must be provided"),l.ok("function"==typeof e||e&&"function"==typeof e[f.PublishMethods.PostMessage],"Valid transformer must be provided"),this.transformer=e,this},e.prototype.withPublishFunction=function(e){return l.defined(e,"Publish functions object must be provided"),l.ok(this.options.publishMethod&&this.options.publishMethod!==f.PublishMethods.Auto,"Publish function can be used only when using a custom publish method"),l.ok(e&&"function"==typeof e[this.options.publishMethod],"Valid publish function must be provided"),this.publishFunctions=e,this},e.prototype.withUserContext=function(e){return l.defined(e,"User context object must be provided"),this.updateDefaults((0,g.transformDefaults)(e)),this},e.prototype.withUoUContext=function(e){return l.defined(e,"UoU context object must be provided"),this.updateDefaults((0,g.transformDefaults)(e)),this},e.prototype.withNonEssentialContext=function(e){return l.defined(e,"Non-essential context object must be provided"),this.loggerClientFactory.updateNonEssentialDefaults((0,g.transformDefaults)(e)),this},e.prototype.withCommonConfigGetter=function(e){return l.defined(e,"Common config getter must be provided"),l.ok("function"==typeof e,"Common config getter must be a function"),this.commonConfigGetter=e,this},e.prototype.updateDefaults=function(e){return this.loggerClientFactory.updateDefaults(e),this},e.prototype.setMuted=function(e){return this.loggerClientFactory.setMuted(e),this},e.prototype.setEvents=function(e){return this.loggerClientFactory.setEvents(e),this},e.prototype.setGlobalBatchQueue=function(e){return this.loggerClientFactory.setGlobalBatchQueue(e),this},e.prototype.onError=function(e){return this.loggerClientFactory.setPublisherFailHandler(e),this},e.prototype.logger=function(e){void 0===e&&(e={});var t=this.options,n=t.endpoint,i=t.useBatch;return this.initFactory().logger(o({endpoint:n,useBatch:i},e))},e}();t.Factory=y;t.factory=function(e){return void 0===e&&(e={}),new y(e)},t.manager=s.manager,t.createBatchQueue=s.createBatchQueue,t.BiLoggerClientFactory=s.BiLoggerFactory},6832:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BiLoggerClientFactory=t.EventCategories=t.createBatchQueue=t.manager=t.setHost=t.factory=void 0;var a=n(1746),s=r(n(8821)),c=r(n(647));t.factory=function(e){void 0===e&&(e={});var t=e.trackSession||void 0===e.trackSession;return t&&s.track(c.factory,{force:"force"===t}),c.factory(e)},t.setHost=c.setHost,t.manager=a.manager,t.createBatchQueue=a.createBatchQueue,t.EventCategories=c.EventCategories,t.BiLoggerClientFactory=c.BiLoggerClientFactory,t.default={factory:t.factory,setHost:c.setHost,manager:a.manager,createBatchQueue:a.createBatchQueue,EventCategories:c.EventCategories,BiLoggerClientFactory:c.BiLoggerClientFactory}},7737:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Errors=t.EventCategories=t.PublishMethods=void 0,function(e){e.Auto="auto",e.PostMessage="postMessage",e.Fetch="fetch"}(t.PublishMethods||(t.PublishMethods={})),function(e){e.Essential="essential",e.Functional="functional",e.Analytics="analytics"}(t.EventCategories||(t.EventCategories={})),function(e){e[e.Unsupported=0]="Unsupported"}(t.Errors||(t.Errors={}))},6223:function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name=n.constructor.name,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();e.exports.defined=function(e,t){if(void 0===e)throw new n(t)},e.exports.object=function(e,o){if(void 0!==e&&("object"!==(void 0===e?"undefined":t(e))||Array.isArray(e)||null===e))throw new n(o)},e.exports.ok=function(e,t){if(!e)throw new n(t)},e.exports.func=function(e,t){if(void 0!==e&&"function"!=typeof e)throw new n(t)},e.exports.boolean=function(e,t){if(void 0!==e&&"boolean"!=typeof e)throw new n(t)},e.exports.number=function(e,t){if(void 0!==e&&"number"!=typeof e)throw new n(t)},e.exports.array=function(e,t){if("function"==typeof Array.isArray){if(!Array.isArray(e))throw new n(t)}else if("[object Array]"!==Object.prototype.toString.call(e))throw new n(t)},e.exports.AssertionError=n},619:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=n(6223),a=n(7898),s=n(6374),c=n(7751),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._publishers=[],this._validators=[],this._defaults={},this._nonEssentialDefaults={},this._events={},this._isMuted=!1,this._eventTransformer=null,this._payloadTransformer=null,this._consentPolicyGetter=null,this._maxBatchSize=null,this._batchQueue=null}return i(e,[{key:"addPublisher",value:function(e){return r.defined(e,"Publisher must be provided"),r.ok("function"==typeof e,"Expected a publisher function"),this._publishers.push(e),this}},{key:"addValidator",value:function(e){return r.defined(e,"Validator must be provided"),r.ok("object"===(void 0===e?"undefined":o(e))&&e,"Expected a validator object"),r.ok(e.execute&&e.match,"Provided validator does not match the interface"),this._validators.push(e),this}},{key:"setDefaults",value:function(e){return r.defined(e,"Defaults must be provided"),r.object(e,"Defaults must be an object"),this._defaults=e,this}},{key:"updateDefaults",value:function(e){return r.defined(e,"Defaults must be provided"),r.object(e,"Defaults must be an object"),Object.assign(this._defaults,e),this}},{key:"updateNonEssentialDefaults",value:function(e){return r.defined(e,"Non-essential Defaults must be provided"),r.object(e,"Non-essential Defaults must be an object"),Object.assign(this._nonEssentialDefaults,e),this}},{key:"setEvents",value:function(e){return r.defined(e,"Events must be provided"),r.object(e,"Events must be an object"),this._events=e,this}},{key:"setDefaultValueTimeout",value:function(e){return r.defined(e,"Default Value Timeout must be provided"),this._defaultValueTimeout=e,this}},{key:"setDefaultContinueOnFail",value:function(e){return r.defined(e,"Default Continue On Fail must be provided"),this._defaultContinueOnFail=e,this}},{key:"setPublisherFailHandler",value:function(e){return r.defined(e,"Publisher Fail Handler must be provided"),this._onPublisherFailHandler=e,this}},{key:"setMuted",value:function(e){return r.defined(e,"Is Muted must be provided"),r.boolean(e,"Is Muted must be a boolean"),this._isMuted=e,this}},{key:"setMaxBatchSize",value:function(e){return r.defined(e,"Max Batch Size must be provided"),r.number(e,"Max Batch Size must be a number"),r.ok(e>0,"Max Batch Size must be higher than 0"),this._maxBatchSize=e,this}},{key:"setGlobalBatchQueue",value:function(e){return r.defined(e,"Global Batch Queue must be provided"),r.ok(e instanceof c,"Global Batch Queue must be an instance of BatchQueue"),this._globalBatchQueue=e,this}},{key:"withEventTransformer",value:function(e){return r.defined(e,"Event Transformer must be provided"),r.func(e,"Event Transformer must be a function"),this._eventTransformer=e,this}},{key:"withPayloadTransformer",value:function(e){return r.defined(e,"Payload Transformer must be provided"),r.func(e,"Payload Transformer must be a function"),this._payloadTransformer=e,this}},{key:"withConsentPolicyGetter",value:function(e){return r.defined(e,"Consent Policy Getter must be provided"),r.func(e,"Consent Policy Getter must be a function"),this._consentPolicyGetter=e,this}},{key:"logger",value:function(e){var t=this,n=new a({publishers:this._publishers,validators:this._validators,defaults:this._defaults,events:this._events,defaultValueTimeout:this._defaultValueTimeout,defaultContinueOnFail:this._defaultContinueOnFail,onPublisherFailHandler:this._onPublisherFailHandler,isMuted:function(){return t._isMuted},eventTransformer:this._eventTransformer,payloadTransformer:this._payloadTransformer,consentPolicyGetter:this._consentPolicyGetter,nonEssentialDefaults:this._nonEssentialDefaults,maxBatchSize:this._maxBatchSize,globalBatchQueue:this._globalBatchQueue},e);return s.manager.notifyLoggerCreated(n),n}}]),e}();e.exports=l},6374:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=n(6223),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}return o(e,[{key:"reset",value:function(){this._handlers=[]}},{key:"onLoggerCreated",value:function(e){var t=this;return i.defined(e,"Handler must be provided."),i.func(e,"Handler must be a function."),this._handlers.push(e),function(){var n=t._handlers.indexOf(e);-1!==n&&t._handlers.splice(n,1)}}},{key:"notifyLoggerCreated",value:function(e){this._handlers.forEach((function(t){return t(e)}))}}]),e}();e.exports={manager:new r,BiLoggerManager:r}},7898:function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=n(6223),a=n(7532),s=a.mapValues,c=a.filterValues,l=n(2603),u=n(6756),p=n(7751),d=n(9155),f=d.shouldMuteByCategory,g=d.shouldMuteNonEssentials,m=d.getPolicy,h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._publishers=t.publishers,this._validators=t.validators||[],this._defaults=t.defaults,this._ownDefaults={},this._events=t.events||{},this._context=n||{},this._defaultValueTimeout=t.defaultValueTimeout||5e3,this._defaultContinueOnFail=t.defaultContinueOnFail||!1,this._onPublisherFailHandler=t.onPublisherFailHandler||e._defaultPublisherFailHandler,this._isMuted=t.isMuted||function(){return!1},this._eventTransformer=t.eventTransformer||function(e){return e},this._payloadTransformer=t.payloadTransformer||function(e){return e},this._consentPolicyGetter=t.consentPolicyGetter||function(){return null},this._nonEssentialDefaults=t.nonEssentialDefaults||{},this._maxBatchSize=t.maxBatchSize||100,this._globalBatchQueue=t.globalBatchQueue}return i(e,[{key:"report",value:function(e){r.defined(e,"Data must be provided"),r.object(e,"Data must be an object");var t=e.src,n=e.evid,i=e.params,a=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["src","evid","params"]);return this.log(o({src:t,evid:n},i),a)}},{key:"log",value:function(e,t,n){var i=this;r.defined(e,"Event object or event key must be provided.");var a=this._extractEventAndContext(e,t,n),s=a.event,c=a.context,l=m(this._consentPolicyGetter),u=o({},this._context,c);if(this._isMuted()||f(l,u.category))return Promise.resolve();if(u.useBatch){var p=this._initQueue(u,l),d=function(e){var t=i._eventTransformer(e,u);return p.feed(t,u)};if(this._globalBatchQueue)return this._getDefaults(this._defaults).then((function(e){var t=o({},e,i._getDynamicNonEssentialDefaults(l),i._getStaticNonEssentialDefaults(l),s,i._getPolicyFields(l,u.category));return d(t)}));var g=o({},this._getDynamicDefaults(this._defaults),this._getDynamicNonEssentialDefaults(l),s,this._getPolicyFields(l,u.category));return d(g)}return this._getDefaults(this._defaults).then((function(e){var t=Object.assign(e,i._getDynamicNonEssentialDefaults(l),i._getStaticNonEssentialDefaults(l),s,i._getPolicyFields(l,u.category));if(!(0===i._validators.length||i._validators.some((function(e){return e.match(t)&&(e.execute(t)||!0)}))))throw new Error("No validator accepted the event. Source: "+t.src+" Evid: "+(t.evid||t.evtId));var n=i._eventTransformer(t,u);return n=i._payloadTransformer(n,u),i._send(n,u)}))}},{key:"flush",value:function(){return this._queue?this._queue.flush():Promise.resolve()}},{key:"updateDefaults",value:function(e){return r.defined(e,"Defaults must be provided"),r.object(e,"Defaults must be an object"),Object.assign(this._ownDefaults,e),this}},{key:"_send",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Promise.all(this._publishers.map((function(i){var r=o({},e);return Promise.resolve().then((function(){return i(r,n)})).catch((function(n){return t._onPublisherFailHandler(n,{publisherName:i.name,payload:e})}))}))).then((function(){}))}},{key:"_extractEventAndContext",value:function(e,t,n){var i=void 0,a={};if("string"!=typeof e)i=e,a=t||a;else{if(!(i=this._events[e]))throw new r.AssertionError("Event with key '"+e+"' not found in event map.");t&&(i=o({},i,t),a=n||a)}return{event:i,context:a}}},{key:"_initQueue",value:function(e,t){var n=this;if(this._queue)return this._queue;this._queue=this._globalBatchQueue||new p;return this._queue.init({delayMs:!0===e.useBatch?300:e.useBatch,maxBatchSize:this._maxBatchSize,useThrottle:!!this._globalBatchQueue,optimizeBatch:!!this._globalBatchQueue},(function(o){n._globalBatchQueue||(o.g=Object.assign(n._getStaticDefaults(n._defaults),n._getStaticNonEssentialDefaults(t)));var i=n._payloadTransformer(o,e);return n._send(i,e)})),this._queue}},{key:"_handleDefaultsError",value:function(e){return this._defaultContinueOnFail?(u.error(e),null):Promise.reject(e)}},{key:"_getDynamicNonEssentialDefaults",value:function(e){if(!g(e))return this._getDynamicDefaults(this._nonEssentialDefaults)}},{key:"_getStaticNonEssentialDefaults",value:function(e){if(!g(e))return this._getStaticDefaults(this._nonEssentialDefaults)}},{key:"_withOwnDefaults",value:function(e){return Object.assign({},e,this._ownDefaults)}},{key:"_getDynamicDefaults",value:function(e){e=this._withOwnDefaults(e);var t=c(e,(function(e){return"function"==typeof e}));return s(t,(function(e){return e()}))}},{key:"_getStaticDefaults",value:function(e){return e=this._withOwnDefaults(e),c(e,(function(e){return"function"!=typeof e}))}},{key:"_getDefaults",value:function(e){var t=this;if(!(e=this._withOwnDefaults(e)))return Promise.resolve({});var n=s(e,(function(e,n){if("function"==typeof e)try{e=e()}catch(e){return t._handleDefaultsError(e)}return e&&"function"==typeof e.then?l.timedPromise(e,{message:"Cannot get default value '"+n+" for BI Event'",timeout:t._defaultValueTimeout}).catch((function(e){return t._handleDefaultsError(e)})):e}));return l.allAsObject(n)}},{key:"_encodePolicyValue",value:function(e,t){return e?"boolean"==typeof e[t]?e[t]?1:0:e[t]:1}},{key:"_getPolicyFields",value:function(e,t){return{_isca:this._encodePolicyValue(e,"analytics"),_iscf:this._encodePolicyValue(e,"functional"),_ispd:e.__default?1:0,_ise:"essential"===t?1:0}}}],[{key:"_defaultPublisherFailHandler",value:function(e,t){return t.publisherName}}]),e}();e.exports=h},9155:function(e){"use strict";var t={functional:!0,analytics:!0,__default:!0},n=function(e){return!1===e.functional||!1===e.analytics};e.exports={shouldMuteNonEssentials:n,shouldMuteByCategory:function(e,t){return"essential"!==t&&("functional"===t||"analytics"===t?!1===e[t]:n(e))},getPolicy:function(e){return"function"==typeof e&&e()||t}}},1746:function(e,t,n){"use strict";var o=n(619),i=n(7898),r=n(6374),a=n(7751);e.exports.BiLoggerFactory=o,e.exports.BiLogger=i,e.exports.BiLoggerManager=r.BiLoggerManager,e.exports.factory=function(){return new o},e.exports.manager=r.manager,e.exports.createBatchQueue=function(){return new a}},7751:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var a=n(5854),s=n(6959),c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initilized=!1}return o(e,[{key:"_reset",value:function(){var e=this;this._startTime=Date.now(),this._resolve=null,this._promise=new Promise((function(t){return e._resolve=t}))}},{key:"init",value:function(e,t){var n=this,o=e.delayMs,i=e.maxBatchSize,r=e.useThrottle,c=e.optimizeBatch;this._initilized||(this._maxBatchSize=i,this._optimizeBatch=c,this._queue=[],this._flushHandler=t,this._flushDebounced=r?s((function(){return n.flush()}),o):a((function(){return n.flush()}),o),this._initilized=!0,this._reset())}},{key:"flush",value:function(){if(!this._queue.length)return Promise.resolve();var e=this._queue.splice(0,this._queue.length),t=this._resolve,n=this._startTime;this._reset();var o=function(e,t){return{dt:Date.now()-t,e:e,g:{}}}(e,n);return this._optimizeBatch&&(o=function(e){var t={},n=e.e.length,o=e.e.map((function(e){var n=Object.keys(e.f).map((function(n){var o=e.f[n],i=n+"|"+o;return t[i]=t[i]||0,t[i]++,[n,o,i]}));return r({},e,{f:n})})),a={};return o=o.map((function(e){var o=e.f.reduce((function(e,o){var r=i(o,3),s=r[0],c=r[1],l=r[2];return t[l]===n?a[s]=c:e[s]=c,e}),{});return r({},e,{f:o})})),r({},e,{e:o,g:a})}(o)),this._flushHandler(o).then(t)}},{key:"feed",value:function(e,t){return this._queue.push(function(e,t,n){return{dt:Date.now()-n,f:e,context:t}}(e,t,this._startTime)),this._queue.length===this._maxBatchSize?this.flush():(this._flushDebounced(),this._promise)}}]),e}();e.exports=c},7532:function(e){"use strict";e.exports.mapValues=function(e,t){return e?Object.keys(e).reduce((function(n,o){return n[o]=t(e[o],o,e),n}),{}):{}},e.exports.filterValues=function(e,t){return e?Object.keys(e).reduce((function(n,o){return t(e[o],o,e)&&(n[o]=e[o]),n}),{}):{}}},5854:function(e){"use strict";e.exports=function(e,t,n){var o=void 0;return function(){var i=this,r=arguments,a=function(){o=null,n||e.apply(i,r)},s=n&&!o;clearTimeout(o),o=setTimeout(a,t),s&&e.apply(i,r)}}},6756:function(e){"use strict";e.exports={error:function(){var e;console&&console.error&&(e=console).error.apply(e,arguments)}}},2603:function(e){"use strict";e.exports.timedPromise=function(e,t){var n=t.message,o=t.timeout,i=new Promise((function(e,t){setTimeout(t,o,n?"Timeout: "+n:"Timeout")}));return Promise.race([e,i])},e.exports.allAsObject=function(e){var t=Object.keys(e);return Promise.all(t.map((function(t){return e[t]}))).then((function(e){return e.reduce((function(e,n,o){return e[t[o]]=n,e}),{})}))}},6959:function(e){"use strict";e.exports=function(e,t){var n=void 0;return function(){for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];n||(n=setTimeout((function(){e.apply(void 0,i),n=null}),t))}}},8144:function(e,t,n){var o;/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */e=n.nmd(e),function(i){var r=t,a=(e&&e.exports,"object"==typeof n.g&&n.g);a.global!==a&&a.window;var s=function(e){this.message=e};(s.prototype=new Error).name="InvalidCharacterError";var c=function(e){throw new s(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,p={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,o,i,r=e.length%3,a="",s=-1,u=e.length-r;++s<u;)t=e.charCodeAt(s)<<16,n=e.charCodeAt(++s)<<8,o=e.charCodeAt(++s),a+=l.charAt((i=t+n+o)>>18&63)+l.charAt(i>>12&63)+l.charAt(i>>6&63)+l.charAt(63&i);return 2==r?(t=e.charCodeAt(s)<<8,n=e.charCodeAt(++s),a+=l.charAt((i=t+n)>>10)+l.charAt(i>>4&63)+l.charAt(i<<2&63)+"="):1==r&&(i=e.charCodeAt(s),a+=l.charAt(i>>2)+l.charAt(i<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(u,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var n,o,i=0,r="",a=-1;++a<t;)o=l.indexOf(e.charAt(a)),n=i%4?64*n+o:o,i++%4&&(r+=String.fromCharCode(255&n>>(-2*i&6)));return r},version:"1.0.0"};void 0===(o=function(){return p}.call(t,n,t,e))||(e.exports=o)}()},9456:function(e,t){var n="undefined"!=typeof self?self:this,o=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,o="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),r="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,o=f(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=g(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=l(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[l(e)]},d.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},d.prototype.set=function(e,t){this.map[l(e)]=u(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},o&&(d.prototype[Symbol.iterator]=d.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,o,i=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(n=t.method||this.method||"GET",o=n.toUpperCase(),b.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(i))}})),t}function P(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},P.error=function(){var e=new P(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];P.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new P(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function D(e,n){return new Promise((function(o,r){var a=new v(e,n);if(a.signal&&a.signal.aborted)return r(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),o=n.shift().trim();if(o){var i=n.join(":").trim();t.append(o,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;o(new P(i,n))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.onabort=function(){r(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}D.polyfill=!0,e.fetch||(e.fetch=D,e.Headers=d,e.Request=v,e.Response=P),t.Headers=d,t.Request=v,t.Response=P,t.fetch=D,Object.defineProperty(t,"__esModule",{value:!0})}({})}(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var i=o;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},3158:function(e){var t,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var s,c=[],l=!1,u=-1;function p(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&d())}function d(){if(!l){var e=a(p);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},4819:function(e,t,n){var o=n(8633),i=n(2516),r=i;r.v1=o,r.v4=i,e.exports=r},26:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var o=n||0,i=t;return i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+"-"+i[e[o++]]+i[e[o++]]+"-"+i[e[o++]]+i[e[o++]]+"-"+i[e[o++]]+i[e[o++]]+"-"+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]}},1814:function(e,t,n){var o,i=n.g.crypto||n.g.msCrypto;if(i&&i.getRandomValues){var r=new Uint8Array(16);o=function(){return i.getRandomValues(r),r}}if(!o){var a=new Array(16);o=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}e.exports=o},8633:function(e,t,n){var o=n(1814),i=n(26),r=o(),a=[1|r[0],r[1],r[2],r[3],r[4],r[5]],s=16383&(r[6]<<8|r[7]),c=0,l=0;e.exports=function(e,t,n){var o=t&&n||0,r=t||[],u=void 0!==(e=e||{}).clockseq?e.clockseq:s,p=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:l+1,f=p-c+(d-l)/1e4;if(f<0&&void 0===e.clockseq&&(u=u+1&16383),(f<0||p>c)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,l=d,s=u;var g=(1e4*(268435455&(p+=122192928e5))+d)%4294967296;r[o++]=g>>>24&255,r[o++]=g>>>16&255,r[o++]=g>>>8&255,r[o++]=255&g;var m=p/4294967296*1e4&268435455;r[o++]=m>>>8&255,r[o++]=255&m,r[o++]=m>>>24&15|16,r[o++]=m>>>16&255,r[o++]=u>>>8|128,r[o++]=255&u;for(var h=e.node||a,y=0;y<6;++y)r[o+y]=h[y];return t||i(r)}},2516:function(e,t,n){var o=n(1814),i=n(26);e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[r+s]=a[s];return t||i(a)}},9479:function(t){"use strict";t.exports=e},3213:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6820:function(e){e.exports=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},1404:function(e,t,n){var o;if("function"==typeof fetch&&(o=void 0!==n.g&&n.g.fetch?n.g.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),"undefined"==typeof window||void 0===window.document){var i=o||n(9456);i.default&&(i=i.default),t.default=i,e.exports=t.default}},2799:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var i=Object.create(null);r.r(i);var a={};t=t||[null,n({}),n([]),n(n)];for(var s=2&o&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((function(t){a[t]=function(){return e[t]}}));return a.default=function(){return e},r.d(i,a),i},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var a={};return function(){"use strict";r.r(a),r.d(a,{editorReady:function(){return bp},exports:function(){return mp},getAppManifest:function(){return wp},getControllerPresets:function(){return hp},onEvent:function(){return vp}});var e={};r.r(e),r.d(e,{getDefinition:function(){return cn},ids:function(){return sn}});var t={};r.r(t),r.d(t,{getDefinition:function(){return un},ids:function(){return ln}});var n={};r.r(n),r.d(n,{getDefinition:function(){return dn},ids:function(){return pn}});var o={};r.r(o),r.d(o,{getDefinition:function(){return gn},ids:function(){return fn}});var i={};r.r(i),r.d(i,{getDefinition:function(){return hn},ids:function(){return mn}});var s={};r.r(s),r.d(s,{getDefinition:function(){return bn},ids:function(){return yn}});var c={};r.r(c),r.d(c,{getDefinition:function(){return wn},ids:function(){return vn}});var l={};r.r(l),r.d(l,{getDefinition:function(){return Sn},ids:function(){return Pn}});var u={};r.r(u),r.d(u,{getDefinition:function(){return In},ids:function(){return Dn}});var p={};r.r(p),r.d(p,{getDefinition:function(){return An},ids:function(){return _n}});var d={};r.r(d),r.d(d,{getDefinition:function(){return On},ids:function(){return xn}});var f={};r.r(f),r.d(f,{getDefinition:function(){return Mn},ids:function(){return Rn}});var g={};r.r(g),r.d(g,{getDefinition:function(){return Cn},ids:function(){return Tn}});var m={};r.r(m),r.d(m,{getDefinition:function(){return kn},ids:function(){return En}});var h={};r.r(h),r.d(h,{getDefinition:function(){return Ln},ids:function(){return jn}});var y={};r.r(y),r.d(y,{getDefinition:function(){return Nn},ids:function(){return Bn}});var b={};r.r(b),r.d(b,{getDefinition:function(){return Un},ids:function(){return Kn}});var v={};r.r(v),r.d(v,{getDefinition:function(){return Hn},ids:function(){return Fn}});var w={};r.r(w),r.d(w,{getDefinition:function(){return Gn},ids:function(){return Wn}});var P={};r.r(P),r.d(P,{getDefinition:function(){return Vn},ids:function(){return qn}});var S={};r.r(S),r.d(S,{getDefinition:function(){return $n},ids:function(){return zn}});var D={};r.r(D),r.d(D,{getDefinition:function(){return Xn},ids:function(){return Jn}});var I={};r.r(I),r.d(I,{getDefinition:function(){return Yn},ids:function(){return Qn}});var _={};r.r(_),r.d(_,{getDefinition:function(){return eo},ids:function(){return Zn}});var A=r(448),x=r.n(A),O=r(9186);const R={appDefinitionId:"14dbef06-cc42-5583-32a7-3abd44da4908",pageId:"about"},M={appDefinitionId:O.xA},T={appDefinitionId:O.dn,pageId:"member-likes-page"},C={appDefinitionId:O.dn,pageId:"member-comments-page"},E={appDefinitionId:O.dn,pageId:"member-posts-page"},k={appDefinitionId:"1537b24e-29d1-6d8f-b8e1-d6860f2f70b9",pageId:"wix_file_share_members_page"},j={appDefinitionId:"14ebe801-d78a-daa9-c9e5-0286a891e46f",pageId:"following_followers"},L={appDefinitionId:O.tt,pageId:"member-comments-page"},B={appDefinitionId:O.tt,pageId:"member-posts-page"},N={appDefinitionId:O.DI,pageId:"bookings_member_area"},K={appDefinitionId:O.dn,pageId:"member-drafts-page"},U={appDefinitionId:O.dn,pageId:"My Posts"},F={appDefinitionId:O.sV,pageId:"events_members_page"},H={appDefinitionId:O.ZJ,pageId:"order_history"},W={appDefinitionId:O.ZJ,pageId:"wishlist"},G={appDefinitionId:O.wn,pageId:"notifications_app"},q="",V="7710f007-cbdb-4b77-bb8b-fd4d65424ab1",z=980,$={type:"Component",skin:"platform.components.skins.controllerSkin",layout:{width:40,height:40,x:20,y:15,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"platform.components.AppController",data:{type:"AppController",applicationId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",name:"Members controller",controllerType:"members"},style:{type:"TopLevelStyle",style:{groups:{},properties:{"alpha-bg":"1","alpha -bgh":"1","alpha - brd":"1","alpha - brdh":"1","alpha - txt":"1","alpha - txth":"1",bg:"#3D9BE9",bgh:"#2B689C","boxShadowToggleOn -shd":"false",brd:"#2B689C",brdh:"#3D9BE9",brw:"0px",fnt:"normal normal normal 14px/1.4em raleway",rd:"20px",shd:"0 1px 4px rgba(0, 0, 0, 0.6);",txt:"#FFFFFF",txth:"#FFFFFF"},propertiesSource:{bg:"value",bgh:"value",brd:"value",brdh:"value",brw:"value",fnt:"value",rd:"value",shd:"value",txt:"value",txth:"value"}},componentClassName:"platform.components.AppController",skin:"platform.components.skins.controllerSkin"}},J={type:"Component",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",layout:{width:120,height:40,x:850,y:24,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.LoginSocialBar",data:{type:"LoginSocialBar",loggedInMember:"avatarOnly",loggedOutText:"Log In",showLoggedInText:!1,loggedInText:"Hello",logOutText:"Log Out",menuItemsRef:null,iconItemsRef:null,language:"en",role:"members_login"},props:{type:"LoginSocialBarProperties",buttonsDirection:"ltr",iconSize:26,dropDownTextAlignment:"left",buttonsAlignment:"right"},style:{type:"TopLevelStyle",style:{properties:{"alpha-bg":"0","alpha-brd":"1","alpha-brd-dd":"0.2","badge-bg":"#E21C21","badge-txt":"color_11",bg:"color_11","bg-dd":"color_11","boxShadowToggleOn-shd":"false","boxShadowToggleOn-shd-dd":"false",brd:"color_15","brd-dd":"color_15",brw:"0","brw-dd":"1px",fillcolor:"color_18",fnt:"font_8","fnt-size-dd":"15px",rd:"0px","rd-dd":"0px",shd:"0 0 0 transparent","shd-dd":"0 0 0 transparent",txt:"color_18","txt-dd":"color_15",txth:"color_19","txth-dd":"color_19","txt-slct-dd":"color_19",avatarAndArrowStrokeWidth:"0",avatarCornerRadius:"100px"},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.LoginSocialBar",pageId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin"}},X={layout:{x:810,y:24,fixedPosition:!1,width:120,height:40,scale:1,rotationInDegrees:0},componentType:"wysiwyg.viewer.components.LoginSocialBar",type:"Component",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",data:{type:"LoginSocialBar",loggedInMember:"avatarOnly",loggedOutText:"Log In",showLoggedInText:!1,loggedInText:"Hello",logOutText:"Log Out",menuItemsRef:null,iconItemsRef:null,language:"en",role:"members_login"},props:{type:"LoginSocialBarProperties",buttonsDirection:"ltr",iconSize:26,dropDownTextAlignment:"left",buttonsAlignment:"right"},style:{type:"TopLevelStyle",style:{properties:{"alpha-bg":"0","alpha-brd":"1","alpha-brd-dd":"0.2","badge-bg":"#E21C21","badge-txt":"color_11",bg:"color_11","bg-dd":"color_11","boxShadowToggleOn-shd":"false","boxShadowToggleOn-shd-dd":"false",brd:"color_15","brd-dd":"color_15",brw:"0","brw-dd":"1px",fillcolor:"color_18",fnt:"font_8","fnt-size-dd":"15px",rd:"0px","rd-dd":"0px",shd:"0 0 0 transparent","shd-dd":"0 0 0 transparent",txt:"color_18","txt-dd":"color_15",txth:"color_19","txth-dd":"color_19","txt-slct-dd":"color_19",avatarAndArrowStrokeWidth:"0",avatarCornerRadius:"100px"},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.LoginSocialBar",pageId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin"},connections:{type:"ConnectionList",items:[{type:"WixCodeConnectionItem",role:"loginSocialBar1"},{type:"ConnectionItem",role:"members_login",config:"{}",controllerId:"dataItem-j6gb4xg1"}]},activeModes:{"masterPage-mode-j6gb4xmc":{modeType:"SHOW_ON_SOME_PAGES"}}},Q={type:"Component",layout:{width:250,height:94,x:20,y:275,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu",data:{type:"CustomMenuDataRef",menuRef:"#MEMBERS_SUB_MENU",role:"members_menu"},props:{type:"VerticalMenuProperties",itemsAlignment:"left",subMenuOpenSide:"right",originalHeight:210,menuItemHeight:40},style:{type:"TopLevelStyle",style:{properties:{SKINS_bgSubmenu:"#FFFFFF",SKINS_fntSubmenu:"font_8",SKINS_submenuBR:"0",SKINS_submenuMargin:"0","alpha-SKINS_bgSubmenu":"1","alpha-bg":"1","alpha-bgh":"1","alpha-bgs":"1","alpha-brd":"0.2","alpha-sep":"1",bg:"color_11",bgh:"color_11",bgs:"color_11","boxShadowToggleOn-shd":"false",brd:"color_15",brw:"1px",fnt:"font_8",rd:"0",sep:"color_15",sepw:"0",shd:"0",textSpacing:"30",txt:"color_15",txth:"color_14",txts:"color_18"},propertiesSource:{SKINS_bgSubmenu:"theme",SKINS_fntSubmenu:"theme",SKINS_submenuBR:"value",SKINS_submenuMargin:"value","alpha-SKINS_bgSubmenu":"value","alpha-bg":"value","alpha-bgh":"value","alpha-bgs":"value","alpha-brd":"value","alpha-sep":"value",bg:"theme",bgh:"theme",bgs:"theme","boxShadowToggleOn-shd":"value",brd:"theme",brw:"value",fnt:"theme",rd:"value",sep:"theme",sepw:"value",shd:"value",textSpacing:"value",txt:"theme",txth:"value",txts:"value"},groups:{}},componentClassName:"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu",pageId:"",compId:"i765dc0m",styleType:"custom",skin:"wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuSolidColorSkin"},id:"i765dc0m"},Y=x()({},Q,{componentType:"wysiwyg.viewer.components.menus.DropDownMenu",layout:{width:956,height:40,x:12,y:250,scale:1,rotationInDegrees:0,fixedPosition:!1},style:{type:"TopLevelStyle",style:{properties:{"boxShadowToggleOn-shd":"true","alpha-bgDrop":"1","alpha-brdh":"1","alpha-brd":"0","alpha-brds":"1",bgDrop:"color_11",bg:"color_11",brd:"color_15",brdh:"color_17",brds:"color_18",fnt:"font_8",menuTotalBordersX:"0",pad:"10",rd:"0px",shd:"0px 1px 4px 0px rgba(0,0,0,0.2)",txt:"color_15",txth:"color_17",txts:"color_18"},propertiesSource:{"boxShadowToggleOn-shd":"value","alpha-bgDrop":"value","alpha-brd":"value","alpha-brdh":"value","alpha-brds":"value",bgDrop:"theme",bg:"theme",brd:"theme",brdh:"theme",brds:"theme",fnt:"theme",menuTotalBordersX:"value",pad:"value",rd:"value",shd:"value",txt:"theme",txth:"theme",txts:"theme"}},styleType:"custom",componentClassName:"wysiwyg.viewer.components.menus.DropDownMenu",skin:"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin"},props:{type:"HorizontalMenuProperties",alignButtons:"left",alignText:"left",sameWidthButtons:!1,stretchButtonsToMenuWidth:!1,moreButtonLabel:"More",moreItemHeight:15}}),Z=x()({},Q,{props:x()({},Q.props,{itemsAlignment:"right"})}),ee=x()({},Y,{props:x()({},Y.props,{itemsAlignment:"right",alignButtons:"right",alignText:"right"})}),te="MEMBERS_SUB_MENU",ne="MEMBERS_LOGIN_MENU",oe="MEMBERS_LOGIN_ICONS_MENU",ie={componentType:"wysiwyg.viewer.components.SiteRegionContainer",layout:{x:0,y:0,fixedPosition:!1,width:291,height:451,scale:1,rotationInDegrees:0},type:"Container",components:[],style:{type:"TopLevelStyle",id:"c1",style:{properties:{"alpha-bg":0,"alpha-brd":"1",bg:"color_1","boxShadowToggleOn-shd":!1,brd:"color_15",brw:"0",rd:"0px",shd:"0px 0px 0px 0px rgba(0,0,0,0)"},propertiesSource:{bg:"theme",brd:"theme",brw:"value",rd:"value",shd:"value"},groups:{}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin"},activeModes:{}},re=x()({},ie,{layout:{x:0,y:0,fixedPosition:!1,width:z,height:290,scale:1,rotationInDegrees:0},style:{type:"TopLevelStyle",style:{properties:{"alpha-bg":1,"alpha-brd":"1",bg:"color_11","boxShadowToggleOn-shd":!1,brd:"color_15",brw:"0",rd:"0px",shd:"0px 0px 0px 0px rgba(0,0,0,0)"},propertiesSource:{"alpha-bg":"value","alpha-brd":"value",bg:"theme",brd:"theme",brw:"value",rd:"value",shd:"value","boxShadowToggleOn-shd":"value"},groups:{}},componentClassName:"wysiwyg.viewer.components.menus.DropDownMenu",styleType:"system",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin"}}),ae={prefix:"account",group:"members",config:{type:"private"},patterns:{}},se={prefix:"profile",group:"members",config:{type:"public"},patterns:{}},ce={desktop:{minHeight:880},mobile:{minHeight:300}},le={x:300,y:60,width:660,height:600},ue={x:0,y:290,width:z,height:600},pe="members_pages_group",de="CONTROLLER_COMP_CUSTOM_ID",fe="SOSP_CONTAINER_CUSTOM_ID",ge={appDefinitionId:"14ce28f7-7eb0-3745-22f8-074b0e2401fb"},me={type:"LayoutData",componentLayouts:[{type:"ComponentLayout",height:{type:"px",value:250},width:{type:"auto"}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"stretch",alignSelf:"stretch",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:0}}}],containerLayouts:[]},he={x:20,y:60,width:250,height:183},ye={x:0,y:0,width:z,height:250},be="none",ve="password",we="14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",Pe="14cffd81-5215-0a7f-22f8-074b0e2401fb",Se="b976560c-3122-4351-878f-453f337b7245",De=function(e){return void 0===e&&(e={}),x()({},le,{appDefinitionId:Pe,pageId:"member_info",menuOrder:3,social:!1,shouldNavigate:"EDITOR"===e.initiator,showInLoginMenu:!0,showInMemberMenu:!0,urlOverride:"my-account",method:"addApplication"})},Ie=[O.dn,O.tt,O.sV,O.qq,"14dbef06-cc42-5583-32a7-3abd44da4908","14ebe801-d78a-daa9-c9e5-0286a891e46f"],_e=["member_info","notifications_app","settings","wishlist"],Ae=[R],xe=[j],Oe=M.appDefinitionId,Re="all_members";let Me,Te;function Ce(e){try{Me.interactionStarted(e)}catch(e){var t;const n="Failed to start fedops interaction, reason: "+e;null==(t=Te)||t.captureException(n)}}function Ee(e){try{Me.interactionEnded(e)}catch(e){var t;const n="Failed to end fedops interaction, reason: "+e;null==(t=Te)||t.captureException(n)}}function ke(e,t){var n;null==(n=Te)||n.captureException(t,{tags:{interactionName:e}})}async function je(e,t){try{Ce(e);const n=await t();return Ee(e),n}catch(t){throw ke(e,t),t}}function Le(e,t){var n;void 0===t&&(t={}),null==(n=Te)||n.captureMessage(e,x()({level:"info"},t))}var Be=function(e,t){return Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Be(e,t)};function Ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Be(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ke=function(){return Ke=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ke.apply(this,arguments)};function Ue(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))}function Fe(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}Object.create;function He(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function We(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}var Ge;Object.create;!function(e){e.Default="",e.OwnerAccount="owner-account"}(Ge||(Ge={}));var qe="__WIXEXP_USE_NEW_API",Ve="__WIXEXP_CONDUCTION_METHOD_",ze="__WIXEXP_OWNER_ACCOUNT_ID_",$e="__WIXEXP_LOGGED_IN_USER_ID_";function Je(e,t,n){var o,i;if("undefined"!=typeof self)if("function"==typeof n){if(void 0!==n(self[t]))return(o={})[e]=n(self[t]),o}else if(typeof self[t]===n)return(i={})[e]=self[t],i;return{}}var Xe=function(e){return Object.keys(Ge).filter((function(t){return Ge[t]===e})).length>0?e:void 0};function Qe(e){return function(e){return e.conductionMethod===Ge.OwnerAccount&&e.siteOwnerId&&e.loggedInUserId}(e)?{forSiteOwner:{siteOwnerId:e.siteOwnerId,loggedInUserId:e.loggedInUserId}}:{}}var Ye=function(e){return"string"==typeof e&&""!==e};function Ze(e){void 0===e&&(e={});var t=e.forSiteOwner,n=e.forSiteVisitors,o=e.overrideCriteria,i="";if(["forSiteOwner","forSiteVisitors"].reduce((function(t,n){return e[n]?t+1:t}),0)>1)throw new Error('Only one of "forSiteOwner" or "forSiteVisitors" is accepted.');return t&&(i+=function(e){return Ye(e.loggedInUserId)&&Ye(e.siteOwnerId)?"&requestContext.forSiteOwner.loggedInUserId="+e.loggedInUserId+"&requestContext.forSiteOwner.siteOwnerId="+e.siteOwnerId:""}(t)),n&&(i+=function(e){return Ye(e.visitorId)&&Ye(e.siteOwnerId)?"&requestContext.forSiteVisitors.visitorId="+e.visitorId+"&requestContext.forSiteVisitors.siteOwnerId="+e.siteOwnerId:""}(n)),o&&(i+=function(e){return Ye(e.entityId)?"&requestContext.overrideCriteria.entityId="+e.entityId:""}(o)),i}function et(e){if("string"==typeof e)try{return JSON.parse(e)}catch(e){}return e}var tt={conductAllInScope:"/_api/wix-laboratory-server/v1/laboratory/platform/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/v1/laboratory/platform/conductExperiment"},nt={conductAllInScope:"/_api/wix-laboratory-server/laboratory/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/laboratory/conductExperiment"};function ot(e,t){return-1!==e.indexOf(t?tt.conductAllInScope:nt.conductAllInScope)}var it=function(e,t,n){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=!1),n?tt.conductExperiment+"?key="+encodeURIComponent(e)+"&fallbackValue="+encodeURIComponent(t):nt.conductExperiment+"?key="+encodeURIComponent(e)+"&fallback="+encodeURIComponent(t)};function rt(e,t,n){var o=""+it(t,"",n);return e.includes(o)}var at=function(){function e(){this.urlMap=new Map,this.pendingUrlMap=new Map}return e.prototype.addUrlRequest=function(e,t){return Ue(this,void 0,void 0,(function(){var n=this;return Fe(this,(function(o){switch(o.label){case 0:return this.pendingUrlMap.set(e,t),[4,t.then((function(t){return n.addUrlResponse(e,t)}))];case 1:return o.sent(),[2]}}))}))},e.prototype.addUrlResponse=function(e,t){this.urlMap.set(e,t)},e.prototype.getUrlResponse=function(e){return this.urlMap.get(e)},e.prototype.getUrlRequest=function(e){return this.pendingUrlMap.get(e)},e.prototype.getExperimentValue=function(e,t){var n,o;try{for(var i=He(this.urlMap.keys()),r=i.next();!r.done;r=i.next()){var a=r.value;if(rt(a,e,t))return this.urlMap.get(a);if(ot(a,t)){var s=et(this.urlMap.get(a));if("object"==typeof s&&e in s)return s[e]}}}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},e}();!function(){function e(){}e.prototype.addUrlRequest=function(){},e.prototype.addUrlResponse=function(){},e.prototype.getUrlResponse=function(){},e.prototype.getUrlRequest=function(){},e.prototype.getExperimentValue=function(){}}();function st(){return void 0===self.experimentsCacheV2&&(self.experimentsCacheV2=new at),self.experimentsCacheV2}var ct=function(){function e(e){var t;this.experiments=null!==(t=e.experiments)&&void 0!==t?t:{}}return e.prototype.get=function(e){return this.experiments[e]},e.prototype.enabled=function(e){return"true"===this.get(e)},e.prototype.pending=function(){return!1},e.prototype.ready=function(){return Promise.resolve()},e.prototype.all=function(){return this.experiments},e}(),lt=function(){},ut=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this,o=Ke(Ke(Ke(Ke({},Je("useNewApi",qe,"boolean")),Je("conductionMethod",Ve,Xe)),Je("siteOwnerId",ze,"string")),Je("loggedInUserId",$e,"string"));return n.useNewApi=void 0!==t.useNewApi?t.useNewApi:o.useNewApi||!1,n.experiments=t.experiments||{},n.loaders=new Map,n.baseUrl=(n.useNewApi,t.baseUrl||""),n.requestContext=t.requestContext||Qe(o),n.onError=t.onError||lt,t.scope&&n.load(t.scope),t.scopes&&t.scopes.forEach(n.load.bind(n)),n}return Ne(t,e),t.prototype.add=function(e){this.experiments=Ke(Ke({},this.experiments),e)},t.prototype._addLoader=function(e,t){var n=this;return this.loaders.set(e,t),t.then((function(){n.loaders.delete(e)})),t},t.prototype._getUrlWithFallback=function(e,t){var n=this,o=st().getUrlResponse(e);if(void 0!==o)return Promise.resolve(o);var i=st().getUrlRequest(e);if(void 0!==i)return i;var r=this.loaders.get(e);if(void 0!==r)return r;var a=function(e){return new Promise((function(t,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="text",o.withCredentials=!0,o.onload=function(){o.status>=200&&o.status<400?t(o.responseText):n(new Error("Failed to load "+e+", status "+o.status))},o.onerror=function(){return n(new Error("Failed to load "+e))},o.send()}))}(e);return st().addUrlRequest(e,a),a.catch((function(e){return n.onError(e),t}))},t.prototype.load=function(e){var t=this,n=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),t?tt.conductAllInScope+"?scope="+encodeURIComponent(e):nt.conductAllInScope+"?scope="+encodeURIComponent(e)}(e,this.useNewApi),o=this.useNewApi?Ze(this.requestContext):"",i=""+this.baseUrl+n+o,r=this._getUrlWithFallback(i,"{}").then((function(e){return et(e)})).then((function(e){return t.useNewApi?e.values:e})).then((function(e){return t.add(e),e}));return this._addLoader(i,r)},t.prototype.conduct=function(e,t){var n=this,o=st().getExperimentValue(e,this.useNewApi);if(void 0!==o)return this._addConductResult(e,o);var i=it(e,t,this.useNewApi),r=this.useNewApi?Ze(this.requestContext):"",a=""+this.baseUrl+i+r,s=this._getUrlWithFallback(a,null!=t?t:"").then((function(t){return n._addConductResult(e,t)}));return this._addLoader(a,s)},t.prototype.pending=function(){return!!this.loaders.size},t.prototype.ready=function(){return Promise.all(Array.from(this.loaders.values()))},t.prototype._addConductResult=function(e,t){var n,o=this.useNewApi?JSON.parse(t).value:t;return this.add(((n={})[e]=o,n)),Promise.resolve(o)},t}(ct);let pt;async function dt(){pt||(pt=new ut({scope:"members-area"})),await pt.ready()}async function ft(){return await dt(),"true"===pt.get("specs.membersArea.ADIHorizontalLayout")}async function gt(){return await dt(),"true"===pt.get("specs.membersArea.AddUninstallMAAction")}async function mt(){return await dt(),"true"===pt.get("specs.membersArea.myBusinessOpenMembersAccountBmDashboard")}async function ht(){return await dt(),"true"===pt.get("specs.membersArea.generalSettings")}async function yt(){return await dt(),"true"===pt.get("specs.membersArea.disableParallelAppInstall")}async function bt(){return await dt(),"true"===pt.get("specs.membersArea.profilePageBoBInstallation")}let vt={isDeletingSinglePage:!1,isResponsiveEditor:!1,isADI:!1,integratedAppsMap:{},staticsBaseUrl:"",blogWriterProfilesOnly:!1,isUninstalling:!1,editorSDK:void 0,isSuccessfulEditorReady:!0};const wt=e=>{vt=x()({},vt,{integratedAppsMap:e})},Pt=e=>{vt=x()({},vt,{isUninstalling:e})},St=e=>{vt=x()({},vt,{editorSDK:e})},Dt=()=>vt.isResponsiveEditor,It=()=>vt.isADI,_t=()=>vt.staticsBaseUrl,At=()=>vt.integratedAppsMap||{},xt=e=>vt.integratedAppsMap[e]||[],Ot=()=>vt.blogWriterProfilesOnly,Rt=e=>{vt.isSuccessfulEditorReady=e},Mt=(e,t)=>"Timeout monitor: "+e+" - "+t;async function Tt(e,t,n,o){void 0===o&&(o={});const i=await async function(){return await dt(),"true"===pt.get("specs.membersArea.enableTimeoutLogs")}(),r=(e=>"utils.timeoutMonitor."+e)(e);return Ce(r),new Promise((async(a,s)=>{let c=!1;i&&Le(Mt(e,"Invocation"));const l=setTimeout((()=>{i&&Le(Mt(e,"Timeout"),o),console.log("Members Area: Timeout of promise "+e),c=!0}),t);try{const t=await n();c&&i&&Le(Mt(e,"Resolved"),o),clearInterval(l),Ee(r),a(t)}catch(t){var u;if(c)i&&Le(Mt(e,"Rejected"),x()({},o,{extra:x()({},(null==(u=o)?void 0:u.extra)||{},{error:t})}));clearInterval(l),Ee(r),s(t)}}))}var Ct=r(3213),Et=r.n(Ct);const kt=(e,t)=>{const n="undefined"==typeof atob?jt:atob,o=t.split(".").pop();if(!o)return;const i=n(o);return JSON.parse(i)[e]};function jt(e){return r.g.Buffer.from(e,"base64").toString()}var Lt=r(6832),Bt=r.n(Lt),Nt=function(e){return{evid:904,src:69,endpoint:"members-app-users",params:e}},Kt=r(6820),Ut=r.n(Kt),Ft=r(4819),Ht=r.n(Ft),Wt=r(9479),Gt=r.n(Wt);async function qt(e,t,n,o){const i=await e.routers.getByPage(q,{pageRef:t}),r=await e.routers.get(q,{routerRef:i}),a=Gt().find(r.pages,(e=>e.pageRef.id===t.id)),s=null==a?void 0:a.pageRoles[0],c=Gt().findKey(r.config.patterns,(e=>e.page===s)),l=Gt().find(r.config.patterns,(e=>e.page===s));l[n]="string"==typeof o?o:Gt().assign({},l[n],o);const u=r.config;return Gt().set(u,"patterns["+c+"]",l),await e.routers.update(q,{routerRef:i,config:u}),i}async function Vt(e){return await e.routers.getAll(q)}async function zt(e,t,n,o){if(void 0===n&&(n=0),n>3)throw new Error("Can not add router, failed after 3 retries, reason: "+o&&(null==o?void 0:o.toString()));const i=async o=>{const i=await e.routers.getByPrefix(q,{prefix:t.prefix});if(i)return i;let r=t.prefix;return r=r.replace(/\-[0-9]$/,""),r+="-"+ ++n,t.prefix=r,zt(e,t,n,o)},r=await e.routers.add(q,t).catch(i);return await e.routers.get(q,{routerRef:r})?r:i("Router was not added although the installation was successful")}async function $t(e){const t=await e.routers.getAll(q);for(const n of t){const t=await e.routers.getByPrefix(q,{prefix:n.prefix});await e.routers.remove(q,{routerRef:t})}}async function Jt(e){const t=await Vt(e);for(const n of t){const t=await e.routers.getByPrefix(q,{prefix:n.prefix});for(const o of n.pages)await e.routers.pages.remove(q,{routerRef:t,pageRef:o.pageRef})}}const Xt=(e,t)=>{var n;const o=null==(n=t.pages.find((t=>{var n;return(null==(n=t.pageRef)?void 0:n.id)===e.id})))?void 0:n.pageRoles;if(null==o||!o.length||!t.config.patterns)return;return Object.keys(t.config.patterns).find((e=>{var n;return o.includes(null==(n=t.config.patterns[e])?void 0:n.page)}))};function Qt(e,t){void 0===t&&(t="new-page");let n="/"+t,o=1;for(;e.includes(n);)n="/"+t+"-"+o,o++;return n.substring(1)}function Yt(e){let t=e.editorSDK,n=e.prefix;return t.routers.getByPrefix(q,{prefix:n})}function Zt(e){let t=e.editorSDK,n=e.config,o=e.routerRef;return t.routers.update(q,{config:n,routerRef:o})}async function en(e){const t=await Vt(e);if(0===t.length)throw new Error("Could not find both routers in #getMembersAreaRouters");const n=t.find((e=>"public"===e.config.type));if(!n)throw new Error("Could not find the public router in #getMembersAreaRouters");const o=t.find((e=>"private"===e.config.type));if(!o)throw new Error("Could not find the private router in #getMembersAreaRouters");return{publicRouter:n,privateRouter:o}}function tn(e){let t=e.editorSDK,n=e.pages,o=e.pagesUids,i=e.routerRef;const r=n.map(((e,n)=>function(e){let t=e.editorSDK,n=e.pageRef,o=e.pageRoles,i=e.routerRef;return t.routers.pages.connect(q,{pageRef:n,routerRef:i,pageRoles:o})}({editorSDK:t,pageRef:e.pageData.pageRef,pageRoles:[o[n]],routerRef:i})));return Promise.all(r)}async function nn(e){let t=e.editorSDK,n=e.pages,o=e.router;const i=new Array(n.length).fill(null).map((()=>Ht().v4())),r=await Yt({editorSDK:t,prefix:o.prefix}),a=function(e){let t=e.pages,n=e.pagesUids;return t.reduce(((e,t,o)=>{const i=t.pageData,r=i.title,a=i.isPrivate,s=i.pageUriSEO,c=t.urlOverride||s,l=a?"/"+c:"/{userName}/"+c,u=t.routerConfig||{},p=u.appData,d=u.socialHome,f=function(e,t,n){return void 0===n&&(n=!1),{title:t?e:"{userName} | "+e,description:"",keywords:"",noIndex:(t||n).toString()}}(r,a,!0);return e[l]={socialHome:d,appData:p,page:n[o],seoData:f,title:r,pageId:t.routerConfig.pageId},e}),{})}({pages:n,pagesUids:i}),s=o.config.patterns||{},c=x()({},s,a),l=x()({},o.config,{patterns:c});await tn({editorSDK:t,pages:n,pagesUids:i,routerRef:r}),await Zt({editorSDK:t,config:l,routerRef:r});try{const e=(await Vt(t)).find((e=>e.id===o.id));Object.keys(e.config.patterns).length!==e.pages.length&&Le("Router config got out of sync",{extra:{updatedRouter:e}})}catch(e){Le("An error occured when confirming router configuration",{extra:{e:e}})}}const on=async e=>{let t=e.editorSDK,n=e.router,o=e.patternKey;const i=await Yt({editorSDK:t,prefix:n.prefix});return delete n.config.patterns[o],Zt({editorSDK:t,routerRef:i,config:n.config})};function rn(e,t){var n;if(null!=e&&null!=(n=e.config)&&n.patterns)return Object.values(e.config.patterns).find((e=>e.appData.appPageId===t))}const an=({text:e="",bulletPoints:t=[]}={})=>`${e}<ul>${t.map((e=>`<li>${e}</li>`)).join("")}</ul>`,sn=R,cn=(e,t)=>Object.assign(Object.assign({},R),{method:"addApplication",loginMenuTitle:"Profile",showInLoginMenu:!0,menuOrder:1,social:!0,socialHome:!0,urlOverride:"profile",page:{name:t("member-pages.about.name"),shortDescription:t("member-pages.about.short-description"),description:an({text:t("member-pages.about.description.text"),bulletPoints:[t("member-pages.about.description.bullet-point-1"),t("member-pages.about.description.bullet-point-2"),t("member-pages.about.description.bullet-point-3"),t("member-pages.about.description.bullet-point-4"),t("member-pages.about.description.bullet-point-5")]}),iconURL:`${e}assets/images/icons/members-area-icon.svg`,origin:t("member-pages.about.origin"),screenshots:[`${e}assets/images/about/profile.png`,`${e}assets/images/about/mobile-profile.png`]}}),ln=M,un=()=>Object.assign({method:"addApplicationToSite",social:!0},M),pn=j,dn=(e,t)=>Object.assign(Object.assign({},j),{social:!0,method:"addApplication",showInMemberMenu:!1,menuOrder:2,urlOverride:"followers",page:{name:t("member-pages.followers.name"),shortDescription:t("member-pages.followers.short-description"),description:an({text:t("member-pages.followers.description.text"),bulletPoints:[t("member-pages.followers.description.bullet-point-1"),t("member-pages.followers.description.bullet-point-2"),t("member-pages.followers.description.bullet-point-3"),t("member-pages.followers.description.bullet-point-4")]}),iconURL:`${e}assets/images/icons/members-area-icon.svg`,origin:t("member-pages.followers.origin"),screenshots:[`${e}assets/images/followers/followers.png`,`${e}assets/images/followers/mobile-followers.png`]}}),fn=L,gn=(e,t)=>Object.assign(Object.assign({},fn),{social:!0,numbers:{key:"createdCommentsCount",default:0},method:"addSection",urlOverride:"forum-comments",menuOrder:2,page:{name:t("comments_page_name"),shortDescription:t("comments_page_short_description"),description:t("comments_page_description"),iconURL:`${e}assets/images/icons/forum-icon.png`,origin:t("forum_origin"),screenshots:[`${e}assets/images/forum-comments/forum-comments.png`,`${e}assets/images/forum-comments/mobile-forum-comments.png`]}}),mn=B,hn=(e,t)=>Object.assign(Object.assign({},mn),{social:!0,numbers:{key:"postsCount",default:0},method:"addSection",urlOverride:"forum-posts",menuOrder:2,page:{name:t("posts_page_name"),shortDescription:t("posts_page_short_description"),description:t("posts_page_description"),iconURL:`${e}assets/images/icons/forum-icon.png`,origin:t("forum_origin"),screenshots:[`${e}assets/images/forum-posts/forum-posts.png`,`${e}assets/images/forum-posts/mobile-forum-posts.png`]}}),yn=G,bn=()=>Object.assign(Object.assign({},yn),{numbers:{key:"notificationsCount",default:0},method:"addApplication",menuOrder:4,social:!1,urlOverride:"notifications"}),vn={appDefinitionId:"14f25dc5-6af3-5420-9568-f9c5ed98c9b1",pageId:"settings"},wn=()=>Object.assign(Object.assign({},vn),{method:"addApplication",menuOrder:4,social:!1,urlOverride:"settings"}),Pn=C,Sn=(e,t)=>Object.assign(Object.assign({},C),{social:!0,numbers:{key:"commentsCount",default:0},method:"addSection",urlOverride:"blog-comments",menuOrder:2,page:{name:t("member-pages.comments.name"),shortDescription:t("member-pages.comments.short-description"),description:an({text:t("member-pages.comments.description.text"),bulletPoints:[t("member-pages.comments.description.bullet-point-1"),t("member-pages.comments.description.bullet-point-2"),t("member-pages.comments.description.bullet-point-3")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!1,screenshots:[`${e}assets/images/blog-comments/blog-comments.png`,`${e}assets/images/blog-comments/mobile-blog-comments.png`]}}),Dn=T,In=(e,t)=>Object.assign(Object.assign({},T),{social:!0,numbers:{key:"likesCount",default:0},method:"addSection",urlOverride:"blog-likes",menuOrder:2,page:{name:t("member-pages.likes.name"),shortDescription:t("member-pages.likes.short-description"),description:an({text:t("member-pages.likes.description.text"),bulletPoints:[t("member-pages.likes.description.bullet-point-1"),t("member-pages.likes.description.bullet-point-2")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!1,screenshots:[`${e}assets/images/blog-likes/blog-likes.png`,`${e}assets/images/blog-likes/mobile-blog-likes.png`]}}),_n=E,An=(e,t)=>Object.assign(Object.assign({},E),{social:!0,numbers:{key:"postsCount",default:0},method:"addSection",urlOverride:"blog-posts",visibleForRoles:["admin","blog_writer","blog_editor"],page:{name:t("member-pages.posts.name"),shortDescription:t("member-pages.posts.short-description"),description:an({text:t("member-pages.posts.description.text"),bulletPoints:[t("member-pages.posts.description.bullet-point-1"),t("member-pages.posts.description.bullet-point-2"),t("member-pages.posts.description.bullet-point-3"),t("member-pages.posts.description.bullet-point-4")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!1,screenshots:[`${e}assets/images/blog-posts/blog-posts.png`,`${e}assets/images/mobile-blog-posts/mobile-blog-posts.png`]}}),xn=k,On=(e,t)=>Object.assign(Object.assign({},k),{method:"addSection",urlOverride:"my-files",social:!0,menuOrder:2,page:{name:t("fileshare_page_name"),shortDescription:t("fileshare_page_short_description"),description:t("fileshare_page_description"),origin:t("fileshare_origin"),iconURL:`${e}assets/images/icons/file-share-icon.png`,screenshots:[`${e}assets/images/file-share/file-share.png`,`${e}assets/images/file-share/mobile-file-share.png`]}}),Rn={appDefinitionId:"1505b775-e885-eb1b-b665-1e485d9bf90e",pageId:"my_addresses"},Mn=(e,t)=>Object.assign(Object.assign({},Rn),{social:!1,showInLoginMenu:!0,method:"addApplication",page:{name:t("memberPages.addModal.memberPagesTab.addresses.title"),shortDescription:t("memberPages.addModal.memberPagesTab.addresses.body"),origin:t("memberPages.addModal.memberPagesTab.by.stores.label"),description:an({text:t("memberPages.addModal.memberPagesTab.addresses.description.body"),bulletPoints:[t("memberPages.addModal.memberPagesTab.addresses.description.bullet1"),t("memberPages.addModal.memberPagesTab.addresses.description.bullet2")]}),iconURL:`${e}assets/images/icons/stores-icon.png`,screenshots:[`${e}assets/images/my-addresses/my-addresses.png`,`${e}assets/images/my-addresses/my-addresses-2.png`,`${e}assets/images/my-addresses/my-addresses-3.png`,`${e}assets/images/my-addresses/mobile-my-addresses.png`,`${e}assets/images/my-addresses/mobile-my-addresses-2.png`]}}),Tn=N,Cn=(e,t)=>Object.assign(Object.assign({},Tn),{showInMemberMenu:!0,showInLoginMenu:!0,menuOrder:2,social:!1,shouldNavigate:!1,shouldInstallInitially:!0,page:{name:t("members-area.my-bookings.page.title"),shortDescription:t("members-area.my-bookings.page.subtitle"),description:t("members-area.my-bookings.page.description"),origin:t("members-area.bookings.author"),iconURL:`${e}assets/images/icons/bookings-icon.png`,screenshots:[`${e}assets/images/my-bookings/my-bookings.png`,`${e}assets/images/my-bookings/my-bookings-2.png`,`${e}assets/images/my-bookings/mobile-my-bookings.png`,`${e}assets/images/my-bookings/mobile-my-bookings-2.png`]}}),En=K,kn=(e,t)=>Object.assign(Object.assign({},En),{numbers:{key:"draftsCount",default:0},method:"addSection",social:!1,showInLoginMenu:!0,urlOverride:"my-drafts",menuOrder:2,visibleForRoles:["admin","blog_writer","blog_editor"],page:{name:t("member-pages.drafts.name"),shortDescription:t("member-pages.drafts.short-description"),description:an({text:t("member-pages.drafts.description.text"),bulletPoints:[t("member-pages.drafts.description.bullet-point-1"),t("member-pages.drafts.description.bullet-point-2"),t("member-pages.drafts.description.bullet-point-3")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!1,screenshots:[`${e}assets/images/my-drafts/my-drafts.png`,`${e}assets/images/my-drafts/mobile-my-drafts.png`]}}),jn=U,Ln=(e,t)=>Object.assign(Object.assign({},jn),{method:"addSection",social:!1,showInLoginMenu:!0,urlOverride:"my-posts",menuOrder:2,visibleForRoles:["admin","blog_writer","blog_editor","blog_guest_writer"],page:{name:t("member-pages.my-posts.name"),shortDescription:t("member-pages.my-posts.short-description"),description:an({text:t("member-pages.my-posts.description.text"),bulletPoints:[t("member-pages.my-posts.description.bullet-point-1"),t("member-pages.my-posts.description.bullet-point-2"),t("member-pages.my-posts.description.bullet-point-3")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!0,screenshots:[`${e}assets/images/my-posts/my-posts.png`,`${e}assets/images/my-posts/mobile-my-posts.png`]}}),Bn=F,Nn=(e,t)=>Object.assign(Object.assign({},Bn),{showInLoginMenu:!1,showInMemberMenu:!0,social:!0,socialHome:!1,method:"addSection",menuOrder:2,urlOverride:"events",page:{name:t("membersEventsPageName"),shortDescription:t("membersEventsPageShortDescription"),description:t("membersEventsPageDescription"),origin:t("membersEventsPageOrigin"),iconURL:`${e}assets/images/icons/events-icon.png`,screenshots:[`${e}assets/images/my-events/my-events.png`,`${e}assets/images/my-events/my-events-2.png`,`${e}assets/images/my-events/mobile-my-events.png`,`${e}assets/images/my-events/mobile-my-events-2.png`]}}),Kn=H,Un=(e,t)=>Object.assign(Object.assign({},Kn),{social:!1,showInLoginMenu:!0,method:"addSection",page:{name:t("memberPages.addModal.memberPagesTab.orders.title"),shortDescription:t("memberPages.addModal.memberPagesTab.orders.body"),description:an({text:t("memberPages.addModal.memberPagesTab.orders.description.body"),bulletPoints:[t("memberPages.addModal.memberPagesTab.orders.description.bullet1"),t("memberPages.addModal.memberPagesTab.orders.description.bullet2")]}),origin:t("memberPages.addModal.memberPagesTab.by.stores.label"),iconURL:`${e}assets/images/icons/stores-icon.png`,screenshots:[`${e}assets/images/my-orders/my-orders.png`,`${e}assets/images/my-orders/my-orders-2.png`]}}),Fn={appDefinitionId:"4aebd0cb-fbdb-4da7-b5d1-d05660a30172",pageId:"my_wallet"},Hn=(e,t)=>Object.assign(Object.assign({},Fn),{social:!1,showInLoginMenu:!0,method:"addApplication",page:{name:t("members-area.my-wallet.page.title"),shortDescription:t("members-area.my-wallet.page.subtitle"),description:t("members-area.my-wallet.page.description"),origin:t("members-area.my-wallet.author"),iconURL:`${e}assets/images/icons/stores-icon.png`,screenshots:[`${e}assets/images/my-wallet/my-wallet.png`,`${e}assets/images/my-wallet/my-wallet-2.png`,`${e}assets/images/my-wallet/mobile-my-wallet.png`,`${e}assets/images/my-wallet/mobile-my-wallet-2.png`]}}),Wn=W,Gn=(e,t)=>Object.assign(Object.assign({},Wn),{social:!1,showInLoginMenu:!0,method:"addSection",shouldInstallInitially:!1,page:{name:t("memberPages.addModal.memberPagesTab.wishlist.title"),shortDescription:t("memberPages.addModal.memberPagesTab.wishlist.body"),description:an({text:t("memberPages.addModal.memberPagesTab.wishlist.description.body"),bulletPoints:[t("memberPages.addModal.memberPagesTab.wishlist.description.bullet1"),t("memberPages.addModal.memberPagesTab.wishlist.description.bullet2")]}),iconURL:`${e}assets/images/icons/stores-icon.png`,origin:t("memberPages.addModal.memberPagesTab.by.stores.label"),screenshots:[`${e}assets/images/my-wishlist/my-wallet.png`]}}),qn={appDefinitionId:"476dc2dd-e16e-43b0-a0aa-1a486c78fbe2",pageId:"Gallery"},Vn=(e,t)=>Object.assign(Object.assign({},qn),{method:"addSection",urlOverride:"gallery",social:!0,menuOrder:2,page:{name:t("gallery_page_name"),shortDescription:t("gallery_page_short_description"),description:t("gallery_page_description"),origin:t("shared_gallery_origin"),iconURL:`${e}assets/images/icons/shared-gallery-icon.png`,screenshots:[`${e}assets/images/shared-gallery/shared-gallery.png`,`${e}assets/images/shared-gallery/mobile-shared-gallery.png`]}}),zn={appDefinitionId:"2bef2abe-7abe-43da-889c-53c1500a328c",pageId:"My Subscriptions"},$n=(e,t)=>Object.assign(Object.assign({},zn),{method:"addApplication",social:!1,showInLoginMenu:!0,page:{name:t("editor.my-subscriptions-page.name"),shortDescription:t("editor.my-subscriptions-page.short-description"),description:t("editor.my-subscriptions-page.description"),iconURL:`${e}/assets/images/icons/pricing-plans.png`,origin:t("editor.my-subscriptions-page.origin"),isNew:!0,screenshots:[`${e}/assets/images/my-subscriptions/my-subscriptions.png`,`${e}/assets/images/my-subscriptions/my-subscriptions-2.png`,`${e}/assets/images/my-subscriptions/mobile-my-subscriptions.png`,`${e}/assets/images/my-subscriptions/mobile-my-subscriptions-2.png`]}}),Jn={appDefinitionId:"2936472a-a1ed-4ae5-9f71-614313a9f4e7",pageId:"My Challenges"},Xn=(e,t)=>Object.assign(Object.assign({},Jn),{showInLoginMenu:!0,showInMemberMenu:!0,social:!1,socialHome:!1,method:"addSection",menuOrder:2,urlOverride:"challenges",page:{name:t("members-area.challenges.name"),shortDescription:t("members-area.challenges.short-description"),description:t("members-area.challenges.description"),origin:t("members-area.challenges.origin"),iconURL:`${e}assets/images/icons/challenges-icon.png`,screenshots:[`${e}assets/images/my-challenges/my-challenges.png`,`${e}assets/images/my-challenges/my-challenges-2.png`,`${e}assets/images/my-challenges/mobile-my-challenges.png`]}}),Qn={appDefinitionId:"2936472a-a1ed-4ae5-9f71-614313a9f4e7",pageId:"My Programs"},Yn=(e,t)=>Object.assign(Object.assign({},Qn),{showInLoginMenu:!0,showInMemberMenu:!0,social:!1,socialHome:!1,method:"addSection",menuOrder:2,urlOverride:"challenges",page:{name:t("members-area.challenges.name"),shortDescription:t("members-area.challenges.short-description"),description:t("members-area.challenges.description"),origin:t("members-area.challenges.origin"),iconURL:`${e}assets/images/icons/challenges-icon.png`,screenshots:[`${e}assets/images/my-challenges/my-challenges.png`,`${e}assets/images/my-challenges/my-challenges-2.png`,`${e}assets/images/my-challenges/mobile-my-challenges.png`]}}),Zn={appDefinitionId:"16ed1ac6-01cb-4fb6-a59e-c215cce8fdf6",pageId:"My Rewards"},eo=(e,t)=>Object.assign(Object.assign({},Zn),{method:"addApplication",social:!1,showInLoginMenu:!0,page:{name:t("editor.my-rewards-page.name"),shortDescription:t("editor.my-rewards-page.short-description"),description:t("editor.my-rewards-page.description"),iconURL:`${e}/assets/images/icons/loyalty.png`,origin:t("editor.my-rewards-page.origin"),isNew:!0,screenshots:[`${e}/assets/images/my-rewards/my-rewards.jpg`,`${e}/assets/images/my-rewards/my-rewards-mobile.jpg`,`${e}/assets/images/my-rewards/my-rewards-mobile-2.jpg`]}}),to=[e,t,n,o,i,s,c,l,u,p,d,f,g,m,h,y,b,v,w,P,S,D,I,_];function no(e){return no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},no(e)}var oo=[],io=oo.forEach,ro=oo.slice;function ao(e){return io.call(ro.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function so(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":no(XMLHttpRequest))}var co,lo,uo,po=r(1404),fo=r.t(po,2);function go(e){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(e)}"function"==typeof fetch&&(co="undefined"!=typeof global&&global.fetch?global.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),so()&&("undefined"!=typeof global&&global.XMLHttpRequest?lo=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(lo=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?uo=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(uo=window.ActiveXObject)),co||!fo||lo||uo||(co=po||fo),"function"!=typeof co&&(co=void 0);var mo=function(e,t){if(t&&"object"===go(t)){var n="";for(var o in t)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(t[o]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},ho=function(e,t,n){co(e,t).then((function(e){if(!e.ok)return n(e.statusText||"Error",{status:e.status});e.text().then((function(t){n(null,{status:e.status,data:t})})).catch(n)})).catch(n)},yo=!1,bo=function(e,t,n,o){return"function"==typeof n&&(o=n,n=void 0),o=o||function(){},co?function(e,t,n,o){e.queryStringParams&&(t=mo(t,e.queryStringParams));var i=ao({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(i["Content-Type"]="application/json");var r="function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions,a=ao({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},yo?{}:r);try{ho(t,a,o)}catch(e){if(!r||0===Object.keys(r).length||!e.message||e.message.indexOf("not implemented")<0)return o(e);try{Object.keys(r).forEach((function(e){delete a[e]})),ho(t,a,o),yo=!0}catch(e){o(e)}}}(e,t,n,o):so()||"function"==typeof ActiveXObject?function(e,t,n,o){n&&"object"===go(n)&&(n=mo("",n).slice(1)),e.queryStringParams&&(t=mo(t,e.queryStringParams));try{var i;(i=lo?new lo:new uo("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var r=e.customHeaders;if(r="function"==typeof r?r():r)for(var a in r)i.setRequestHeader(a,r[a]);i.onreadystatechange=function(){i.readyState>3&&o(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(e){console&&console.log(e)}}(e,t,n,o):void o(new Error("No fetch and no xhr implementation found!"))};function vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Po=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},request:bo,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},So=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};vo(this,e),this.services=t,this.options=n,this.allOptions=o,this.type="backend",this.init(t,n,o)}var t,n,o;return t=e,n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=ao(n,this.options||{},Po()),this.allOptions=o,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,o,i){var r,a=this,s=this.options.loadPath;"function"==typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"==typeof e.then}(r=s)?r:Promise.resolve(r)).then((function(r){if(!r)return i(null,{});var s=a.services.interpolator.interpolate(r,{lng:e.join("+"),ns:n.join("+")});a.loadUrl(s,i,t,o)}))}},{key:"loadUrl",value:function(e,t,n,o){var i=this;this.options.request(this.options,e,void 0,(function(r,a){if(a&&(a.status>=500&&a.status<600||!a.status))return t("failed loading "+e+"; status code: "+a.status,!0);if(a&&a.status>=400&&a.status<500)return t("failed loading "+e+"; status code: "+a.status,!1);if(!a&&r&&r.message&&r.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+r.message,!0);if(r)return t(r,!1);var s,c;try{s="string"==typeof a.data?i.options.parse(a.data,n,o):a.data}catch(t){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,o,i){var r=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var a=this.options.parsePayload(t,n,o),s=0,c=[],l=[];e.forEach((function(n){var o=r.options.addPath;"function"==typeof r.options.addPath&&(o=r.options.addPath(n,t));var u=r.services.interpolator.interpolate(o,{lng:n,ns:t});r.options.request(r.options,u,a,(function(t,n){s+=1,c.push(t),l.push(n),s===e.length&&i&&i(c,l)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,o=t.languageUtils,i=t.logger,r=n.language;if(!r||"cimode"!==r.toLowerCase()){var a=[],s=function(e){o.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};s(r),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),a.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(o,r){o&&i.warn("loading namespace ".concat(e," for language ").concat(t," failed"),o),!o&&r&&i.log("loaded namespace ".concat(e," for language ").concat(t),r),n.loaded("".concat(t,"|").concat(e),o,r)}))}))}))}}}],n&&wo(t.prototype,n),o&&wo(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();So.type="backend";var Do=So;const Io=({locale:e,baseUrl:t,i18next:n})=>new Promise(((o,i)=>{const r=((e,t,n,o)=>e.use(Do).init({lng:t,fallbackLng:"en",keySeparator:"$",interpolation:{escapeValue:!1},backend:{loadPath:`${n}assets/translations/messages_{{lng}}.json`,crossDomain:!0}},o))(n,e,t,((e,t)=>e?i(e):o({t:t,i18nInstance:r})))}));const _o=new class{constructor(){this.init=(e,t,n)=>{if(!this._t)return Io({i18next:e,locale:t,baseUrl:n}).catch((()=>Io({i18next:e,locale:"en",baseUrl:n}))).catch((()=>({t:e=>e}))).then((({t:e})=>{this._t=e}))},this.t=(e,t={})=>{if(!this._t)throw new Error("Translation service was not initialized yet!");return this._t(e,t)}}},Ao=async({i18next:e,application:t,editorSDK:n,applicationsOptions:o})=>{var i,r,a;if("page"in t)return t;const s=null!==(r=await(null===(i=null==n?void 0:n.info)||void 0===i?void 0:i.getLanguage()))&&void 0!==r?r:"en",c=await(async e=>{var t;const n=await(null===(t=null==e?void 0:e.info)||void 0===t?void 0:t.getArtifactsUrls("",["members-area-app-definitions"])),o=null==n?void 0:n["members-area-app-definitions"];return o?`${o}/`:"https://static.parastorage.com/services/members-area-app-definitions/1.322.0/"})(n);await _o.init(e,s,c);const l=to.find((e=>{var n,o;return(null===(n=e.ids)||void 0===n?void 0:n.appDefinitionId)===t.appDefinitionId&&(null===(o=e.ids)||void 0===o?void 0:o.pageId)===t.pageId})),u=null==o?void 0:o.find((e=>{var n,o;return(null===(n=null==e?void 0:e.id)||void 0===n?void 0:n.appDefinitionId)===t.appDefinitionId&&(null===(o=null==e?void 0:e.id)||void 0===o?void 0:o.pageId)===t.pageId})),p=null!==(a=null==l?void 0:l.getDefinition(c,_o.t))&&void 0!==a?a:t,d=Object.assign(Object.assign({},p),null==u?void 0:u.options);return f=d,Object.assign({numbers:{},showInLoginMenu:!1,showInMemberMenu:!0,social:!1,socialHome:!1,urlOverride:null},f);var f},xo=async({i18next:e,applications:t,editorSDK:n,applicationsOptions:o})=>{const i=[];for(const r of t){const t=await Ao({i18next:e,application:r,editorSDK:n,applicationsOptions:o});i.push(t)}return i};var Oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function Ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Mo={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}},To=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ro(this,e),this.init(t,n)}return e.prototype.init=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Mo,this.options=t,this.debug=t.debug},e.prototype.setDebug=function(e){this.debug=e},e.prototype.log=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)},e.prototype.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)},e.prototype.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")},e.prototype.deprecate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)},e.prototype.forward=function(e,t,n,o){return o&&!this.debug?null:("string"==typeof e[0]&&(e[0]=""+n+this.prefix+" "+e[0]),this.logger[t](e))},e.prototype.create=function(t){return new e(this.logger,Oo({prefix:this.prefix+":"+t+":"},this.options))},e}(),Co=new To;var Eo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observers={}}return e.prototype.on=function(e,t){var n=this;e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)}))},e.prototype.off=function(e,t){var n=this;this.observers[e]&&this.observers[e].forEach((function(){if(t){var o=n.observers[e].indexOf(t);o>-1&&n.observers[e].splice(o,1)}else delete n.observers[e]}))},e.prototype.emit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var r=[].concat(this.observers["*"]);r.forEach((function(t){var o;t.apply(t,(o=[e]).concat.apply(o,n))}))}},e}(),ko=Eo;function jo(e){return null==e?"":""+e}function Lo(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function Bo(e,t,n){function o(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var r="string"!=typeof t?[].concat(t):t.split(".");r.length>1;){if(i())return{};var a=o(r.shift());!e[a]&&n&&(e[a]=new n),e=e[a]}return i()?{}:{obj:e,k:o(r.shift())}}function No(e,t,n){var o=Bo(e,t,Object);o.obj[o.k]=n}function Ko(e,t){var n=Bo(e,t),o=n.obj,i=n.k;if(o)return o[i]}function Uo(e,t,n){for(var o in t)o in e?"string"==typeof e[o]||e[o]instanceof String||"string"==typeof t[o]||t[o]instanceof String?n&&(e[o]=t[o]):Uo(e[o],t[o],n):e[o]=t[o];return e}function Fo(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ho={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Wo(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return Ho[e]})):e}var Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function zo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var $o=function(e){function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};qo(this,t);var i=Vo(this,e.call(this));return i.data=n||{},i.options=o,i}return zo(t,e),t.prototype.addNamespaces=function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)},t.prototype.removeNamespaces=function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)},t.prototype.getResource=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.keySeparator||this.options.keySeparator;void 0===i&&(i=".");var r=[e,t];return n&&"string"!=typeof n&&(r=r.concat(n)),n&&"string"==typeof n&&(r=r.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(r=e.split(".")),Ko(this.data,r)},t.prototype.addResource=function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=this.options.keySeparator;void 0===r&&(r=".");var a=[e,t];n&&(a=a.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(o=t,t=(a=e.split("."))[1]),this.addNamespaces(t),No(this.data,a,o),i.silent||this.emit("added",e,t,n,o)},t.prototype.addResources=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"==typeof n[i]&&this.addResource(e,t,i,n[i],{silent:!0});o.silent||this.emit("added",e,t,n)},t.prototype.addResourceBundle=function(e,t,n,o,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(o=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=Ko(this.data,a)||{};o?Uo(s,n,i):s=Go({},s,n),No(this.data,a,s),r.silent||this.emit("added",e,t,n)},t.prototype.removeResourceBundle=function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)},t.prototype.hasResourceBundle=function(e,t){return void 0!==this.getResource(e,t)},t.prototype.getResourceBundle=function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Go({},this.getResource(e,t)):this.getResource(e,t)},t.prototype.toJSON=function(){return this.data},t}(ko),Jo=$o,Xo={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,o,i){var r=this;return e.forEach((function(e){r.processors[e]&&(t=r.processors[e].process(t,n,o,i))})),t}},Qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Zo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ei(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ti(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var ni=function(e){function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Zo(this,t);var i=ei(this,e.call(this));return Lo(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],n,i),i.options=o,i.logger=Co.create("translator"),i}return ti(t,e),t.prototype.changeLanguage=function(e){e&&(this.language=e)},t.prototype.exists=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res},t.prototype.extractFromKey=function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var o=t.keySeparator||this.options.keySeparator||".",i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var r=e.split(n);(n!==o||n===o&&this.options.ns.indexOf(r[0])>-1)&&(i=r.shift()),e=r.join(o)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}},t.prototype.translate=function(e,t){var n=this;if("object"!==(void 0===t?"undefined":Yo(t))&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var o=t.keySeparator||this.options.keySeparator||".",i=this.extractFromKey(e[e.length-1],t),r=i.key,a=i.namespaces,s=a[a.length-1],c=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(l){var u=t.nsSeparator||this.options.nsSeparator;return s+u+r}return r}var p=this.resolve(e,t),d=p&&p.res,f=p&&p.usedKey||r,g=Object.prototype.toString.apply(d),m=["[object Number]","[object Function]","[object RegExp]"],h=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,y="string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d;if(d&&y&&m.indexOf(g)<0&&(!h||"[object Array]"!==g)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,d,t):"key '"+r+" ("+this.language+")' returned an object instead of string.";if(t.keySeparator||this.options.keySeparator){var b="[object Array]"===g?[]:{};for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)){var w=""+f+o+v;b[v]=this.translate(w,Qo({},t,{joinArrays:!1,ns:a})),b[v]===w&&(b[v]=d[v])}d=b}}else if(h&&"[object Array]"===g)(d=d.join(h))&&(d=this.extendTranslation(d,e,t));else{var P=!1,S=!1;this.isValidLookup(d)||void 0===t.defaultValue||(P=!0,d=t.defaultValue),this.isValidLookup(d)||(S=!0,d=r);var D=t.defaultValue&&t.defaultValue!==d&&this.options.updateMissing;if(S||P||D){this.logger.log(D?"updateKey":"missingKey",c,s,r,D?t.defaultValue:d);var I=[],_=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&_&&_[0])for(var A=0;A<_.length;A++)I.push(_[A]);else"all"===this.options.saveMissingTo?I=this.languageUtils.toResolveHierarchy(t.lng||this.language):I.push(t.lng||this.language);var x=function(e,o){n.options.missingKeyHandler?n.options.missingKeyHandler(e,s,o,D?t.defaultValue:d,D,t):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(e,s,o,D?t.defaultValue:d,D,t),n.emit("missingKey",e,s,o,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&t.count?I.forEach((function(e){n.pluralResolver.getPluralFormsOfKey(e,r).forEach((function(t){return x([e],t)}))})):x(I,r))}d=this.extendTranslation(d,e,t),S&&d===r&&this.options.appendNamespaceToMissingKey&&(d=s+":"+r),S&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(d))}return d},t.prototype.extendTranslation=function(e,t,n){var o=this;n.interpolation&&this.interpolator.init(Qo({},n,{interpolation:Qo({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=Qo({},this.options.interpolation.defaultVariables,i)),e=this.interpolator.interpolate(e,i,n.lng||this.language),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){return o.translate.apply(o,arguments)}),n)),n.interpolation&&this.interpolator.reset();var r=n.postProcess||this.options.postProcess,a="string"==typeof r?[r]:r;return null!=e&&a&&a.length&&!1!==n.applyPostProcessor&&(e=Xo.handle(a,e,t,n,this)),e},t.prototype.resolve=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=void 0,i=void 0;return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!t.isValidLookup(o)){var r=t.extractFromKey(e,n),a=r.key;i=a;var s=r.namespaces;t.options.fallbackNS&&(s=s.concat(t.options.fallbackNS));var c=void 0!==n.count&&"string"!=typeof n.count,l=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,u=n.lngs?n.lngs:t.languageUtils.toResolveHierarchy(n.lng||t.language);s.forEach((function(e){t.isValidLookup(o)||u.forEach((function(i){if(!t.isValidLookup(o)){var r=a,s=[r],u=void 0;c&&(u=t.pluralResolver.getSuffix(i,n.count)),c&&l&&s.push(r+u),l&&s.push(r+=""+t.options.contextSeparator+n.context),c&&s.push(r+=u);for(var p=void 0;p=s.pop();)t.isValidLookup(o)||(o=t.getResource(i,e,p,n))}}))}))}})),{res:o,usedKey:i}},t.prototype.isValidLookup=function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)},t.prototype.getResource=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(e,t,n,o)},t}(ko),oi=ni;function ii(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ri=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=Co.create("languageUtils")}return e.prototype.getScriptPartFromCode=function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))},e.prototype.getLanguagePartFromCode=function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])},e.prototype.formatLanguageCode=function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=ii(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=ii(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=ii(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e},e.prototype.isWhitelisted=function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1},e.prototype.getFallbackCodes=function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]},e.prototype.toResolveHierarchy=function(e,t){var n=this,o=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],r=function(e){e&&(n.isWhitelisted(e)?i.push(e):n.logger.warn("rejecting non-whitelisted language code: "+e))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),o.forEach((function(e){i.indexOf(e)<0&&r(n.formatLanguageCode(e))})),i},e}();function ai(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var si=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],ci={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}};function li(){var e={};return si.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:ci[t.fc]}}))})),e}var ui=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ai(this,e),this.languageUtils=t,this.options=n,this.logger=Co.create("pluralResolver"),this.rules=li()}return e.prototype.addRule=function(e,t){this.rules[e]=t},e.prototype.getRule=function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]},e.prototype.needsPlural=function(e){var t=this.getRule(e);return t&&t.numbers.length>1},e.prototype.getPluralFormsOfKey=function(e,t){var n=this,o=[],i=this.getRule(e);return i?(i.numbers.forEach((function(i){var r=n.getSuffix(e,i);o.push(""+t+r)})),o):o},e.prototype.getSuffix=function(e,t){var n=this,o=this.getRule(e);if(o){var i=o.noAbs?o.plurals(t):o.plurals(Math.abs(t)),r=o.numbers[i];this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var a=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_"+r.toString():a():"v2"===this.options.compatibilityJSON||2===o.numbers.length&&1===o.numbers[0]||2===o.numbers.length&&1===o.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: "+e),""},e}(),pi=ui,di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var gi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fi(this,e),this.logger=Co.create("interpolator"),this.init(t,!0)}return e.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];t&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.escape=e.interpolation&&e.interpolation.escape||Wo),e.interpolation||(e.interpolation={escapeValue:!0});var n=e.interpolation;this.escapeValue=void 0===n.escapeValue||n.escapeValue,this.prefix=n.prefix?Fo(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Fo(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Fo(n.nestingPrefix):n.nestingPrefixEscaped||Fo("$t("),this.nestingSuffix=n.nestingSuffix?Fo(n.nestingSuffix):n.nestingSuffixEscaped||Fo(")"),this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.resetRegExp()},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.resetRegExp=function(){var e=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(e,"g");var t=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(t,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},e.prototype.interpolate=function(e,t,n){var o=this,i=void 0,r=void 0,a=void 0;function s(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(o.formatSeparator)<0)return Ko(t,e);var i=e.split(o.formatSeparator),r=i.shift().trim(),a=i.join(o.formatSeparator).trim();return o.format(Ko(t,r),a,n)};for(this.resetRegExp(),a=0;(i=this.regexpUnescape.exec(e))&&(r=c(i[1].trim()),e=e.replace(i[0],r),this.regexpUnescape.lastIndex=0,!(++a>=this.maxReplaces)););for(a=0;i=this.regexp.exec(e);){if("string"!=typeof(r=c(i[1].trim()))&&(r=jo(r)),!r)if("function"==typeof this.options.missingInterpolationHandler){var l=this.options.missingInterpolationHandler(e,i);r="string"==typeof l?l:""}else this.logger.warn("missed to pass in variable "+i[1]+" for interpolating "+e),r="";if(r=this.escapeValue?s(this.escape(r)):s(r),e=e.replace(i[0],r),this.regexp.lastIndex=0,++a>=this.maxReplaces)break}return e},e.prototype.nest=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=void 0,i=void 0,r=di({},n);function a(e,t){if(e.indexOf(",")<0)return e;var n=e.split(",");e=n.shift();var o=n.join(",");o=(o=this.interpolate(o,r)).replace(/'/g,'"');try{r=JSON.parse(o),t&&(r=di({},t,r))}catch(t){this.logger.error("failed parsing options string in nesting for key "+e,t)}return e}for(r.applyPostProcessor=!1;o=this.nestingRegexp.exec(e);){if((i=t(a.call(this,o[1].trim(),r),r))&&o[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=jo(i)),i||(this.logger.warn("missed to resolve "+o[1]+" for nesting "+e),i=""),e=e.replace(o[0],i),this.regexp.lastIndex=0}return e},e}(),mi=gi,hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},yi=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function bi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function wi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var Pi=function(e){function t(n,o,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};bi(this,t);var a=vi(this,e.call(this));return a.backend=n,a.store=o,a.languageUtils=i.languageUtils,a.options=r,a.logger=Co.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,r.backend,r),a}return wi(t,e),t.prototype.queueLoad=function(e,t,n){var o=this,i=[],r=[],a=[],s=[];return e.forEach((function(e){var n=!0;t.forEach((function(t){var a=e+"|"+t;o.store.hasResourceBundle(e,t)?o.state[a]=2:o.state[a]<0||(1===o.state[a]?r.indexOf(a)<0&&r.push(a):(o.state[a]=1,n=!1,r.indexOf(a)<0&&r.push(a),i.indexOf(a)<0&&i.push(a),s.indexOf(t)<0&&s.push(t)))})),n||a.push(e)})),(i.length||r.length)&&this.queue.push({pending:r,loaded:{},errors:[],callback:n}),{toLoad:i,pending:r,toLoadLanguages:a,toLoadNamespaces:s}},t.prototype.loaded=function(e,t,n){var o=this,i=e.split("|"),r=yi(i,2),a=r[0],s=r[1];t&&this.emit("failedLoading",a,s,t),n&&this.store.addResourceBundle(a,s,n),this.state[e]=t?-1:2,this.queue.forEach((function(n){var i,r,c,l,u,p;i=n.loaded,r=s,l=Bo(i,[a],Object),u=l.obj,p=l.k,u[p]=u[p]||[],c&&(u[p]=u[p].concat(r)),c||u[p].push(r),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(o.emit("loaded",n.loaded),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.queue=this.queue.filter((function(e){return!e.done}))},t.prototype.read=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,a=arguments[5];return e.length?this.backend[n](e,t,(function(s,c){s&&c&&o<5?setTimeout((function(){i.read.call(i,e,t,n,o+1,2*r,a)}),r):a(s,c)})):a(null,{})},t.prototype.load=function(e,t,n){var o=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var i=hi({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var r=this.queueLoad(e,t,n);if(!r.toLoad.length)return r.pending.length||n(),null;i.allowMultiLoading&&this.backend.readMulti?this.read(r.toLoadLanguages,r.toLoadNamespaces,"readMulti",null,null,(function(e,t){e&&o.logger.warn("loading namespaces "+r.toLoadNamespaces.join(", ")+" for languages "+r.toLoadLanguages.join(", ")+" via multiloading failed",e),!e&&t&&o.logger.log("successfully loaded namespaces "+r.toLoadNamespaces.join(", ")+" for languages "+r.toLoadLanguages.join(", ")+" via multiloading",t),r.toLoad.forEach((function(n){var i=n.split("|"),r=yi(i,2),a=r[0],s=r[1],c=Ko(t,[a,s]);if(c)o.loaded(n,e,c);else{var l="loading namespace "+s+" for language "+a+" via multiloading failed";o.loaded(n,l),o.logger.error(l)}}))})):r.toLoad.forEach((function(e){o.loadOne(e)}))},t.prototype.reload=function(e,t){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var o=hi({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]),o.allowMultiLoading&&this.backend.readMulti?this.read(e,t,"readMulti",null,null,(function(o,i){o&&n.logger.warn("reloading namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading failed",o),!o&&i&&n.logger.log("successfully reloaded namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading",i),e.forEach((function(e){t.forEach((function(t){var r=Ko(i,[e,t]);if(r)n.loaded(e+"|"+t,o,r);else{var a="reloading namespace "+t+" for language "+e+" via multiloading failed";n.loaded(e+"|"+t,a),n.logger.error(a)}}))}))})):e.forEach((function(e){t.forEach((function(t){n.loadOne(e+"|"+t,"re")}))}))},t.prototype.loadOne=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.split("|"),i=yi(o,2),r=i[0],a=i[1];this.read(r,a,"read",null,null,(function(o,i){o&&t.logger.warn(n+"loading namespace "+a+" for language "+r+" failed",o),!o&&i&&t.logger.log(n+"loaded namespace "+a+" for language "+r,i),t.loaded(e,o,i)}))},t.prototype.saveMissing=function(e,t,n,o,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(e,t,n,o,null,hi({},r,{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,o)},t}(ko),Si=Pi,Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function Ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ai(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var xi=function(e){function t(n,o,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Ii(this,t);var a=_i(this,e.call(this));return a.cache=n,a.store=o,a.services=i,a.options=r,a.logger=Co.create("cacheConnector"),a.cache&&a.cache.init&&a.cache.init(i,r.cache,r),a}return Ai(t,e),t.prototype.load=function(e,t,n){var o=this;if(!this.cache)return n&&n();var i=Di({},this.cache.options,this.options.cache),r="string"==typeof e?this.services.languageUtils.toResolveHierarchy(e):e;i.enabled?this.cache.load(r,(function(e,t){if(e&&o.logger.error("loading languages "+r.join(", ")+" from cache failed",e),t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))for(var a in t[i])if(Object.prototype.hasOwnProperty.call(t[i],a)&&"i18nStamp"!==a){var s=t[i][a];s&&o.store.addResourceBundle(i,a,s)}n&&n()})):n&&n()},t.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},t}(ko),Oi=xi;function Ri(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e}var Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function Ci(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ei(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ki(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}function ji(){}var Li=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];Ci(this,t);var i=Ei(this,e.call(this));if(i.options=Ri(n),i.services={},i.logger=Co,i.modules={external:[]},o&&!i.isInitialized&&!n.isClone){var r;if(!i.options.initImmediate)return r=i.init(n,o),Ei(i,r);setTimeout((function(){i.init(n,o)}),0)}return i}return ki(t,e),t.prototype.init=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];function o(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),this.options=Ti({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};return e[1]&&(t.defaultValue=e[1]),e[2]&&(t.tDescription=e[2]),t},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,Ri(t)),this.format=this.options.interpolation.format,n||(n=ji),!this.options.isClone){this.modules.logger?Co.init(o(this.modules.logger),this.options):Co.init(null,this.options);var i=new ri(this.options);this.store=new Jo(this.options.resources,this.options);var r=this.services;r.logger=Co,r.resourceStore=this.store,r.resourceStore.on("added removed",(function(e,t){r.cacheConnector.save()})),r.languageUtils=i,r.pluralResolver=new pi(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),r.interpolator=new mi(this.options),r.backendConnector=new Si(o(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",(function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.emit.apply(e,[t].concat(o))})),r.backendConnector.on("loaded",(function(e){r.cacheConnector.save()})),r.cacheConnector=new Oi(o(this.modules.cache),r.resourceStore,r,this.options),r.cacheConnector.on("*",(function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.emit.apply(e,[t].concat(o))})),this.modules.languageDetector&&(r.languageDetector=o(this.modules.languageDetector),r.languageDetector.init(r,this.options.detection,this.options)),this.translator=new oi(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.emit.apply(e,[t].concat(o))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}var a=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"];a.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var s=function(){e.changeLanguage(e.options.lng,(function(t,o){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),n(t,o)}))};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),this},t.prototype.loadResources=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji;if(this.options.resources)t(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return t();var n=[],o=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(e){n.indexOf(e)<0&&n.push(e)}))};if(this.language)o(this.language);else{var i=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);i.forEach((function(e){return o(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.cacheConnector.load(n,this.options.ns,(function(){e.services.backendConnector.load(n,e.options.ns,t)}))}},t.prototype.reloadResources=function(e,t){e||(e=this.languages),t||(t=this.options.ns),this.services.backendConnector.reload(e,t)},t.prototype.use=function(e){return"backend"===e.type&&(this.modules.backend=e),"cache"===e.type&&(this.modules.cache=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"postProcessor"===e.type&&Xo.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this},t.prototype.changeLanguage=function(e,t){var n=this,o=function(e){e&&(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.translator.language||n.translator.changeLanguage(e),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(e)),n.loadResources((function(o){!function(e,o){n.translator.changeLanguage(o),o&&(n.emit("languageChanged",o),n.logger.log("languageChanged",o)),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(o,e)}))};e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect())},t.prototype.getFixedT=function(e,t){var n=this,o=function e(t,o){for(var i=arguments.length,r=Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];var s=Ti({},o);return"object"!==(void 0===o?"undefined":Mi(o))&&(s=n.options.overloadTranslationOptionHandler([t,o].concat(r))),s.lng=s.lng||e.lng,s.lngs=s.lngs||e.lngs,s.ns=s.ns||e.ns,n.t(t,s)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o},t.prototype.t=function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)},t.prototype.exists=function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)},t.prototype.setDefaultNamespace=function(e){this.options.defaultNS=e},t.prototype.loadNamespaces=function(e,t){var n=this;if(!this.options.ns)return t&&t();"string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources(t)},t.prototype.loadLanguages=function(e,t){"string"==typeof e&&(e=[e]);var n=this.options.preload||[],o=e.filter((function(e){return n.indexOf(e)<0}));if(!o.length)return t();this.options.preload=n.concat(o),this.loadResources(t)},t.prototype.dir=function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"},t.prototype.createInstance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];return new t(e,n)},t.prototype.cloneInstance=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ji,i=Ti({},this.options,n,{isClone:!0}),r=new t(i),a=["store","services","language"];return a.forEach((function(t){r[t]=e[t]})),r.translator=new oi(r.services,r.options),r.translator.on("*",(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r.emit.apply(r,[e].concat(n))})),r.init(i,o),r.translator.options=r.options,r},t}(ko),Bi=new Li,Ni=Bi,Ki=(Bi.changeLanguage.bind(Bi),Bi.cloneInstance.bind(Bi),Bi.createInstance.bind(Bi));Bi.dir.bind(Bi),Bi.exists.bind(Bi),Bi.getFixedT.bind(Bi),Bi.init.bind(Bi),Bi.loadLanguages.bind(Bi),Bi.loadNamespaces.bind(Bi),Bi.loadResources.bind(Bi),Bi.off.bind(Bi),Bi.on.bind(Bi),Bi.setDefaultNamespace.bind(Bi),Bi.t.bind(Bi),Bi.use.bind(Bi);const Ui=te,Fi=ne,Hi=oe;function Wi(e){return e.menu.create(q,{menuData:{name:"Login Menu",items:[]},customId:Fi})}function Gi(e){return e.menu.create(q,{menuData:{name:"Login Icons",items:[]},customId:Hi})}async function qi(e,t){const n=await e.menu.getById(q,{menuId:t});n.items=[],await e.menu.update(q,{menuId:t,menuData:n})}async function Vi(e){const t=await Promise.all([e.menu.getById(q,{menuId:Ui}),e.menu.getById(q,{menuId:Fi}),e.menu.getById(q,{menuId:Hi})]),n=t[0],o=t[1],i=t[2],r=[n&&qi(e,Ui),o&&qi(e,Fi),i&&qi(e,Hi)].filter((e=>!!e));await Promise.all(r);const a=[n&&e.menu.remove(q,{menuId:Ui}),o&&e.menu.remove(q,{menuId:Fi}),i&&e.menu.remove(q,{menuId:Hi})].filter((e=>!!e));await Promise.all(a)}function zi(){return{members:Ui,login:Fi,icons:Hi}}async function $i(e){let t=e.editorSDK,n=e.pageRouterData,o=e.updatedData;const i=zi(),r=Ji({editorSDK:t,pageRouterData:n,updatedData:o,menuId:i.members}),a=Ji({editorSDK:t,pageRouterData:n,updatedData:o,menuId:i.login}),s=Ji({editorSDK:t,pageRouterData:n,updatedData:o,menuId:i.icons});return Promise.all([r,a,s])}async function Ji(e){let t=e.editorSDK,n=e.pageRouterData,o=e.updatedData,i=e.menuId;const r=n.innerRoute,a=await t.menu.getById(q,{menuId:i}),s=a.items.find((e=>{var t;return"/"+(null==(t=e.link)?void 0:t.innerRoute)===r}));s&&(Gt().merge(s,o),await t.menu.update(q,{menuId:i,menuData:a}))}async function Xi(e){let t=e.editorSDK,n=e.menuId;const o=await t.menu.getById(q,{menuId:n});if(!o)throw new Error("Could not retrieve the menu "+n);return o.items}function Qi(e){let t=e.editorSDK,n=e.menuId;return t.menu.getById(q,{menuId:n})}async function Yi(e){let t=e.editorSDK,n=e.menuId,o=e.pattern;const i=await t.menu.getById(q,{menuId:n}),r=[];for(const e of i.items){var a;(null==(a=e.link)?void 0:a.innerRoute)!==o&&r.push(e)}i.items=r,await t.menu.update(q,{menuId:n,menuData:i})}async function Zi(e){let t=e.editorSDK,n=e.pattern;const o=zi();for(const e of Object.values(o))await Yi({editorSDK:t,menuId:e,pattern:n})}async function er(e){let t=e.editorSDK,n=e.menuId,o=e.items;const i=await t.menu.getById(q,{menuId:n});i.items=o,await t.menu.update(q,{menuId:n,menuData:i})}function tr(e,t){return e.tpa.add.application(q,t)}function nr(e){let t=e.editorSDK,n=e.appDefinitionId;return t.tpa.isApplicationInstalled(q,{appDefinitionId:n})}function or(e){let t=e.editorSDK,n=e.appDefinitionId,o=e.sectionId;return t.tpa.isAppSectionInstalled(q,{appDefinitionId:n,sectionId:o})}function ir(e){let t=e.editorSDK,n=e.appDefinitionId;return t.tpa.app.getDataByAppDefId(q,n)}function rr(e){let t=e.editorSDK,n=e.applicationId;return t.tpa.app.getAllCompsByApplicationId(q,n)}var ar=r(439),sr=r.n(ar);function cr(){return"object"==typeof self?self:r.g}function lr(e){var t=function(e){return function(){var e=function(){if("object"==typeof document)return document}();if(e&&e.cookie)return decodeURIComponent(e.cookie).split(";");return[]}().filter((function(t){return e===t.split("=")[0].trim()}))[0]}(e);return t?t.split("=")[1]:""}function ur(){var e,t=function(){var e=cr();if(e&&e.commonConfig&&"string"==typeof e.commonConfig.brand)return e.commonConfig.brand;return""}();return(e={})["x-wix-brand"]=t,e}function pr(){return function(){var e=cr();if(e&&e.consentPolicyManager&&"function"==typeof e.consentPolicyManager._getConsentPolicyHeader)return e.consentPolicyManager._getConsentPolicyHeader();return}()||function(){var e=cr();if(e&&e.Wix&&e.Wix.Utils&&"function"==typeof e.Wix.Utils._getConsentPolicyHeader)return e.Wix.Utils._getConsentPolicyHeader();return}()||{}}var dr=r(3158);function fr(){return!!function(){var e;return void 0!==dr&&null!=(null===(e=dr.versions)||void 0===e?void 0:e.node)}()&&(!!dr.env.TEAMCITY_VERSION||!!dr.env.BUILDKITE)}var gr=["consentPolicy","consentPolicyHeader"],mr={bsi:"BSI"};var hr=function(){var e,t=function(){var e=cr(),t=null==e?void 0:e.commonConfig;if(!t)return null;var n={},o=!1;return Object.keys(t).forEach((function(e){var i=mr[e];i?(n[i]=t[e],o=!0):gr.indexOf(e)<0&&"function"!=typeof t[e]&&(n[e]=t[e],o=!0)})),o?n:null}(),n=t?JSON.stringify(t):"";return(e={}).commonConfig=encodeURIComponent(n),e},yr=r(8144),br=r.n(yr);function vr(e){var t,n=e.lang,o=e.locale,i=e.isPrimaryLanguage,r=e.signedInstance;if(function(e){var t=e.lang,n=e.locale,o=e.isPrimaryLanguage;return t&&n&&/^(true|false)$/.test((null==o?void 0:o.toString())||"")}({lang:n,locale:o,isPrimaryLanguage:i})){var a=function(e){try{var t=null==e?void 0:e.split(".")[1];if(t)return JSON.parse(br().decode(t)).instanceId}catch(e){}}(r);if(void 0!==a)return(t={})["x-wix-linguist"]=[n,o,null==i?void 0:i.toString(),a].join("|"),t}return{}}!function(e){function t(t,n){return e.call(this,"WixHeadersParsingError: "+t+" evaluated with "+JSON.stringify(n)+" but should be a string!")||this}Ne(t,e)}(Error);var wr=function(e){function t(t,n,o){return e.call(this,"WixHeadersValidationError: expected "+n+" to be "+t+" but got "+JSON.stringify(o))||this}return Ne(t,e),t}(Error);function Pr(e){void 0===e&&(e={}),function(e){(function(e,t){if("boolean"!=typeof t)throw new wr("boolean",e,t)})("opts.csrf",e.csrf),function(e,t){if("string"!=typeof t)throw new wr("string",e,t)}("opts.signedInstance",e.signedInstance)}(e=Ke({csrf:!0,signedInstance:""},e));var t,n,o=[ur(),pr(),(n=e.signedInstance,{authorization:n}),(t=e.artifactId,{"X-Wix-Client-Artifact-Id":null!=t?t:fr()?"":"santa-members-editor-app"}),hr(),vr(Ke({signedInstance:e.signedInstance},e.multilingualOptions))];return e.csrf&&o.push(function(){var e,t=lr("XSRF-TOKEN");return(e={})["x-xsrf-token"]=t,e}()),o.filter((function(e){return Object.values(e).every((function(e){return e}))})).reduce((function(e,t){return Ke(Ke({},e),t)}),{})}var Sr=JSON.parse('["wix.com","editorx.com","wix-code.com","wixapps.net","wixprod.net"]'),Dr=r(3158);function Ir(){var e;return void 0!==Dr&&null!=(null===(e=null==Dr?void 0:Dr.versions)||void 0===e?void 0:e.node)}var _r="www.wix.com",Ar="http",xr=r(3158);function Or(e){if("string"!=typeof e)throw new TypeError("Expected a `string`, got `".concat(typeof e,"`"));return/(^https?:)|(^\/\/)/.test(e)}function Rr(e,t){return t.split(".").filter((function(e){return e})).reduce((function(e,t){return e[t]}),e)}function Mr(e){try{return new URL(e).protocol}catch(t){return Cr(e).protocol}}function Tr(e){var t;try{t=new URL(e)}catch(n){t=new URL("http:".concat(e))}try{return t.host}catch(t){return Cr(e).host}}function Cr(e){var t=new RegExp("^(.*:)//([A-Za-z0-9-.]+)(:[0-9]+)?(.*)$");try{var n=t.exec(e);return{protocol:n[1],host:n[2]}}catch(e){return{protocol:"http:",host:""}}}function Er(e,t){var n;try{(n=new URL(e)).host=t,n.protocol="http"}catch(o){(n=new URL("http://".concat(t))).pathname=e}return n.toString()}function kr(){var e;if(Ir()&&xr.env.HTTP_CLIENT_GLOBAL_CONFIG)try{e=JSON.parse(xr.env.HTTP_CLIENT_GLOBAL_CONFIG)}catch(e){}return e||("undefined"!=typeof window?e=window._httpClientGlobalConfig:function(){var e;"object"==typeof self&&(null===(e=null===self||void 0===self?void 0:self.constructor)||void 0===e||e.name)}()),e||{httpMockServer:{enabled:!1}}}function jr(e){var t;return(null===(t=null==e?void 0:e.headers)||void 0===t?void 0:t["x-wix-request-id"])||""}function Lr(e){if(!Or(e))return!0;var t=".".concat(Tr(e));return!!Sr.find((function(e){return t.endsWith(".".concat(e))}))}var Br=function(e){var t=e.requestOptions,n=(e.urlObject,e.headers),o=e.globalConfig,i=void 0===o?{httpMockServer:{enabled:!1}}:o,r=t.url,a=t.params;if(a&&"object"!=typeof a)throw new Error("Search params must be an object");var s=function(e,t){if(t.httpMockServer.enabled){return{url:Er(e,new URL(t.httpMockServer.mockServerUrl).host)}}return{}}(r,i);return Ke(Ke(Ke({},t),s),{headers:n})},Nr=function(e,t,n,o){var i;void 0===n&&(n={httpMockServer:{enabled:!1}});var r=e.url,a=e.params,s=e.disableWixHeaders,c=e.headers,l=o.host,u=o.protocol,p=function(e){var t=e.url,n=e.disableWixHeaders,o=e.wixHeadersOpts;return!n&&Lr(t)?Pr(o):{}}({url:r,disableWixHeaders:s,wixHeadersOpts:t}),d=n.httpMockServer.enabled?((i={})["x-wix-metro-original-url"]=function(e,t){var n=new URL(e,"http://unused.com"),o=n.pathname,i=n.searchParams;if(t=t||i){var r=function(e){return Object.entries(e).map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(encodeURIComponent(n))})).flat().join("&")}(t)||t.toString(),a=r?"?".concat(r):"";return"".concat(o).concat(a)}return o}(r,a),i["x-wix-metro-original-host"]=Or(r)?Tr(r):l,i["x-wix-metro-original-protocol"]=Or(r)?Mr(r):u,i):{};return Ke(Ke(Ke({},p),function(e){e=e||{};var t=Object.keys(e).reduce((function(t,n){var o;return Ke(Ke({},t),((o={})[n.toLowerCase()]=e[n],o))}),{});return t}(c)),d)};var Kr=["code","stack","config","request","response","toJSON","__CANCEL__"],Ur=function(e){function t(n){var o=e.call(this,n.message)||this;return o.isWixHttpError=!0,Object.setPrototypeOf(o,t.prototype),Kr.forEach((function(e){o[e]=n[e]})),o}return Ne(t,e),Object.defineProperty(t.prototype,"requestId",{get:function(){return jr(this.response)},enumerable:!1,configurable:!0}),t}(Error);var Fr=r(1410),Hr=r.n(Fr),Wr=function(){function e(e){void 0===e&&(e={}),this.opts=e,this.opts=function(e){var t=e.adapter;t||(t=Hr(),Ir()&&(t=function(){return require("axios/lib/adapters/http");return r(1410)}()));return Ke({adapter:t,isSSR:!1},e)}(this.opts),this.client=sr().create(this.opts)}return e.isHttpError=function(e){return!!(null==e?void 0:e.isWixHttpError)},e.prototype.request=function(e,t){var n,o;return Ue(this,void 0,void 0,(function(){var i,r,a,s,c,l,u,p=this;return Fe(this,(function(d){var f;return f=this.opts,i=f.baseURL?Tr(f.baseURL):f.isSSR?_r:"undefined"!=typeof self&&self.location?self.location.host:"",r=function(e){return e.baseURL?Mr(e.baseURL):e.isSSR?Ar:"undefined"!=typeof self&&self.location?self.location.protocol:""}(this.opts),a={protocol:r,host:i},s="function"==typeof e?e({isSSR:this.opts.isSSR,host:i}):e,c=(null==t?void 0:t.signedInstance)||(null===(o=(n=this.opts).getAppToken)||void 0===o?void 0:o.call(n))||"",l=this.getHeaders(s,c,a),u=Br({requestOptions:s,urlObject:a,headers:l,globalConfig:kr()}),this.opts.isSSR&&(u.baseURL=this.opts.baseURL?this.opts.baseURL:"".concat(Ar,"://").concat(_r)),[2,this.client.request(u).catch((function(e){return p.maybeFallbackRequest(e,s,a,c)})).catch((function(e){return p.handleRequestError(e,u)})).then((function(e){return p.transformResponse(e,s)}))]}))}))},e.prototype.get=function(e,t){return Ue(this,void 0,void 0,(function(){var n;return Fe(this,(function(o){return n=Ke(Ke({},t),{url:e,method:"GET"}),[2,this.request(n)]}))}))},e.prototype.delete=function(e,t){return Ue(this,void 0,void 0,(function(){var n;return Fe(this,(function(o){return n=Ke(Ke({},t),{url:e,method:"DELETE"}),[2,this.request(n)]}))}))},e.prototype.head=function(e,t){return Ue(this,void 0,void 0,(function(){var n;return Fe(this,(function(o){return n=Ke(Ke({},t),{url:e,method:"HEAD"}),[2,this.request(n)]}))}))},e.prototype.options=function(e,t){return Ue(this,void 0,void 0,(function(){var n;return Fe(this,(function(o){return n=Ke(Ke({},t),{url:e,method:"OPTIONS"}),[2,this.request(n)]}))}))},e.prototype.post=function(e,t,n){return Ue(this,void 0,void 0,(function(){var o;return Fe(this,(function(i){return o=Ke(Ke({},n),{url:e,data:t,method:"POST"}),[2,this.request(o)]}))}))},e.prototype.put=function(e,t,n){return Ue(this,void 0,void 0,(function(){var o;return Fe(this,(function(i){return o=Ke(Ke({},n),{url:e,data:t,method:"PUT"}),[2,this.request(o)]}))}))},e.prototype.patch=function(e,t,n){return Ue(this,void 0,void 0,(function(){var o;return Fe(this,(function(i){return o=Ke(Ke({},n),{url:e,data:t,method:"PATCH"}),[2,this.request(o)]}))}))},Object.defineProperty(e.prototype,"CancelToken",{get:function(){return sr().CancelToken},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCancel",{get:function(){return sr().isCancel},enumerable:!1,configurable:!0}),e.prototype.getHeaders=function(e,t,n){if("function"==typeof this.opts.createHeaders)return this.getCustomHeaders(e,t);var o={signedInstance:t,artifactId:this.opts.artifactId,csrf:!1,multilingualOptions:this.opts.multilingualOptions};return Nr(e,o,kr(),n)},e.prototype.getCustomHeaders=function(e,t){var n=e.url,o=t&&Lr(n)?{authorization:t}:{},i=this.opts.createHeaders();return Ke(Ke({},i),o)},e.prototype.handleRequestError=function(e,t){var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(Ur.bind.apply(Ur,We([void 0],e,!1)))}(e);throw function(e){Ue(this,void 0,void 0,(function(){return Fe(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e()];case 1:case 2:return t.sent(),[3,3];case 3:return[2]}}))}))}((function(){var e;return null===(e=t.onError)||void 0===e?void 0:e.call(t,n)})),n},e.prototype.maybeFallbackRequest=function(e,t,n,o){var i,r,a;if(kr().httpMockServer.enabled&&kr().httpMockServer.allowUnmocked&&404===(null===(i=e.response)||void 0===i?void 0:i.status)&&"NO_SCENARIO_FOUND"===(null===(a=null===(r=e.response)||void 0===r?void 0:r.data)||void 0===a?void 0:a.msg)){var s=this.getHeaders(t,o,n),c=Br({requestOptions:t,urlObject:n,headers:s});return this.client.request(c)}throw e},e.prototype.transformResponse=function(e,t){var n=jr(e),o=function(e,t){var n=e.data;t._pickResponseBody&&(n=Rr(e.data,t._pickResponseBody));if(t._logs){var o=Rr(e.data,t._logs);(null==o?void 0:o.length)&&o.map((function(e){return console.log.apply(console,e)}))}return n}(e,t);return Ke(Ke({},e),{data:o,requestId:n})},e.CancelToken=sr().CancelToken,e.isCancel=sr().isCancel,e}();const Gr=async(e,t)=>{const n=await e.document.info.getAppInstance(q);return new Wr({baseURL:t,getAppToken:()=>n})},qr="https://members.wixapps.net/_api/members-area/_api",Vr=async e=>{const t=await Gr(e,qr);await t.post("/settings/publish",{})};let zr,$r,Jr=Promise.resolve();const Xr=new Promise(((e,t)=>{zr=e,$r=t})),Qr=()=>{zr(),Rt(!0)},Yr=()=>{$r(),Rt(!1)};async function Zr(e,t){try{await Jr}catch(t){Le("Rejected promise in enforceSequentiality",{tags:{methodName:e},extra:{error:JSON.stringify(t),stack:JSON.stringify(t&&t.stack)}}),Jr=Promise.resolve()}const n=vt.isSuccessfulEditorReady;return Jr=n?Jr.then(t):Jr.then((()=>Promise.reject(new Error("Error occurred in members area platform. Members area api not available")))),Jr}Zr("initial promise",(()=>Xr));const ea=q;async function ta(e,t){const n=$;return e.components.add(ea,{pageRef:t,componentDefinition:n,customId:de})}async function na(e){const t=(await e.controllers.listControllers(ea,{})).find((e=>(null==e?void 0:e.controllerRef.id)===de));return null==t?void 0:t.controllerRef}async function oa(e){return e.controllers.listAllControllers(ea)}async function ia(e,t){const n=await e.controllers.listConnectedComponents(ea,t);for(const t of n)await e.components.remove(ea,{componentRef:t})}async function ra(e,t){await e.components.remove(ea,{componentRef:t.controllerRef})}async function aa(e){const t=await async function(e){const t=await oa(e),n=(await Promise.all(t.map((async t=>{let n=t.controllerRef;return n.id.includes("_r_")?{controllerRef:await e.components.refComponents.getTemplateComponent(ea,{componentRef:n})}:{controllerRef:n}})))).filter(((e,t,n)=>n.findIndex((t=>t.controllerRef.id===e.controllerRef.id))===t));return n}(e);for(const n of t)if(Dt())try{await ia(e,n),await ra(e,n)}catch(e){Le("An error occured when deleting controllers in EditorX. However they are expected to be deleted by the platform",{extra:{e:e}})}else await ia(e,n),await ra(e,n);const n=[ge.appDefinitionId,"1518f596-5744-ae33-0524-4fe42c3ee64e"];await async function(e,t){const n=await e.components.getAllComponents(Ka);for(const o of n){const n=await es({editorSDK:e,componentRef:o});n&&(-1!==t.indexOf(n.appDefinitionId)&&await Qa({editorSDK:e,componentRef:o}))}}(e,n)}async function sa(e){let t=e.editorSDK,n=e.connectToRef,o=e.controllerRef,i=e.role,r=e.connectionConfig,a=void 0===r?{}:r,s=e.isPrimary,c=void 0===s||s;try{await t.controllers.connect(ea,{connectToRef:n,controllerRef:o,connectionConfig:a,role:i,isPrimary:c})}catch(e){throw Le("Failed to connect to controller",{tags:{platformMessage:e.toString()},extra:{args:JSON.stringify({connectToRef:n,controllerRef:o,role:i,connectionConfig:a,isPrimary:c})}}),e}}const ca={componentType:"wysiwyg.viewer.components.SiteRegionContainer",type:"Container",components:[],activeModes:{},layoutResponsive:{type:"LayoutData",componentLayouts:[{type:"ComponentLayout",width:{type:"auto"},height:{type:"auto"}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"stretch",alignSelf:"stretch",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:30}}}],containerLayouts:[{type:"GridContainerLayout",rows:[{type:"fr",value:1},{type:"px",value:40}],columns:[{type:"fr",value:1}]}]},layout:{x:0,y:0,fixedPosition:!1,width:z,height:290,scale:1,rotationInDegrees:0},style:{type:"StylesInBreakpoint",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin",stylesInBreakpoints:[{styleType:"custom",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin",type:"ComponentStyle",style:{properties:{"alpha-bg":"1","alpha-brd":"1",bg:"color_11","boxShadowToggleOn-shd":"false",brd:"color_15",brw:"0",rd:"0px",shd:"0px 0px 0px 0px rgba(0,0,0,0)"},propertiesSource:{bg:"theme",brd:"theme",brw:"value",rd:"value",shd:"value"},groups:{}}}]}},la={"alpha-bg":"0","alpha-brd":"1","alpha-brd-dd":"0.2","badge-bg":"#E21C21","badge-txt":"color_11",bg:"color_11","bg-dd":"color_11","boxShadowToggleOn-shd":"false","boxShadowToggleOn-shd-dd":"false",brd:"color_15","brd-dd":"color_15",brw:"0","brw-dd":"1px",fillcolor:"color_18",fnt:"font_8","fnt-size-dd":"15px",rd:"0px","rd-dd":"0px",shd:"0 0 0 transparent","shd-dd":"0 0 0 transparent",txt:"color_18","txt-dd":"color_15",txth:"color_19","txth-dd":"color_19","txt-slct-dd":"color_19",avatarAndArrowStrokeWidth:"0",avatarCornerRadius:"100px"},ua={type:"LoginSocialBar",loggedInMember:"avatarOnly",loggedOutText:"Log In",showLoggedInText:!1,loggedInText:"Hello",logOutText:"Log Out",menuItemsRef:null,iconItemsRef:null,language:"en",role:"members_login"},pa={type:"ConnectionList",items:[{type:"ConnectionItem",controllerId:"login-bar-controller-id",isPrimary:!0,config:"{}",role:"members-login-bar"}]},da={type:"LoginSocialBarProperties",buttonsDirection:"ltr",iconSize:26,dropDownTextAlignment:"left",buttonsAlignment:"right"},fa={width:{type:"percentage",value:100},height:{type:"percentage",value:100}},ga={type:"LayoutData",componentLayouts:[x()({},fa,{type:"ComponentLayout",minHeight:{type:"px",value:40}})],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"stretch",alignSelf:"start",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:0}}}],containerLayouts:[]},ma={type:"StylesInBreakpoint",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",stylesInBreakpoints:[{type:"ComponentStyle",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",componentClassName:"wysiwyg.viewer.components.LoginSocialBar",styleType:"custom",style:{properties:la,propertiesSource:{},groups:{}}}]},ha=x()({},{componentType:"platform.components.AppWidget",style:{skin:"platform.components.skins.AppWidgetSkin",style:{}},type:"Container",layout:{width:120,height:40,x:850,y:24,scale:1,rotationInDegrees:0,fixedPosition:!1},layoutResponsive:{type:"LayoutData",componentLayouts:[{type:"ComponentLayout",width:{type:"px",value:120},height:{type:"px",value:40},minHeight:{type:"px",value:40}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"end",alignSelf:"center",margins:{left:{type:"percentage",value:0},top:{type:"px",value:0},right:{type:"px",value:70},bottom:{type:"px",value:0}}}],containerLayouts:[{type:"GridContainerLayout",rows:[{type:"fr",value:1}],columns:[{type:"fr",value:1}]}]},data:{type:"AppController",applicationId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",name:"login-bar-controller",controllerType:"members-login-bar",id:"login-bar-controller-id"}},{components:[{type:"Component",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",componentType:"wysiwyg.viewer.components.LoginSocialBar",data:ua,props:da,style:ma,layout:{width:120,height:40,scale:1,rotationInDegrees:0,fixedPosition:!1,x:0,y:0},layoutResponsive:ga,connections:pa}]}),ya="members-menu",ba={type:"ConnectionList",items:[{type:"ConnectionItem",controllerId:"members-menu-controller-id",isPrimary:!0,config:"{}",role:"members-menu"}]},va={type:"Component",data:{type:"CustomMenuDataRef",menuRef:"#MEMBERS_SUB_MENU",role:"members_menu"},componentType:"wysiwyg.viewer.components.menus.DropDownMenu",layout:{width:956,height:40,scale:1,rotationInDegrees:0,fixedPosition:!1,x:0,y:0},props:{type:"HorizontalMenuProperties",alignButtons:"left",alignText:"left",sameWidthButtons:!1,stretchButtonsToMenuWidth:!1,moreButtonLabel:"More",moreItemHeight:15},style:{styleType:"custom",type:"ComponentStyle",skin:"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin",componentClassName:"wysiwyg.viewer.components.menus.DropDownMenu",style:{properties:{"boxShadowToggleOn-shd":"true","alpha-bgDrop":"1","alpha-brdh":"1","alpha-brd":"0","alpha-brds":"1",bgDrop:"color_11",brd:"color_15",brdh:"color_17",brds:"color_18",fnt:"font_8",menuTotalBordersX:"0",pad:"10",rd:"0px",shd:"0px 1px 4px 0px rgba(0,0,0,0.2)",txt:"color_15",txth:"color_17",txts:"color_18"},propertiesSource:{"boxShadowToggleOn-shd":"value","alpha-bgDrop":"value","alpha-brd":"value","alpha-brdh":"value","alpha-brds":"value",bgDrop:"theme",brd:"theme",brdh:"theme",brds:"theme",fnt:"theme",menuTotalBordersX:"value",pad:"value",rd:"value",shd:"value",txt:"theme",txth:"theme",txts:"theme"}}}},wa=x()({},va,{props:x()({},va.props,{itemsAlignment:"right",alignButtons:"right",alignText:"right"})}),Pa={componentType:"platform.components.AppWidget",type:"Container",style:{skin:"platform.components.skins.AppWidgetSkin",style:{}},layout:{width:z,height:40,x:12,y:250,scale:1,rotationInDegrees:0,fixedPosition:!1},data:{type:"AppController",applicationId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",name:"members-menu-controller",controllerType:ya,id:"members-menu-controller-id"}},Sa={type:"LayoutData",componentLayouts:[{type:"ComponentLayout",height:{type:"px",value:40},width:{type:"percentage",value:100},minHeight:{type:"px",value:40},maxWidth:{type:"px",value:974}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:2,columnStart:1,rowEnd:3,columnEnd:2},justifySelf:"center",alignSelf:"start",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:0}}}],containerLayouts:[{type:"GridContainerLayout",rows:[{type:"fr",value:1}],columns:[{type:"fr",value:1}]}]},Da={type:"LayoutData",componentLayouts:[{type:"ComponentLayout",height:{type:"px",value:40},minHeight:{type:"px",value:40}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"stretch",alignSelf:"start",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:0}}}],containerLayouts:[]},Ia={type:"StylesInBreakpoint",skin:"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin",stylesInBreakpoints:[{styleType:"custom",type:"ComponentStyle",skin:"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin",componentClassName:"wysiwyg.viewer.components.menus.DropDownMenu",style:{properties:{"boxShadowToggleOn-shd":"true","alpha-bgDrop":"1","alpha-brdh":"1","alpha-brd":"0","alpha-brds":"1",bgDrop:"color_11",brd:"color_15",brdh:"color_17",brds:"color_18",fnt:"font_8",menuTotalBordersX:"0",pad:"10",rd:"0px",shd:"0px 1px 4px 0px rgba(0,0,0,0.2)",txt:"color_15",txth:"color_17",txts:"color_18"},propertiesSource:{"boxShadowToggleOn-shd":"value","alpha-bgDrop":"value","alpha-brd":"value","alpha-brdh":"value","alpha-brds":"value",bgDrop:"theme",brd:"theme",brdh:"theme",brds:"theme",fnt:"theme",menuTotalBordersX:"value",pad:"value",rd:"value",shd:"value",txt:"theme",txth:"theme",txts:"theme"}}}]},_a=x()({},Pa,{layoutResponsive:Sa,components:[x()({},va,{layoutResponsive:Da,style:Ia,connections:ba})]}),Aa=x()({},Pa,{layoutResponsive:Sa,components:[x()({},wa,{layoutResponsive:Da,style:Ia,connections:ba})]}),xa=["he","ar"],Oa=e=>xa.includes(e),Ra=async e=>(e=e||window.editorSDK,await e&&e.info&&e.info.getLanguage());async function Ma(e,t){return new Promise(((n,o)=>{Ni.use(Do).init({lng:t,fallbackLng:"en",keySeparator:"$",interpolation:{escapeValue:!1},backend:{loadPath:e+"assets/locale/Members/Members_{{lng}}.json",crossDomain:!0},react:{wait:!0}},(e=>e?o(e):n(Ni)))}))}var Ta=Ma;const Ca=async(e,t)=>{const n=t?await(async e=>(e=e||window.editorSDK,await e&&e.environment&&e.environment.getLocale()))(e):await Ra(e),o=await Ma(_t(),n);return o.t.bind(o)},Ea="members-login-bar",ka={componentType:"platform.components.AppWidget",style:{skin:"platform.components.skins.AppWidgetSkin",style:{}},type:"Container",layout:{width:120,height:40,x:850,y:56,scale:1,rotationInDegrees:0,fixedPosition:!1},data:{type:"AppController",applicationId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",name:"login-bar-controller",controllerType:Ea,id:"login-bar-controller-id"}},ja=x()({},ka,{layout:{x:810,y:56,fixedPosition:!1,width:120,height:40,scale:1,rotationInDegrees:0}}),La=[{type:"Component",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",componentType:"wysiwyg.viewer.components.LoginSocialBar",data:ua,props:da,style:{type:"TopLevelStyle",style:{properties:la,propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.LoginSocialBar",pageId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin"},layout:{width:120,height:40,scale:1,rotationInDegrees:0,fixedPosition:!1,x:0,y:0},connections:pa}],Ba=x()({},ka,{components:La}),Na=x()({},ja,{components:La}),Ka=q;async function Ua(e,t){const n=Dt(),o=await ft(),i=!It()||o,r=ge.appDefinitionId;if(await nr({editorSDK:e,appDefinitionId:r})){const t=await ir({editorSDK:e,appDefinitionId:r});if(null!=t&&t.applicationId){const n=await rr({editorSDK:e,applicationId:t.applicationId});if(n&&n.length>0){const t=await async function(e){let t=e.editorSDK,n=e.ids;const o=e=>t.components.getById(Ka,{id:e});return Promise.all(n.map(o))}({editorSDK:e,ids:n.map((e=>e.id))});await async function(e){let t=e.editorSDK,n=e.componentsRefs;return Promise.all(n.map((e=>t.components.remove(Ka,{componentRef:e}))))}({editorSDK:e,componentsRefs:t})}}else Le("Invalid getDataByAppDefId",{extra:{appDefinitionId:r,source:"addProfileWidget"}})}await e.tpa.add.application(Ka,x()({appDefinitionId:r},i?ye:he,{containerRef:t,cancelSave:!0}));try{if(i){const t=(await e.tpa.app.getDataByAppDefId(Ka,ge.appDefinitionId)).applicationId,n=await e.tpa.app.getAllCompsByApplicationId(Ka,t),o=await e.components.getById(Ka,{id:n[0].id});await e.components.layout.update(Ka,{componentRef:o,layout:ye})}}catch(e){Le("An error occured when resizing PW to horizontal layout, the MA installation will most likely look broken",{tags:{error:e.toString()}})}if(n){const t=(await e.tpa.app.getDataByAppDefId(Ka,ge.appDefinitionId)).applicationId,n=(await e.tpa.app.getAllCompsByApplicationId(Ka,t))[0].id,o=await e.components.getById(Ka,{id:n});await e.document.responsiveLayout.update(Ka,{componentRef:o,responsiveLayout:me})}}async function Fa(e,t,n){const o=Dt(),i=!It(),r=!!await async function(e,t){const n=await rs(e);return(await Promise.all(n.map((t=>es({editorSDK:e,componentRef:t}))))).find((e=>(null==e?void 0:e.widgetId)===t))}(e,"1380bbc4-1485-9d44-4616-92e36b1ead6b"),a=r?X:J,s=e.info.getLanguage(Ka),c=await e.components.layout.get(Ka,{componentRef:n});let l;a.layout.y=(c.height-a.layout.height)/2,a.data.language=await s;let u=t;if(i){const t=o?ha:r?Na:Ba;u=await e.components.add(Ka,{pageRef:n,componentDefinition:t,showAddToHeaderPanel:!1}),l=(await e.document.components.getChildren(Ka,{componentRef:u}))[0]}else l=await e.components.add(Ka,{pageRef:n,componentDefinition:o?a:x()({},a,{layoutResponsive:void 0}),showAddToHeaderPanel:!1});await Ha(e,l,!i)}async function Ha(e,t,n){const o=zi(),i={menuItemsRef:{menuRef:"#"+o.login,type:"CustomMenuDataRef"},iconItemsRef:{menuRef:"#"+o.icons,type:"CustomMenuDataRef"}};if(await e.components.data.update(Ka,{componentRef:t,data:i}),n){const n=await na(e);await sa({editorSDK:e,controllerRef:n,connectToRef:t,role:"members_login"})}}async function Wa(e,t,n,o,i,r){void 0===i&&(i=!1);const a=Dt(),s=It(),c=await ft(),l=(!It()||c)&&i,u=a||l,p=!s,d=await Ra(e),f=Oa(d),g=await Ta(_t(),d);if(p){let o;a?(o=f?Aa:_a,o.components[0].props.moreButtonLabel=g.t("Members_Subpages_Horizontal_Menu")):(o=(e=>{let t,n,o=e.isHorizontal,i=e.isRtl;return o?(t=i?wa:va,n=x()({},Pa,{layout:{width:956,height:40,x:12,y:250,scale:1,rotationInDegrees:0,fixedPosition:!1}})):(t=i?Z:Q,n=x()({},Pa,{layout:{x:20,y:275,width:250,height:94,scale:1,rotationInDegrees:0,fixedPosition:!1}})),x()({},n,{components:[x()({},t,{connections:ba})]})})({isHorizontal:i,isRtl:f}),o.components[0].props.moreButtonLabel=g.t("Members_Subpages_Horizontal_Menu"));const r=await e.components.add(Ka,{pageRef:n,componentDefinition:o,showAddToHeaderPanel:!1}),s=(await e.document.components.getChildren(Ka,{componentRef:r}))[0];return qa(e,s,t)}let m;if(u){const e=x()({},ee,{layout:x()({},ee.layout,{y:r||ee.layout.y})}),t=x()({},Y,{layout:x()({},Y.layout,{y:r||Y.layout.y})});m=f?e:t,m.props.moreButtonLabel=g.t("Members_Subpages_Horizontal_Menu")}else m=f?Z:Q;const h=await e.components.add(Ka,{pageRef:n,componentDefinition:m,showAddToHeaderPanel:!1});await Promise.all([Ga(e,h,o),qa(e,h,t)])}async function Ga(e,t,n){await sa({editorSDK:e,controllerRef:n,connectToRef:t,role:"members_menu"})}async function qa(e,t,n){await e.menu.connect(Ka,{menuCompPointer:t,menuId:n})}async function Va(e,t){var n;const o=t.id!==de&&"AppController"===(null==(n=await e.components.data.get(Ka,{componentRef:t}))?void 0:n.type);let i=t;if(o){var r;if(i=null==(r=(await e.controllers.getControllerConnections("",{controllerRef:t}))[0])?void 0:r.componentRef,!i)return}const a=await e.components.data.get(Ka,{componentRef:i}),s=await Ra(e);(function(e){if(!e)return!1;switch(e.type){case"LoginSocialBar":return!0;case"CustomMenuDataRef":case"MenuDataRef":return"#MEMBERS_SUB_MENU"===e.menuRef;default:return!1}})(a)&&(await e.components.properties.update(Ka,{componentRef:i,props:{itemsAlignment:Oa(s)?"right":"left"}}),"LoginSocialBar"===a.type?await Ha(e,i,!o):"MenuDataRef"!==a.type&&"CustomMenuDataRef"!==a.type||o||await async function(e,t){const n=zi(),o=await na(e);await Promise.all([Ga(e,t,o),qa(e,t,n.members)])}(e,i))}async function za(e){const t=await $a(e);t&&await e.components.remove(Ka,{componentRef:t})}async function $a(e){const t=await e.components.getById(Ka,{id:fe});if(t)return t;return await e.components.getById(Ka,{id:"SOSP_CONTAINER_CUSTOM_ID_1"})}function Ja(e){let t=e.editorSDK,n=e.componentRef;return t.components.layout.get("",{componentRef:n})}function Xa(e){let t=e.editorSDK,n=e.componentRef,o=e.layout;return t.document.components.layout.update("",{componentRef:n,layout:o})}function Qa(e){let t=e.editorSDK,n=e.componentRef;return t.document.components.remove("",{componentRef:n})}function Ya(e){let t=e.editorSDK,n=e.componentRef;return t.document.components.getChildren("",{componentRef:n})}async function Za(e){let t=e.editorSDK,n=e.parentComponentRef;const o=await t.document.components.getChildren(Ka,{componentRef:n}),i=await Promise.all(o.map((e=>Za({editorSDK:t,parentComponentRef:e}))));return Gt().flatten(o.concat(i))}function es(e){let t=e.editorSDK,n=e.componentRef;return t.document.components.data.get("",{componentRef:n})}async function ts(e){let t=e.editorSDK;const n=await $a(t),o=await Ya({editorSDK:t,componentRef:n}),i=await Promise.all(o.map((e=>es({editorSDK:t,componentRef:e})))),r=i.find((e=>e.appDefinitionId===ge.appDefinitionId));return o[i.indexOf(r)]}async function ns(e){let t=e.editorSDK,n=e.pwComponentRef,o=e.sospContainerRef,i=e.menuRef;const r=n||await ts({editorSDK:t}),a=o||await $a(t),s=i||await async function(e){let t=e.editorSDK,n=e.sospContainerRef;const o=await Ya({editorSDK:t,componentRef:n}),i=await Promise.all(o.map((e=>es({editorSDK:t,componentRef:e})))),r=i.find((e=>e.menuRef==="#"+te));return o[i.indexOf(r)]}({editorSDK:t,sospContainerRef:a});if(!s||!a||!r)return;const c=await Ja({editorSDK:t,componentRef:r}),l=await Ja({editorSDK:t,componentRef:s}),u=c.y+c.height+30,p=c.height+l.height+60+60;await Xa({editorSDK:t,componentRef:a,layout:{height:p}}),await Xa({editorSDK:t,componentRef:s,layout:{y:u}})}function os(e){let t=e.editorSDK,n=e.id;return t.document.components.getById("",{id:n})}function is(e){let t=e.editorSDK,n=e.componentRef,o=e.style;return t.document.components.style.updateFull("",{componentRef:n,style:o})}async function rs(e){const t=await e.siteSegments.getHeader(Ka);return Za({editorSDK:e,parentComponentRef:t})}async function as(e){const t=(await rs(e)).map((t=>async function(e){let t=e.editorSDK,n=e.componentRef;return t.components.getType(Ka,{componentRef:n})}({editorSDK:e,componentRef:t})));return(await Promise.all(t)).includes("wysiwyg.viewer.components.LoginSocialBar")}function ss(e){return e.document.application.registerToCustomEvents(Ka,{eventTypes:["componentAddedToStage"]})}const cs=async e=>{const t=[],n=zi(),o=await Promise.all([$a(e),e.pagesGroup.getAll(q),Vt(e),e.controllers.listControllers(q,{})]),i=o[0],r=o[1],a=o[2],s=o[3];for(const o of Object.values(n)){const n=await e.menu.getById(q,{menuId:o});n&&t.push(n)}return{_routers:a,controllers:s,_menus:t,sospContainer:i,pagesGroupsRefs:r}};async function ls(e,t){return async function(e,t){let n=(void 0===t?{}:t).shouldLog,o=void 0!==n&&n;const i=await cs(e),r=i._routers,a=i._menus,s=i.sospContainer,c=i.pagesGroupsRefs;o&&2===r.length&&a.length>=2&&!s&&Le("SOSP container is not apparent when checking whether the application is properly installed",{extra:{pagesGroupsRefs:JSON.stringify(c)}});const l=2===r.length&&(r[0].pages.length>0||r[1].pages.length>0);return 2===r.length&&a.length>=2&&(s?1===c.length:l)}(e,t)}var us;!function(e){e.IntegrationStart="integrationStart",e.IntegrationFinish="integrationFinish",e.MembersAreaInstallStart="membersAreaInstallStart",e.MembersAreaInstallFinish="membersAreaInstallFinish",e.IntegratedAppsInstallStart="integratedAppsInstallStart",e.IntegratedAppsInstallFinish="integratedAppsInstallFinish"}(us||(us={}));class ps{static setEditorSDK(e){ps.editorSDK=e}static getEditorSDK(){return ps.editorSDK}static setEditorReadyOptions(e){ps.editorReadyOptions=e}static getEditorReadyOptions(){return ps.editorReadyOptions}static setAppDefinitionId(e){ps.appDefinitionId=e}static getAppDefinitionId(){return ps.appDefinitionId}static getIntegrationOptions(){return ps.integrationOptions}static setIntegrationOptions(e){ps.integrationOptions=e}static setInstallationEnabled(e){ps.installationEnabled=e}static getInstallationEnabled(){return ps.installationEnabled}static setWasMembersAreaInstalledInitially(e){ps.wasMembersAreaInstalledInitially=e}static getWasMembersAreaInstalledInitially(){return ps.wasMembersAreaInstalledInitially}static setFlowApi(e){ps.flowApi=e}static getFlowApi(){return ps.flowApi}}ps.installationEnabled=!0,ps.wasMembersAreaInstalledInitially=!1;const ds=te,fs=ne,gs=oe;const ms=(e,t,n,o)=>{const i=t.filter((e=>(e=>{var t,n;let o=e.item,i=e.privateRouter;const r=e.publicRouter.config.patterns||{},a=i.config.patterns||{};return!!r["/"+(null==(t=o.link)?void 0:t.innerRoute)]||!!a["/"+(null==(n=o.link)?void 0:n.innerRoute)]})({item:e,privateRouter:n,publicRouter:o})));if(i.length<t.length){Le("Fixing menu "+e+": removing items which are not apparent in any router",{tags:{removedItems:t.filter((e=>i.indexOf(e)<0)).map((e=>e.label)).join(", ")}})}return i},hs=e=>{let t=e.items,n=e.menuId;const o=[];return t.forEach((e=>{!o.find((t=>t.link.innerRoute===e.link.innerRoute))?o.push(e):Le("Fixing menu "+n+": removing item duplication",{tags:{removedItem:e.label}})})),o};async function ys(e){const t=!!e.document.menu.getDefaultMenuId&&!!await(n={editorSDK:e},n.editorSDK.document.menu.getDefaultMenuId(q));var n;return bs({editorSDK:e,shouldDisableHorizontalMenuFixing:t&&!It(),shouldDisableLoginMenuFixing:t&&!Dt()&&!It()})}async function bs(e){let t=e.editorSDK,n=e.shouldDisableHorizontalMenuFixing,o=e.shouldDisableLoginMenuFixing;const i=await Promise.all([en(t),Xi({editorSDK:t,menuId:ds}),Xi({editorSDK:t,menuId:fs}),Xi({editorSDK:t,menuId:gs})]),r=i[0],a=r.publicRouter,s=r.privateRouter,c=i[1],l=i[2],u=i[3],p=n?c:ms(ds,c,s,a),d=o?l:ms(fs,l,s,a),f=ms(gs,u,s,a),g=n?p:hs({items:p,menuId:ds}),m=o?d:hs({items:d,menuId:fs}),h=hs({items:f,menuId:gs}),y=[];g.length<c.length&&y.push(er({editorSDK:t,menuId:ds,items:g})),m.length<l.length&&y.push(er({editorSDK:t,menuId:fs,items:m})),h.length<u.length&&y.push(er({editorSDK:t,menuId:gs,items:h})),y.length>0&&await Promise.all(y)}function vs(e){let t=e.page,n=e.urlOverride,o=e.publicRouter,i=e.privateRouter;const r=t.pageData,a=t.pageData.isPrivate?i.id:o.id;let s=n||r.pageUriSEO;s=r.isPrivate?s:"{userName}/"+s;const c={type:"DynamicPageLink",routerId:a,innerRoute:s};return{type:"BasicMenuItem",items:[],label:r.title,link:c}}function ws(e){let t=e.appBaseUrl,n=e.isPrivate;return{type:"BasicMenuItem",label:e.title,link:{type:"ExternalLink",url:"{domain}/"+t+"/"+(n?"":"{userName}/")+e.pageUriSEO},isVisible:!0,isVisibleMobile:!0}}function Ps(e){let t=e.menuItems;return[e.publicRouter,e.privateRouter].forEach((e=>e.config&&e.config.patterns&&Object.keys(e.config.patterns).forEach((n=>{const o=t.filter((t=>{var o;return(null==(o=t.link)?void 0:o.routerId)===e.id&&"/"+t.link.innerRoute===n})).pop();o&&(o.order=e.config.patterns[n].appData.menuOrder||2)})))),Gt().sortBy(t,(e=>e.order||2))}async function Ss(e){let t=e.editorSDK,n=e.pages;const o=await Promise.all([en(t),Xi({editorSDK:t,menuId:ds}),Xi({editorSDK:t,menuId:fs}),Xi({editorSDK:t,menuId:gs})]),i=o[0],r=i.publicRouter,a=i.privateRouter,s=o[1],c=o[2],l=o[3],u=function(e){let t=e.pages,n=e.publicRouter,o=e.privateRouter;return t.filter((e=>e.showInMemberMenu||void 0===e.showInMemberMenu)).map((e=>vs({page:e,urlOverride:e.urlOverride,publicRouter:n,privateRouter:o})))}({pages:n,publicRouter:r,privateRouter:a}),p=function(e){let t=e.pages,n=e.publicRouter,o=e.privateRouter;return t.filter((e=>e.showInLoginMenu)).map((e=>{const t=vs({page:e,urlOverride:e.urlOverride,publicRouter:n,privateRouter:o});return x()({},t,{label:e.loginMenuTitle||e.pageData.title})}))}({pages:n,publicRouter:r,privateRouter:a}),d=function(e){let t=e.pages,n=e.publicRouter,o=e.privateRouter;return t.filter((e=>e.showInIconsMenu)).map((e=>{const t=vs({page:e,urlOverride:e.urlOverride,publicRouter:n,privateRouter:o});return x()({},t,{iconRef:{svgId:"2c36dc006cb94853a49daee7e821f642.svg",type:"VectorImage"}})}))}({pages:n,publicRouter:r,privateRouter:a}),f=u.length>0,g=p.length>0,m=d.length>0,h=Ps({menuItems:s.concat(u),publicRouter:r,privateRouter:a}),y=Ps({menuItems:c.concat(p),publicRouter:r,privateRouter:a}),b=Ps({menuItems:l.concat(d),publicRouter:r,privateRouter:a});return Promise.all([f&&er({editorSDK:t,menuId:ds,items:h}),g&&er({editorSDK:t,menuId:fs,items:y}),m&&er({editorSDK:t,menuId:gs,items:b})].filter((e=>!!e)))}async function Ds(e){let t=e.editorSDK,n=e.pageRef,o=e.pageData;await t.pages.data.update(q,{pageRef:n,data:x()({},o,{indexable:!1})})}async function Is(e){let t=e.editorSDK,n=e.pageRef;await t.pages.navigateTo(q,{pageRef:n})}function _s(e){let t=e.editorSDK,n=e.pageRef;return t.pages.data.get(q,{pageRef:n})}function As(e){return e.editorSDK.pages.getCurrent(q)}function xs(e){let t=e.editorSDK,n=e.pageRef,o=e.shouldShowEditorRemovePanel,i=e.pageToNavigateAfterRemove;return t.document.pages.remove(q,{pageRef:n,shouldShowEditorRemovePanel:o,pageToNavigateAfterRemove:i})}function Os(e){return e.editorSDK.document.pages.data.getAll(q)}async function Rs(e){const t=(await e.document.pages.data.getAll(q)).find((e=>"members-area"===e.tpaPageId));if(!t)throw new Error("Members Area main page is not found");return t}async function Ms(e){const t=await e.pagesGroup.getAll(q);for(const n of t)await e.pagesGroup.remove(q,{pagesGroupPointer:n})}async function Ts(e,t){let n=void 0===t?{}:t,o=n.triesCount,i=void 0===o?1:o,r=n.maxTries,a=void 0===r?2:r,s=n.delayMs,c=void 0===s?0:s,l=n.condition,u=void 0===l?()=>!0:l,p=n.message,d=n.previousError;try{const t=await e();if(!u(t))throw new Error('Condition in "'+p+'" was not satisfied');return i>1&&Le("Retry suceeded at "+i+" time, message: "+p,{tags:{previousError:d&&d.toString()}}),t}catch(t){if(a<=1)throw"string"==typeof t?new Error("Failed after multiple retries: "+t):(t.message="Failed after multiple retries: "+t.message,t);return c>0&&await new Promise((e=>setTimeout(e,c))),Ts(e,{maxTries:a-1,delayMs:c,triesCount:i+1,condition:u,message:p,previousError:t})}}function Cs(e){let t;const n=e=>{t||(t=e)};return Promise.all(e.map((e=>Promise.resolve(e).catch(n)))).then((function(e){if(t)throw t;return e}))}async function Es(e,t){if(!e)return;const n=await Promise.all(e.map(t));return e.filter(((e,t)=>n[t]))}const ks=async(e,t)=>e.document.transactions.runAndWaitForApproval(q,t),js=async e=>{await je("removePage.platform",(()=>Ns(e))),await vc(e.editorSDK),await(async e=>{1===(await e.document.pages.getApplicationPages(q)).length&&await e.document.application.reloadManifest()})(e.editorSDK)},Ls=async e=>{let t=e.pageId,n=e.appDefinitionId,o=e.editorSDK,i=e.shouldDisableTransaction;const r=await Gs({editorSDK:o,app:{pageId:t,appDefinitionId:n}});return js({editorSDK:o,id:null==r?void 0:r.id,shouldDisableTransaction:i})},Bs=async(e,t)=>{let n=t.id;const o=await Os({editorSDK:e}),i=await As({editorSDK:e});let r=i;const a=o.find((e=>e.id===n));return i.id===(null==a?void 0:a.id)&&(r=await async function(e){let t=e.editorSDK;const n=(await t.document.pages.data.getAll(q)).find((e=>"member_info"===e.tpaPageId));return n&&{id:n.id}}({editorSDK:e})),r},Ns=async e=>{let t=e.editorSDK,n=e.id,o=e.shouldDisableTransaction;const i=await os({editorSDK:t,id:n});if(!i)return void Le("removeMembersAreaPagePlatform - componentRef not found");const r=await t.components.getPage(q,{componentRef:i});if(!r)return void Le("removeMembersAreaPagePlatform - pageRef not found");const a=async()=>{const e=await Vt(t);for(const n of Object.values(e)){const e=Xt(r,n);if(e){const o=null==e?void 0:e.replace(/\/?(.*)/,"$1");await Zi({editorSDK:t,pattern:o}),await on({editorSDK:t,router:n,patternKey:e})}}await xs({editorSDK:t,pageRef:r,shouldShowEditorRemovePanel:!1,pageToNavigateAfterRemove:await Bs(t,{id:n}).catch((e=>{Le("getPageToNavigateAfterRemove failed in removeMembersAreaPagePlatform",{extra:e})}))})};o?await a():await ks(t,a)};function Ks(e){let t=e.editorSDK,n=e.pages;return Promise.all(n.map((e=>async function(e){let t=e.editorSDK,n=e.page;const o=await _s({editorSDK:t,pageRef:n.pageData.pageRef});o&&o.pageSecurity&&!o.pageSecurity.requireLogin&&await Ds({editorSDK:t,pageRef:n.pageData.pageRef,pageData:{pageSecurity:{requireLogin:!0}}})}({editorSDK:t,page:e}))))}function Us(e){let t=e.editorSDK,n=e.pages;return Promise.all(n.map((e=>Ts((()=>{var n;return async function(e,t,n){const o=await e.pagesGroup.getByGroupName(q,{groupName:t});await e.pagesGroup.addPageToPagesGroup(q,{pagesGroupPointer:o,pageId:n})}(t,pe,null==(n=e.pageData.pageRef)?void 0:n.id)}),{delayMs:200,message:"Retry adding page to a pages group"}))))}function Fs(e){return Ds({editorSDK:e.editorSDK,pageRef:e.pageRef,pageData:{managingAppDefId:we}})}async function Hs(e){let t=e.editorSDK,n=e.pages;const o=await en(t),i=o.publicRouter,r=o.privateRouter,a=n.filter((e=>e.pageData.isPrivate)),s=n.filter((e=>!e.pageData.isPrivate)),c=a.length>0,l=s.length>0;await Promise.all([c&&nn({editorSDK:t,pages:a,router:r}),l&&nn({editorSDK:t,pages:s,router:i}),c&&Ks({editorSDK:t,pages:a})].filter((e=>!!e)));try{await Us({editorSDK:t,pages:n})}catch(e){Le("Failed to add new page to the pages group, SOSP will not be visible in the page",{extra:{error:e.toString(),stack:null==e?void 0:e.stack}})}return Ss({editorSDK:t,pages:n})}async function Ws(e){const t=await e.document.pages.getApplicationPages(q),n=[],o=[];return t.forEach((e=>{const t={id:e.id,type:"DESKTOP"};_e&&_e.includes(e.tpaPageId)?n.push(t):o.push(t)})),await e.document.pages.setState("",{state:{readOnly:n,deletable:o}}),e.document.application.reloadManifest()}async function Gs(e){let t=e.editorSDK,n=e.app;const o=n.pageId,i=n.appDefinitionId,r=await Os({editorSDK:t});let a,s;if(i){const e=await ir({editorSDK:t,appDefinitionId:i});s=null==e?void 0:e.applicationId,s||Le("Invalid getDataByAppDefId",{extra:{appDefinitionId:i,source:"getPageByIntegrationApp",app:n}})}return a=s?r.find((e=>e.tpaPageId===o&&e.tpaApplicationId===s)):r.find((e=>e.tpaPageId===o)),a}async function qs(e){let t=e.editorSDK;const n=await en(t),o=n.publicRouter,i=void 0===o?{}:o,r=n.privateRouter,a=void 0===r?{}:r;return[...i.pages||[],...a.pages||[]].map((e=>e.pageRef))}async function Vs(e,t){if(!await async function(){return await dt(),"true"===pt.get("specs.AddMinHeight")}())return e;const n=e.filter((e=>e.pageRef)).map((e=>{let n=e.pageRef;return function(e){let t=e.editorSDK,n=e.pageRef,o=e.props;return t.components.properties.update("",{componentRef:{id:n.id,type:n.type},props:o})}({editorSDK:t,pageRef:n,props:ce})}));return Cs(n).then((()=>e))}async function zs(e){var t,n;for(const t of Ie)if(await nr({editorSDK:e,appDefinitionId:t}))return!0;const o=(await en(e)).publicRouter;return Object.keys(null!=(t=null==o||null==(n=o.config)?void 0:n.patterns)?t:{}).length>0}const $s=async(e,t)=>{const n=await Gs({editorSDK:e,app:{pageId:Re,appDefinitionId:Oe}});await Fs({editorSDK:e,pageRef:{id:null==n?void 0:n.id}}),await Ls({appDefinitionId:Oe,pageId:Re,editorSDK:e,shouldDisableTransaction:t})},Js=async e=>{let t=e.editorSDK;if(It())return!1;try{const e=await ir({editorSDK:t,appDefinitionId:Pe}),n=null==e?void 0:e.applicationId;if(!n)throw Le("Invalid getDataByAppDefId",{extra:{appDefinitionId:Pe,source:"isMyAccountLayoutHorizontal"}}),new Error("No applicationId received in getDataByAppDefId");const o=await rr({editorSDK:t,applicationId:n}),i=await os({editorSDK:t,id:o[0].id}),r=await Ja({editorSDK:t,componentRef:i});return r.x<100}catch(e){return!It()}},Xs=(e,t)=>e.appDefinitionId===t.appDefinitionId&&e.pageId===t.pageId,Qs=e=>e.reduce(((e,t)=>((e,t)=>!t.some((t=>t.appDefinitionId===e.appDefinitionId&&t.pageId===e.pageId)))(t,e)?[...e,t]:e),[]),Ys={type:"LayoutData",containerLayouts:[],itemLayouts:[{alignSelf:"start",justifySelf:"center",type:"GridItemLayout",gridArea:{rowStart:1,rowEnd:2,columnStart:1,columnEnd:2},margins:{left:{value:0,type:"px"},right:{type:"px",value:0}}},{type:"GridItemLayout",gridArea:{rowStart:1,rowEnd:2,columnStart:1,columnEnd:2},alignSelf:"start",justifySelf:"center",margins:{left:{type:"px",value:0},right:{type:"px",value:0}}},{type:"GridItemLayout",gridArea:{rowStart:1,rowEnd:2,columnStart:1,columnEnd:2},alignSelf:"start",justifySelf:"center",margins:{left:{type:"px",value:0},right:{type:"px",value:0}}}],componentLayouts:[{height:{type:"auto"},width:{type:"percentage",value:100},type:"ComponentLayout",maxWidth:{type:"px",value:1e3}},{type:"ComponentLayout",hidden:!1},{type:"ComponentLayout",hidden:!1}]},Zs=async e=>{let t=e.editorSDK,n=e.applications,o=e.shouldNavigate;const i=n.map((e=>nr({editorSDK:t,appDefinitionId:e.appDefinitionId}).then((t=>!t&&e)))),r=await Promise.all(i).then((e=>e.filter(Boolean)));if(await yt()){const e=[];for(const n of r){const i=n.appDefinitionId,r=await tr(t,{appDefinitionId:i,shouldNavigate:o});e.push(r)}return e}return Cs(r.map((e=>{let n=e.appDefinitionId;return tr(t,{appDefinitionId:n,shouldNavigate:o})})))},ec=async e=>{let t=e.editorSDK,n=e.applications,o=e.shouldNavigate;const i=await Lc({editorSDK:t});let r=[];const a=async e=>{const n=e.method,o="addApplication"===n;delete e.method;const i=o?"sdk.tpa.add.application":"sdk.tpa.add.component",r={extra:{definition:e},tags:{pageId:e.page.pageId}},a=await Tt(i,15e3,(()=>o?tr(t,e):function(e,t){return e.tpa.add.component(q,t)}(t,e)),r);return Dt()&&await async function(){return await dt(),"true"===pt.get("specs.membersArea.setResponsiveLayoutForApps")}()&&await(async e=>{let t,n=e.method,o=e.editorSDK,i=e.definition,r=e.addResponse;if("addApplication"===n){const e=(await o.tpa.app.getDataByAppDefId(q,i.appDefinitionId)).applicationId;t=(await o.tpa.app.getAllCompsByApplicationId(q,e))[0].id}else t=r.compId;const a=await o.components.getById(q,{id:t});await o.document.responsiveLayout.update(q,{componentRef:a,responsiveLayout:Ys})})({method:n,editorSDK:t,definition:e,addResponse:a}),a};if(await yt())for(const e of n){const t=await a(e);r.push(t)}else r=await Promise.all(n.map((e=>a(e))));return Promise.resolve(r).then((e=>{const r=n.map((e=>or({editorSDK:t,appDefinitionId:e.appDefinitionId,sectionId:e.page.pageId}).then((t=>{if(t)i.maPageInstalled({originAppId:e.appDefinitionId,pageName:e.page.pageId});else{Le("App installation failed verification just after the successful installation",{tags:{pageId:e.page.pageId,appDefinitionId:e.appDefinitionId}})}}))));return Promise.all(r).then((()=>o?(e=>{var n;const o=null==(n=e[0])?void 0:n.pageRef;return Is({editorSDK:t,pageRef:o}),e})(e):e))})).then((e=>Vs(e,t)))},tc=e=>{let t=e.applications,n=e.pages,o=e.routers;return t.map(((e,t)=>{const i=!e.social,r=n[t],a="notifications_app"===e.pageId,s=(e=>{let t=e.page,n=e.app,o=e.routers;const i=o.publicRouter,r=o.privateRouter,a=n.social?i:r,s=a.config&&a.config.patterns&&Object.keys(a.config.patterns)||[],c=n.urlOverride&&Qt(s,n.urlOverride);return{pageUriSEO:t&&t.pageUriSEO&&Qt(s,t.pageUriSEO),urlOverride:c}})({page:r,app:e,routers:o}),c=s.urlOverride,l=s.pageUriSEO;return{routerConfig:{socialHome:!!e.socialHome,pageId:r.id,appData:{numbers:e.numbers,appDefinitionId:e.appDefinitionId,appPageId:e.pageId,menuOrder:e.menuOrder||2,visibleForRoles:e.visibleForRoles||[]}},urlOverride:c,pageData:x()({isPrivate:i},r,{pageUriSEO:l}),showInLoginMenu:e.showInLoginMenu,showInMemberMenu:e.showInMemberMenu,appDefinitionId:e.appDefinitionId,loginMenuTitle:e.loginMenuTitle,showInIconsMenu:a,menuIds:{members:ds,login:fs,icons:gs}}}))},nc=async e=>{let t=e.editorSDK,n=e.applications,o=e.forceHorizontalLayout,i=e.shouldNavigate;const r=Dt()||o||await Js({editorSDK:t}),a=(e=>{let t=e.applications,n=e.isHorizontalLayout;return t.map((e=>x()({method:e.method,appDefinitionId:e.appDefinitionId,managingAppDefId:we,componentType:"PAGE",shouldNavigate:!!e.shouldNavigate,page:{pageId:e.pageId,requireLogin:!e.social,shouldNavigate:!!e.shouldNavigate,showInLoginMenu:!!e.showInLoginMenu},biData:e.biData},n?ue:le)))})({applications:n,isHorizontalLayout:r}),s=await ec({editorSDK:t,applications:a,shouldNavigate:i}),c=await en(t)||{publicRouter:{},privateRouter:{}},l=tc({applications:n,pages:s,routers:c});await Hs({editorSDK:t,pages:l}),r||await ns({editorSDK:t}),await Ws(t),await vc(t),await oc(t,n)},oc=async(e,t)=>{try{const n=await en(e);t.forEach((e=>{const o=e.social?n.publicRouter:n.privateRouter;rn(o,e.pageId)||Le("Application was added but is not found in the router, it will probably be disconnected from MA",{tags:{appPageId:e.pageId},extra:{appPageId:e.pageId,applications:t,router:o}})}))}catch(e){Le("Failed to confirm applications installation",{extra:{e:e}})}},ic=(e,t)=>e.map((e=>x()({},e,{biData:t}))),rc=async e=>{let t=e.editorSDK,n=e.applications,o=e.biData,i=void 0===o?{}:o,r=e.forceHorizontalLayout,a=void 0!==r&&r,s=e.shouldNavigate,c=void 0!==s&&s;const l=n.filter((e=>"addApplicationToSite"===e.method)),u=Qs(n.filter((e=>"addApplicationToSite"!==e.method))),p=await(async e=>{let t=e.editorSDK;const n=e.applications.map((e=>{const n=e.appDefinitionId,o=e.pageId;return o?or({editorSDK:t,appDefinitionId:n,sectionId:o}).then((t=>!t&&e)):Promise.resolve(e)}));return(await Promise.all(n)).filter((e=>!!e))})({editorSDK:t,applications:u});await yt()?(l.length>0&&await Zs({editorSDK:t,applications:l,shouldNavigate:c}),p.length>0&&await nc({editorSDK:t,applications:ic(p,i),forceHorizontalLayout:a,shouldNavigate:c})):await Promise.all([l.length>0&&Zs({editorSDK:t,applications:l,shouldNavigate:c}),p.length>0&&nc({editorSDK:t,applications:ic(p,i),forceHorizontalLayout:a,shouldNavigate:c})].filter((e=>!!e))),await(async(e,t)=>{try{if(1===t.length&&t[0].pageId===W.pageId){(await Xi({editorSDK:e,menuId:ne})).find((e=>"my-wishlist"===e.link.innerRoute))||Le("My Wishlist menu item did not add to login menu when supposed to")}}catch(e){Le("Failed to confirm My Wishlist installation",{extra:{e:e}})}})(t,n)},ac=e=>"wishlist"===e.pageId;async function sc(e){try{if(await async function(e){const t=await Vt(e);if(2!==t.length){const n=await cs(e);Le("Missing routers when they should be apparent ",{extra:{routers:JSON.stringify(t),applicationState:JSON.stringify(n)}})}}(e),!await async function(e){const t=zi();return 3===(await Promise.all([Qi({editorSDK:e,menuId:t.members}),Qi({editorSDK:e,menuId:t.login}),Qi({editorSDK:e,menuId:t.icons})])).filter(Boolean).length}(e))return;const t=await async function(e){const t=await Vt(e);let n=!1;for(const r of t){var o,i;const t=Object.entries(null!=(o=null==(i=r.config)?void 0:i.patterns)?o:{});for(const o of t){const t=o[0],i=o[1],a=i.appData,s=i.page;if(null==a||!a.appDefinitionId||null==a||!a.appPageId)continue;const c=await or({editorSDK:e,appDefinitionId:a.appDefinitionId,sectionId:a.appPageId}),l=r.pages.find((e=>e.pageRoles.includes(s)));c&&l||(Le("MA-260 - Deleting incorrect router pattern",{extra:{router:r,patternKey:t},tags:{isAppSectionInstalled:c,pageRefExistsInRouter:l}}),await on({editorSDK:e,router:r,patternKey:t}),n=!0)}}return n}(e);t?await bs({editorSDK:e,shouldDisableHorizontalMenuFixing:!1,shouldDisableLoginMenuFixing:!1}):await ys(e)}catch(e){Le("An error was thrown while fixing a broken installation",{extra:e})}}async function cc(e){const t=await Vt(e),n=t.find((e=>"private"===e.config.type)),o=null==n?void 0:n.pages[0];if(!o||!o.pageRef){const e=new Error("Could not retrieve a private page when navigating to first private page");throw i=e,void 0===(r={extra:{allRouters:JSON.stringify(t)}})&&(r={}),null==(a=Te)||a.captureException(i,r),e}var i,r,a;await Is({editorSDK:e,pageRef:o.pageRef})}async function lc(e){const t=await e.pages.getCurrent(q);return!!(await qs({editorSDK:e})).find((e=>e.id===t.id))}async function uc(e){var t;return Is({editorSDK:e,pageRef:await(t={editorSDK:e},t.editorSDK.pages.getHomePage(q))})}async function pc(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!1),n){if(t){const t=await cs(e),n=await async function(e){const t=await cs(e),n=t._routers,o=t.controllers,i=t._menus,r=t.sospContainer,a=t.pagesGroupsRefs;return 0===n.length&&0===o.length&&0===i.length&&!r&&0===a.length}(e),o={state:JSON.stringify(t)};Le(n?"Removing components for empty installation":"Removing components for broken installation",{extra:o})}try{await cc(e)}catch(e){}await za(e),await Ms(e);try{await lc(e)&&await uc(e)}catch(e){Le("Failed to check if MA is in the home page, continuing broken MA uninstallation",{extra:e})}await Jt(e),await $t(e),await aa(e),await Vi(e)}}const dc=async(e,t)=>{var n,o;const i=await e.responsiveLayout.get("",{componentRef:t}),r=i.componentLayouts[0],a=null==(n=r.height)?void 0:n.type,s=null==(o=r.width)?void 0:o.type;if("percentage"===a&&"percentage"===s)return;const c=[x()({},i.componentLayouts[0],fa)],l=x()({},i,{componentLayouts:c});await e.responsiveLayout.update("",{componentRef:t,responsiveLayout:l})},fc=async e=>{try{const t=Dt(),n=await async function(){return await dt(),"true"===pt.get("specs.membersArea.fixLoginBarResponsiveLayout")}();if(t&&n){const t=await e.components.findAllByType("",{componentType:"wysiwyg.viewer.components.LoginSocialBar"});for(const n of t)await dc(e,n)}}catch(e){Le("An error was thrown while fixing a login bar responsive layout",{extra:e})}},gc=e=>"addApplication"===e.method,mc=e=>t=>e.document.tpa.isApplicationInstalled(q,{appDefinitionId:t}),hc=(e,t,n,o)=>Zr("editorApi.registerMembersAreaApps",(()=>je("editorApi.registerMembersAreaApps",(async()=>{var i;const r=await xo({i18next:Ki(),applications:e,editorSDK:n,applicationsOptions:o}),a=At(),s=Qs([...null!=(i=a[t])?i:[],...r]);wt(x()({},a,{[t]:s}));try{await Tc(n,t,s)}catch(e){Le("resetRolesOnSocialVertical failed in registerMembersAreaApps",{extra:{error:e}})}(async(e,t)=>{try{const n=(await Promise.all(t.map((t=>ir({editorSDK:e,appDefinitionId:t.appDefinitionId}).then((e=>({applicationId:e?e.applicationId:null,appDefinitionId:t.appDefinitionId,pageId:t.pageId}))))))).filter((e=>!!e.applicationId)),o=await Os({editorSDK:e}),i=await qs({editorSDK:e}),r=o.filter((e=>!!n.find((t=>e.tpaPageId===t.pageId&&e.tpaApplicationId===t.applicationId)))).filter((e=>!i.find((t=>t.id===e.id)))),a=r.filter((e=>!e.managingAppDefId||e.managingAppDefId===we));a.length!==r.length&&Le("Could not delete loose pages because it is already managed by some application",{extra:{alreadyManagedPages:r.filter((e=>!!e.managingAppDefId&&e.managingAppDefId!==we))}}),await Promise.all(a.filter((e=>!e.managingAppDefId)).map((t=>Fs({editorSDK:e,pageRef:{id:t.id}})))),await Promise.all(a.map((t=>e.pages.remove("",{pageRef:{id:t.id||""},shouldShowEditorRemovePanel:!1})))),a.length>0&&Le("Succesfully removed loose MA pages outside MA routers",{extra:{registeredApplications:t,loosePages:r}})}catch(e){Le("An error has occured when searching for loose MA pages outside MA routers",{extra:{error:e,registeredApplications:t}})}})(n,e)})))),yc=async(e,t,n)=>{const o=await Lc({editorSDK:t});o.verticalTriggeredMaInstallInitiated({originAppId:e});const i=xt(e).filter((e=>!1!==e.shouldInstallInitially));i.length>0&&await(async(e,t,n)=>await ls(t,{shouldLog:!1})?je(await yt()?"editorApi.addApplicationsSync":"editorApi.addApplications",(()=>rc({editorSDK:t,applications:e,forceHorizontalLayout:!1,biData:null==n?void 0:n.biData}))):(console.warn("Members Area installation was corrupted so the integrations pages will not be added"),void Le("Skipping addApplications as the application is not ready and probably already deleted")))(i,t,n),await bc(t,e),o.verticalTriggeredMaInstallSuccess({originAppId:e})},bc=async(e,t)=>{try{if(t===O.dn&&!It()&&await xc(e)){const t=Ot()?Ic.BWP_ONLY:Ic.BWP_ALL;t!==await Rc(e)&&await Mc(e,t)}}catch(e){Le("Failed to set Blog Profile type",{extra:{error:e}})}},vc=async e=>{if(It())return;const t=await zs(e),n=await xo({applications:Ae.concat(t?xe:[]),editorSDK:e,i18next:Ki()});wt(x()({},At(),{[Pe]:n}))},wc=async e=>{const t=At();return(await Es(Object.keys(t),mc(e))).reduce(((e,n)=>x()({},e,{[n]:t[n]})),{})},Pc=async(e,t)=>{if(vt.isUninstalling)return;const n=(e=>{let t=e.routers,n=e.pageRole;const o=t.privateRouter,i=t.publicRouter,r=o.config.patterns||{},a=i.config.patterns||{},s=Object.entries(r).find((e=>e[1].page===n)),c=Object.entries(a).find((e=>e[1].page===n));return s?{patternKey:s[0],router:o}:c?{patternKey:c[0],router:i}:{}})({routers:await en(e),pageRole:t}),o=n.patternKey,i=n.router;if(o){if(i)try{await on({editorSDK:e,router:i,patternKey:o})}catch(e){Le("Failed to remove pattern from router when handling vertical section deletion",{extra:{patternKey:o,router:i,stack:null==e?void 0:e.stack}})}try{const t=o.replace(/\/?(.*)/,"$1");await Zi({editorSDK:e,pattern:t})}catch(e){Le("Failed to remove pattern from menus when handling vertical section deletion",{extra:{patternKey:o,router:i,stack:null==e?void 0:e.stack}})}}},Sc=(e,t)=>{try{return(async(e,t)=>{const n=await Gr(e,qr);await n.put("/settings/merge/global?viewMode=Editor",t)})(e,{showFollowers:t})}catch(e){Le("Failed to set showFollowers setting to false for blog writers profile integration",{extra:{error:e.toString()}})}};function Dc(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let Ic;!function(e){e.ALL="all",e.BWP_ONLY="bwp-only",e.BWP_ALL="bwp-all"}(Ic||(Ic={}));const _c=["admin","blog_writer","blog_editor"],Ac=R.pageId,xc=async e=>{const t=await wc(e);return t[O.dn]&&1===Object.values((n=t,o="14cffd81-5215-0a7f-22f8-074b0e2401fb",n[o],Ut()(n,[o].map(Dc)))).flat().filter((e=>e.pageId===Ac)).length;var n,o},Oc=async e=>{const t=rn((await en(e)).publicRouter,Ac);return null==t?void 0:t.appData},Rc=async e=>{let t=Ic.ALL;const n=await Oc(e);var o;n&&await xc(e)&&(t=null!=(o=n.visibleForRoles)&&o.includes("blog_writer")?Ic.BWP_ONLY:Ic.BWP_ALL);return t},Mc=async(e,t)=>{const n=await Oc(e);var o;n&&(n.visibleForRoles=null!=(o=n.visibleForRoles)?o:[],t===Ic.BWP_ONLY?n.visibleForRoles=n.visibleForRoles.filter((e=>!_c.includes(e))).concat(_c):t===Ic.BWP_ALL&&(n.visibleForRoles=n.visibleForRoles.filter((e=>!_c.includes(e)))),await(async(e,t)=>{const n=(await en(e)).publicRouter;rn(n,Ac).appData=t;const o=await Yt({editorSDK:e,prefix:n.prefix});await Zt({editorSDK:e,config:n.config,routerRef:o})})(e,n))},Tc=async(e,t,n)=>{if((await wc(e))[O.dn]&&t!==O.dn&&n.some((e=>e.pageId===Ac))){var o;const t=await Oc(e);null!=t&&null!=(o=t.visibleForRoles)&&o.length&&await Mc(e,Ic.BWP_ALL)}};let Cc,Ec,kc;!function(e){e.ShowPublicOn="show_public_on",e.ShowPublicOff="show_public_off",e.Profile="profile",e.ProfileAll="profile_all",e.ProfileBlogWriters="profile_blog_writers",e.Followers="followers",e.Members="members",e.BackToOverviewCTA="back_to_overview_cta",e.FindMorePagesCTA="find_more_pages_cta"}(Cc||(Cc={})),function(e){e.Editor="editor"}(Ec||(Ec={})),function(e){e.ManageMemberPages="manage_member_pages",e.ActionsMenu="actions_menu",e.EditorProfileSettings="editor_profile_settings",e.ProfileManageMemberPages="editor_profile_manage_member_pages",e.GeneralSettingsPanel="general-settings-panel"}(kc||(kc={}));const jc={[R.appDefinitionId]:Cc.Profile,[j.appDefinitionId]:Cc.Followers,[M.appDefinitionId]:Cc.Members},Lc=async e=>{var t;let n=e.editorSDK,o=e.withClientId,i=e.options;const r=new Bc,a=null==i||null==(t=i.origin.info)?void 0:t.type;return await r.init(n,o,a),r};class Bc{constructor(){var e=this;Et()(this,"logger",void 0),Et()(this,"baseProps",{}),Et()(this,"init",(async function(t,n,o){void 0===n&&(n=!0);const i=await t.info.getAppInstance("");i||Le("missing instance in platform however the editor script will proceed");const r=i?kt("instanceId",i):void 0,a=i?kt("biToken",i):void 0;e.baseProps={app_id:we,instance_id:r,biToken:a,originInfo:o},n&&(e.baseProps.client_id=i?kt("uid",i):void 0)})),Et()(this,"logMembersMenuToggle",(e=>{let t=e.pageId,n=e.pageName,o=e.toggle_status,i=e.is_social;const r=x()({},this.baseProps,{pageId:t,pageName:n,toggleName:"Members Menu",toggle_status:o,is_social:i});return this.logger.report(Nt(r))})),Et()(this,"logLoginMenuToggle",(e=>{let t=e.pageId,n=e.pageName,o=e.toggle_status,i=e.is_social;const r=x()({},this.baseProps,{pageId:t,pageName:n,toggleName:"Login Menu",toggle_status:o,is_social:i});return this.logger.report(Nt(r))})),Et()(this,"logInstallationFailure",(e=>{const t=x()({},this.baseProps,{errorMsg:e,appInstanceId:this.baseProps.app_id});return delete t.app_id,this.logger.report({evid:821,src:69,endpoint:"members-app-users",params:t})})),Et()(this,"addPageButtonClick",(e=>{let t=e.origin,n=e.pageName,o=e.pageId,i=e.appId;return this.logger.report({evid:907,src:69,endpoint:"members-app-users",params:x()({},this.baseProps,{origin:t,pageName:n,pageId:o,appId:i})})})),Et()(this,"loadMembersCustomPages",(e=>{let t=e.pageName,n=e.pageId,o=e.appId;return this.logger.report({evid:906,src:69,endpoint:"members-app-users",params:x()({},this.baseProps,{pageName:t,pageId:n,appId:o})})})),Et()(this,"verticalTriggeredMaInstallInitiated",(e=>{let t=e.originAppId;return this.logger.report({evid:822,src:69,endpoint:"members-app-users",params:x()({},this.baseProps,{originAppId:t})})})),Et()(this,"verticalTriggeredMaInstallSuccess",(e=>{let t=e.originAppId;return this.logger.report({evid:823,src:69,endpoint:"members-app-users",params:x()({},this.baseProps,{originAppId:t})})})),Et()(this,"maPageInstalled",(e=>{let t=e.originAppId,n=e.pageName;return this.logger.report({evid:824,src:69,endpoint:"members-app-users",params:x()({},this.baseProps,{originAppId:t,pageName:n})})})),Et()(this,"managePagesActionDelete",(e=>{let t=e.pageId,n=e.pageName,o=e.value,i=e.appId;return this.logger.report({evid:825,src:69,endpoint:"members-app-users",params:x()({},this.baseProps,{pageId:t,pageName:n,value:o,appId:i})})})),Et()(this,"managePagesAddMemberPagesClick",(e=>{let t=e.origin,n=e.referralInfo;return this.logger.report({evid:826,src:69,endpoint:"members-app-users",params:x()({},this.baseProps,{origin:t,referralInfo:n})})})),Et()(this,"managesPagesModalTabNavigation",(e=>{let t=e.tabName;return this.logger.report({evid:827,src:69,endpoint:"members-app-users",params:x()({},this.baseProps,{tabName:t})})})),Et()(this,"membersProfileSelection",(e=>{let t=e.value;return this.logger.report({evid:829,src:69,endpoint:"members-app-users",params:x()({},this.baseProps,{value:t})})})),Et()(this,"memberPagesSettingsOpen",(e=>this.logger.report({evid:908,src:69,endpoint:"members-app-users",params:x()({},this.baseProps,{referralinfo:e})}))),Et()(this,"togglePublicPageAvailability",(e=>{const t=e?Cc.ShowPublicOn:Cc.ShowPublicOff;return this.memberPagesSettingsAction({value:t})})),Et()(this,"onProfilePageTypeChange",(e=>{const t=e===Ic.BWP_ONLY?Cc.ProfileBlogWriters:Cc.ProfileAll;return this.memberPagesSettingsAction({value:t})})),Et()(this,"onFindMorePagesClick",(()=>this.memberPagesSettingsAction({value:Cc.FindMorePagesCTA}))),Et()(this,"onBackToOverviewClick",(()=>this.memberPagesSettingsAction({value:Cc.BackToOverviewCTA}))),Et()(this,"onPageToggle",(e=>this.memberPagesSettingsAction({value:jc[e]}))),Et()(this,"memberPagesSettingsSaveConfirm",((e,t,n)=>{if(!n)return this.pagesSettingsSaveConfirm({selection:void 0});const o=e.appsToRemove,i=e.appsToInstall,r=t.filter((e=>e.isInstalled?!o.some((t=>{let n=t.integrationApplication;return Xs(n,e.integrationApplication)})):i.some((t=>{let n=t.integrationApplication;return Xs(n,e.integrationApplication)})))).map((e=>{let t=e.integrationApplication;return jc[t.appDefinitionId]})).toString();return this.pagesSettingsSaveConfirm({selection:r})})),Et()(this,"pagesSettingsSaveConfirm",(e=>{let t=e.selection,n=e.modalName;return this.logger.report({evid:910,src:69,endpoint:"members-app-users",params:x()({},this.baseProps,{origin:Ec.Editor,selection:t,modalName:n})})})),Et()(this,"memberPagesSettingsAction",(e=>{let t=e.value;return this.logger.report({evid:909,src:69,endpoint:"members-app-users",params:x()({},this.baseProps,{value:t,origin:Ec.Editor})})})),this.logger=Bt().factory().logger()}}const Nc=q;async function Kc(e,t,n){const o=De(t);return rc({editorSDK:e,applications:[o],forceHorizontalLayout:n})}async function Uc(e){Pt(!0);const t=Dt();if(!It()&&!t)await e.application.uninstall("",{openConfirmation:!1}),await e.history.add(Nc,{label:"deleting members app - platformised uninstallation"}),await e.editor.save(Nc);else try{t&&await uc(e),await async function(e){if(!await $a(e))return;if(Dt())return za(e);if(await lc(e))await za(e),await uc(e);else{const t=await As({editorSDK:e});await cc(e),await za(e),await Is({editorSDK:e,pageRef:t})}}(e),await Ms(e),await Jt(e),await $t(e),await aa(e),await Vi(e),await e.history.add(Nc,{label:"deleting members app"}),await e.editor.save(Nc)}catch(e){const t="Failed to uninstall Members Area: "+typeof e=="string"?e:e.message;throw Le("Failed to uninstall MA",{tags:{message:t}}),new Error(t)}try{await as(e)&&Le("DM-3935: Login component did not delete after installation, leaving the component without menus",{tags:{isPlatformUninstallation:!0}})}catch(e){Le("Failed verifying that the login component is deleted after uninstallation",{tags:{reason:e}})}Pt(!1)}async function Fc(e,t){try{const n=await yt(),o=Dt(),i=!It()||await ft();let r=Promise.resolve();t=t||{};const a=await Cs([je("install.getSiteStructure",(()=>e.siteSegments.getSiteStructure(Nc))),je("install.getHeader",(()=>e.siteSegments.getHeader(Nc)))]),s=a[0],c=a[1];let l=null;o||(l=await je("install.createController",(()=>ta(e,s))));const u=je("install.createMenus",(()=>async function(e){await Vi(e);const t=e.menu.create(q,{menuData:{name:"Member Menu",items:[]},customId:Ui}),n=Wi(e),o=Gi(e),i=await Promise.all([t.catch((()=>Ui)),n.catch((()=>Fi)),o.catch((()=>Hi))]);return{members:i[0],login:i[1],icons:i[2]}}(e))),p=je("install.createSospContainer",(()=>async function(e,t,n){const o=Dt(),i=await ft(),r=!It()||i,a=await $a(e);if(a)try{Le("SOSP container already existing during the installation");const t=await e.components.getChildren(Ka,{componentRef:a});await Promise.all(t.map((t=>e.components.remove(Ka,{componentRef:t})))),await za(e)}catch(e){throw Le("Can not remove members SOSP container"),e}if(o){const o=Gt().cloneDeep(ca),i=await e.components.layout.get(Ka,{componentRef:t});return o.layout.y+=i.height,e.components.add(Ka,{pageRef:n,componentDefinition:o,showAddToHeaderPanel:!1,customId:fe})}const s=Gt().cloneDeep(r?re:ie),c=await e.components.layout.get(Ka,{componentRef:t});return s.layout.y+=c.height,e.components.add(Ka,{pageRef:n,componentDefinition:s,showAddToHeaderPanel:!1,customId:fe})}(e,c,s))),d=je("install.installRouters",(()=>async function(e){const t=zt(e,ae),n=zt(e,se);await Promise.all([t,n]),2!==(await Vt(e)).length&&Le("Routers not found just after adding them")}(e))),f=je("install.createPagesGroup",(()=>async function(e,t){const n=await e.pagesGroup.getByGroupName(q,{groupName:t});n&&await e.pagesGroup.remove(q,{pagesGroupPointer:n}),await e.pagesGroup.create(q,{groupName:t})}(e,pe))),g=je("install.addLoginButton",(()=>Fa(e,l,c)));await d,n||(r=je("install.addAccountInfo",(()=>Kc(e,t.origin,i))));const m=await p,h=je("install.addProfileWidget",(()=>Ua(e,m))),y=await u;await h,n&&(r=je("install.addAccountInfo",(()=>Kc(e,t.origin,i))));const b=je("install.addSubPagesMenu",(()=>Wa(e,y.members,m,l,i)));await Cs([f,g,r,b]),async function(e){const t=await e.tpa.app.getDataByAppDefId(Nc,"14cffd81-5215-0a7f-22f8-074b0e2401fb"),n=(await Xi({editorSDK:e,menuId:ne})).find((e=>{var t;return"my-account"===(null==e||null==(t=e.link)?void 0:t.innerRoute)}));if(!(await e.pages.data.getAll(Nc)).find((e=>"member_info"===e.tpaPageId))&&n)return void Le("Installation: MA-84 My account menu item is there, but the page is missing");if(!t&&n)return void Le("My account menu item is there but the app data is missing");await e.tpa.app.getAllCompsByApplicationId(Nc,t.applicationId)||Le("My Account page data is existing but the widget is missing")}(e);const v=await je("install.getChildren",(()=>Ya({editorSDK:e,componentRef:m}))),w=[m].concat(v);await Cs([je("install.deselectComponents",(()=>function(e,t){return e.editor.selection.deselectComponents(q,{compsToDeselect:t})}(e,w))),je("install.addComponentToGroup",(()=>async function(e,t,n){const o=await e.pagesGroup.getByGroupName(q,{groupName:t});await e.components.modes.showComponentOnlyOnPagesGroup(q,{componentPointer:n,pagesGroupPointer:o})}(e,pe,m)))]),Ot()&&Sc(e,!1)}catch(e){return Promise.reject(e)}}async function Hc(e,t){if(await async function(e,t){return!!t&&0===(await Vt(e)).length}(e,t.firstInstall))try{const n=await yt()?"installSync":"install",o=()=>je(n,(()=>Fc(e,t)));await Tt("installation",15e3,o)}catch(t){throw Le("Removing initial installation as it failed",{extra:{error:t.toString()}}),await pc(e,!0,!0),t}}async function Wc(e,t){let n=t.firstInstall;try{n&&await async function(){return await dt(),"true"===pt.get("specs.ident.EnableSignUpPrivacyNoteType")}()&&e.siteMembers.setPrivacyNoteType(q,"NOTE")}catch(e){Le("Failed to set privacyNoteType")}}let Gc,qc;!function(e){e.RenameRouter="renameRouter",e.RemovePage="removePage",e.Uninstall="uninstall",e.ManagePages="managePages",e.CreateBlankPage="createBlankPage",e.GeneralSettings="generalSettings",e.MemberPrivacyDashboard="memberPrivacyDashboard"}(Gc||(Gc={})),function(e){e.AddMemberPage="addMemberPage",e.OpenMembersAreaPagesPanel="openMembersAreaPagesPanel",e.OpenMembersAddPanel="openMembersAddPanel",e.OpenMembersAccountBmDashboard="openMembersAccountBmDashboard",e.OpenBadgesDashboard="openBadgesPage",e.OpenSiteMembersDashboard="openSiteMembersDashboard"}(qc||(qc={}));const Vc=e=>({title:e("Pages_Panel_MemberMenu_Open_GeneralSettings"),event:Gc.GeneralSettings,icon:"settingsAction"}),zc=e=>({title:e("Pages_Panel_MemberMenu_Open_MemberPrivacyDashboard"),event:Gc.MemberPrivacyDashboard,icon:"unhideAction"}),$c={type:"view_site_members"},Jc={type:"open_signup_settings"},Xc=e=>({title:e("Pages_Panel_MemberMenu_Add_Page"),type:"add_page",event:Gc.CreateBlankPage,icon:"addPagePagesPanel"}),Qc=e=>({title:e("Pages_Panel_MemberMenu_URLSettings_Link"),event:Gc.RenameRouter,icon:"globe"}),Yc=e=>({title:e("Pages_Panel_MemberMenu_Delete_Link"),event:Gc.Uninstall,icon:"delete_icon"}),Zc={title:"Page Info",event:"pageInfo",icon:"page_dynamic_icon",url:"./assets/pageInfo.html",helpId:"2fd96dc5-ff35-4ead-9917-12b487c59fe4",type:"page_info"},el={title:"Permissions",event:"pagePermissions",icon:"page_dynamic_icon",helpId:"d243ad48-2e17-4786-99d7-23d011aa4bd6",type:"permissions"},tl={title:"SEO Basics",event:"pageSEO",icon:"page_dynamic_icon",url:"./assets/pageSEO.html",helpId:"a621022f-17fa-433a-b4f5-d43994e8c4f6",type:"seo"},nl=(e,t)=>({showOnAllModes:!0,default:[t&&Vc(e),Xc(e),$c,t&&zc(e),Jc,Qc(e),Yc(e)].filter((e=>!!e))});var ol=r(5208);const il="member-permissions/members",rl="badge-definitions",al="members-account";var sl;!function(e){e.INTENT="intent",e.CONFIRM="confirm",e.CANCEL="cancel"}(sl||(sl={}));const cl=async(e,t,n,o)=>{const i=await Lc({editorSDK:e,withClientId:!0}),r=await(async(e,t)=>{if(t.tpaApplicationId){const n=await async function(e){var t;let n=e.editorSDK,o=e.tpaAppId;const i=await n.tpa.app.getAllCompsByApplicationId("",o);return null==i||null==(t=i[0])?void 0:t.appDefinitionId}({editorSDK:e,tpaAppId:t.tpaApplicationId});return n}return t.managingAppDefId})(e,n),a=(e=>{var t;return null!=e&&e.tpaPageId?e.tpaPageId:"custom_"+(null!=e&&null!=(t=e.pageSecurity)&&t.requireLogin?"private":"public")})(n);null==i||i.managePagesActionDelete({pageId:a,pageName:n.title,value:o,appId:r})},ll=async(e,t)=>{const n=await e.document.pages.data.get(q,{pageRef:t}),o=await Ca(e);await cl(e,0,n,sl.INTENT),e.editor.openErrorPanel(q,{shouldShowIllustration:!0,headerText:o("MemberPages_Delete_Page_Title"),topDescriptionText:o("MemberPages_Delete_Any_Page_Warning_New",{title:null==n?void 0:n.title}),mainActionText:o("MemberPages_Delete_AccountInfo_Button_Delete"),secondaryActionText:o("MemberPages_Delete_AccountInfo_Button_Cancel")}).then((async t=>{if(t===ol.PanelResolveType.MAIN_ACTION){cl(e,0,n,sl.CONFIRM);(await e.editor.getAppAPI()).removePage(n)}else cl(e,0,n,sl.CANCEL)}))},ul=async e=>{const t=await Ca(e);e.editor.openErrorPanel(q,{shouldShowIllustration:!0,headerText:t("MemberPages_Delete_AccountInfo_Title"),topDescriptionText:t("MemberPages_Delete_AccountInfo_Body1"),bottomDescriptionText:t("MemberPages_Delete_AccountInfo_Body2")+" "+t("MemberPages_Delete_AccountInfo_Sitemembers_link"),mainActionText:t("MemberPages_Delete_AccountInfo_Button_Delete"),secondaryActionText:t("MemberPages_Delete_AccountInfo_Button_Cancel")}).then((async t=>{if(t===ol.PanelResolveType.MAIN_ACTION){(await e.editor.getAppAPI()).uninstall()}}))},pl=async e=>{const t=await Ca(e),n=await async function(){return await dt(),"true"===pt.get("specs.membersArea.AddNoteToLoginBarRemoveModal")}();await e.editor.openConfirmationPanel("",{headerText:t("ConfirmationPanel_Remove_Login_Bar_Title"),shouldShowIllustration:!0,illustration:_t()+"assets/icons/DeleteSectionIcon.svg",descriptionText:[{tag:"p",content:t("ConfirmationPanel_Remove_Login_Bar_Content")},{tag:"li",content:t("ConfirmationPanel_Remove_Login_Bar_List_Item_One")},{tag:"li",content:t("ConfirmationPanel_Remove_Login_Bar_List_Item_Two")},{tag:"li",content:t("ConfirmationPanel_Remove_Login_Bar_List_Item_Three")},...n?[{tag:"p",content:""},{tag:"p",content:t("ConfirmationPanel_Remove_Login_Bar_Note")}]:[]],mainActionText:t("ConfirmationPanel_Remove_Login_Bar_Main_Action_text")})};async function dl(e){let t=e.eventPayload,n=e.editorSDK;(await Lc({editorSDK:n})).managePagesAddMemberPagesClick({origin:Ec.Editor,referralInfo:null==t?void 0:t.referralInfo}),await n.editor.openModalPanel(q,{url:"./assets/managePages.html",width:1098,height:696,shouldHideHeader:!0,initialData:t})}async function fl(e){let t=e.editorSDK,n=e.eventPayload;const o=Dt()?"?origin=editor_x":"";await t.editor.openModalPanel(q,{url:"./assets/generalSettings.html"+o,width:876,height:631,shouldHideHeader:!0,initialData:n})}function gl(e){return e.editor.openDashboardPanel(q,{url:"/member-privacy-settings/profile-privacy?referralInfo=editor_actions_menu",closeOtherPanels:!1})}var ml=function(e){return e.split("#")};var hl=/{(.*)}/,yl=new RegExp("\\.(".concat(["wix.com","editorx.com"].join("|"),")$")),bl=new RegExp("\\.(".concat(["42.wixprod.net"].join("|"),")$"));function vl(e){var t,n,o=function(e,t){var n=t[e]||t._;if(!n&&function(e){return!!e.match(/\._base_domain_$/)}(e))return t[Sl];return n}(function(e){return e.replace("create.editorx.com","editor.editorx.com")}(e.host).replace(yl,"._base_domain_").replace(bl,"._api_base_domain_"),e.domainToMappings),i=(t=e.protoPath,n=e.data||{},t.split("/").map((function(e){return function(e,t){var n=(e.match(hl)||[])[1];return n?function(e,t,n){for(var o=e,i=0,r=t.split(".");i<r.length;i++){var a=r[i];if(!o)return n;o=o[a]}return o}(t,n,e):e}(e,n)})).join("/"));return function(e,t){var n=null==t?void 0:t.find((function(t){return e.startsWith(t.destPath)}));if(!n)return e;return n.srcPath+e.slice(n.destPath.length)}(i,o)}var wl,Pl,Sl="www._base_domain_";function Dl(e,t){void 0===t&&(t="");var n={};return Object.entries(e).forEach((function(e){var o=e[0],i=e[1],r=null!==i&&"object"==typeof i&&!Array.isArray(i),a=function(e,t){return"".concat(e).concat(e?".":"").concat(t)}(t,o);if(r){var s=Dl(i,a);Object.assign(n,s)}else n[a]=i})),n}function Il(e){var t=Dl(e);return Object.entries(t).reduce((function(e,t){var n=t[0],o=t[1];return(Array.isArray(o)?o:[o]).forEach((function(t){null!=t&&e.append(n,t)})),e}),new URLSearchParams)}function _l(e,t,n){return void 0===t&&(t={}),function(o,i){return void 0===o&&(o={}),"string"==typeof o?o:r(e,o);function r(e,t){var n={};return[null,void 0].includes(t)?t:(Object.entries(t).forEach((function(t){var o,i,r,c,l=t[0],u=t[1],p=function(e){void 0===e&&(e="");var t=ml(e),n=t[0],o=t[1];return o?{schemaName:o,schemaType:n}:{schemaName:n}}(e[l]),d=p.schemaName,f="Map"===p.schemaType;c=(null!==(r=null===(i=null===(o=s(d))||void 0===o?void 0:o.checkRepetable)||void 0===i?void 0:i.call(o,u))&&void 0!==r?r:Array.isArray(u))?u.map((function(e){return a(e,d)})):f?function(e,t){return Object.entries(e).reduce((function(e,n){var o=n[0],i=n[1];return e[o]=a(i,t),e}),{})}(u,d):a(u,d),n[l]=c})),n)}function a(e,n){if(!n)return e;var o=t[n];if(s(n))return s(n).transform(e);if(o)return r(o,e);throw new Error("".concat(n," is neither schema nor serializable type"))}function s(e){var t;return null===(t=n[e])||void 0===t?void 0:t[i]}}}!function(e){e[e.TO_JSON=0]="TO_JSON",e[e.FROM_JSON=1]="FROM_JSON"}(wl||(wl={}));var Al,xl,Ol,Rl,Ml=((Pl={types:["google.protobuf.Timestamp"]})[wl.TO_JSON]={transform:function(e){return e.toISOString()}},Pl[wl.FROM_JSON]={transform:function(e){return new Date(e)}},Pl),Tl=((Al={types:["google.protobuf.FieldMask"]})[wl.TO_JSON]={transform:function(e){return e.join(",")},checkRepetable:function(e){return e.some((function(e){return Array.isArray(e)}))}},Al[wl.FROM_JSON]={transform:function(e){return"object"==typeof e?e.paths:e.split(",")}},Al),Cl=((xl={types:["google.protobuf.BytesValue","BYTES"]})[wl.TO_JSON]={transform:function(e){var t=e.reduce((function(e,t){return e+String.fromCharCode(t)}),"");return btoa(t)}},xl[wl.FROM_JSON]={transform:function(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}},xl),El=((Ol={types:["google.protobuf.Duration"]})[wl.TO_JSON]={transform:function(e){var t=e.seconds,n=void 0===t?"0":t,o=e.nanos,i=void 0===o?0:o,r="";return 0!==i&&(r=".".concat(i.toString().padStart(9,"0"))),"".concat(n).concat(r,"s")}},Ol[wl.FROM_JSON]={transform:function(e){var t=e.substring(0,e.length-1).split(".");return{seconds:t[0],nanos:kl(t[1])}}},Ol);function kl(e){var t=0;if(void 0!==e){var n=3-e.length/3;t=parseInt(e,10)*Math.pow(1e3,n)}return t}var jl=((Rl={types:["FLOAT","DOUBLE","google.protobuf.FloatValue","google.protobuf.DoubleValue"]})[wl.TO_JSON]={transform:function(e){return isFinite(e)?e:e.toString()}},Rl[wl.FROM_JSON]={transform:function(e){return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:e}},Rl),Ll=function(){return Ll=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ll.apply(this,arguments)};var Bl=function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))},Nl=Bl([],[Ml,Tl,Cl,El,jl],!0).reduce((function(e,t){var n=t.types.reduce((function(e,n){var o;return Ll(Ll({},e),((o={})[n]=t,o))}),{});return Ll(Ll({},e),n)}),{});function Kl(e,t){void 0===t&&(t={});var n=_l(e,t,Nl);return{fromJSON:function(e){var t=function(e){try{return JSON.parse(e)}catch(e){}}(e)||e;return n(t,wl.FROM_JSON)},toJSON:function(e){return n(e,wl.TO_JSON)}}}var Ul={},Fl={};function Hl(e){return vl(Object.assign(e,{domainToMappings:{"editor.wixapps.net":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"api._api_base_domain_":[{srcPath:"/members/v1/privacy-settings",destPath:""}],"manage._base_domain_":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"editor._base_domain_":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"blocks._base_domain_":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"create.editorx":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"www.wixapis.com":[{srcPath:"/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],_:[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"www._base_domain_":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}]}}))}const Wl=async e=>{const t=await Gr(e),n=await t.request(function(e){var t=Kl(Ul,{}),n=t.toJSON,o=t.fromJSON,i=Kl(Fl,{}).fromJSON;function r(t){var o=t.host,r=n(e);return{method:"GET",url:Hl({protoPath:"/v1/privacy-settings",data:r,host:o}),params:Il(r),transformResponse:i}}return r.fromReq=o,r}({}));return n.data.memberPrivacySettings};let Gl;!function(e){e.StandAlone="stand-alone",e.Custom="custom",e.TPA="tpa",e.WidgetPlugin="widget-plugin"}(Gl||(Gl={}));const ql=async e=>{const t=await Promise.all([en(e),Os({editorSDK:e})]),n=t[0].publicRouter,o=t[1],i=(e=>{var t;return Object.values(null!=(t=e.config.patterns)?t:{}).map((e=>{var t,n;let o=e.title,i=e.pageId,r=e.appData,a=r.appDefinitionId,s=r.appPageId,c=e.seoData;return{pageType:s?Gl.TPA:Gl.Custom,integrationApplication:{appDefinitionId:a,pageId:s||i},title:null!=(t=null==c||null==(n=c.title)?void 0:n.replace("{userName} | ",""))?t:o,isInstalled:!0}}))})(n),r=(e=>{const t=e.find((e=>e.tpaPageId===Re));return t?{pageType:Gl.StandAlone,integrationApplication:{appDefinitionId:Oe,pageId:void 0},title:t.title,isInstalled:!0}:null})(o);return r?[...i,r]:i},Vl=async e=>{const t=await ql(e),n=await(async(e,t)=>{const n=await Ca(e,!0);return(await xo({editorSDK:e,i18next:Ki(),applications:[R,j,M]})).map((e=>{var o;const i=t.find((t=>{let n=t.integrationApplication;return Xs(n,e)}));if(i)return x()({},i,{application:e});const r=e.page,a=Xs(e,M);return{pageType:a?Gl.StandAlone:Gl.TPA,title:a?n("GeneralSettings_MembersPageTitle"):null!=(o=null==r?void 0:r.name)?o:"",integrationApplication:e,isInstalled:!1}}))})(e,t);return{installedPublicPages:t,promotionalPublicPages:n}},zl=async(e,t)=>{let n=t.appsToInstall,o=t.appsToRemove,i=t.profilePageType,r=0;const a=n.length+o.length+(i?1:0),s=await Ca(e,!0);if(a){await e.editor.openProgressBar(q,{title:s("GeneralSettings_ProgressModal_Title"),totalSteps:a,stepTitle:s("GeneralSettings_ProgressModal_Subtitle")});try{if(n.length&&(await tu(n.map((e=>e.integrationApplication)),!1),await e.editor.updateProgressBar(q,{currentStep:r+=n.length,stepTitle:s("GeneralSettings_ProgressModal_Subtitle")})),o.length)for(const t of o){const n=t.pageType,o=t.integrationApplication,i=o.appDefinitionId===Oe,a=!0;n===Gl.StandAlone&&i?await $s(e,a):n===Gl.TPA?await Ls(x()({},o,{editorSDK:e,shouldDisableTransaction:a})):n===Gl.Custom&&await js({editorSDK:e,id:o.pageId,shouldDisableTransaction:a}),await e.editor.updateProgressBar(q,{currentStep:++r,stepTitle:s("GeneralSettings_ProgressModal_Subtitle")})}i&&(await Mc(e,i),await e.editor.updateProgressBar(q,{currentStep:++r,stepTitle:s("GeneralSettings_ProgressModal_Subtitle")})),await e.editor.closeProgressBar(q,{isError:!1})}catch(t){throw await e.editor.closeProgressBar(q,{isError:!0}),t}}};async function $l(e){let t=e.editorSDK,n=e.sospContainerRef,o=e.pwComponentRef,i=e.isHorizontal,r=e.pwHeight;const a=r?r+Y.layout.height:re.layout.height,s=Gt().cloneDeep(i?x()({},re.layout,{height:a}):ie.layout),c=Gt().cloneDeep(i?re.style:ie.style),l=await t.siteSegments.getHeader(""),u=await Ja({editorSDK:t,componentRef:l});s.y+=u.height,await Promise.all([Xa({editorSDK:t,componentRef:n,layout:s}),is({editorSDK:t,componentRef:n,style:c})]),async function(e){let t=e.editorSDK,n=e.isHorizontal,o=e.sospContainerRef;const i=await t.components.style.get("",{componentRef:o}),r=i.style.properties["alpha-bg"],a=i.style.properties.bg;!n||1===r&&"color_11"===a||Le("The color of SOSP did not change properly after relayout when changing to horizontal layout",{tags:{isHorizontal:n},extra:{alpha:r,bgColor:a}}),n||0===r&&"color_1"===a||Le("The color of SOSP did not change properly after relayout when changing to vertical layout",{tags:{isHorizontal:n},extra:{alpha:r,bgColor:a}})}({editorSDK:t,isHorizontal:i,sospContainerRef:n}),setTimeout((()=>Xa({editorSDK:t,componentRef:n,layout:{y:s.y}})),0),setTimeout((()=>Xa({editorSDK:t,componentRef:n,layout:{height:s.height}})),0),i||await ns({editorSDK:t,pwComponentRef:o,sospContainerRef:n})}async function Jl(e){let t=e.editorSDK,n=e.pwComponentRef,o=e.sospContainerRef;const i=x()({},n,{type:"MOBILE"}),r=x()({},o,{type:"MOBILE"}),a=await Ya({editorSDK:t,componentRef:o}),s=await Ya({editorSDK:t,componentRef:r}),c=a.filter((e=>!Gt().isEqual(e,n))),l=s.filter((e=>!Gt().isEqual(e,i))),u=await oa(t),p=await async function(){return await dt(),"true"===pt.get("specs.membersArea.handleMobileComponentsDeletion")}();await Promise.all(c.map((e=>async function(e){let t=e.editorSDK,n=e.allControllers,o=e.componentRef;const i=n.find((e=>e.controllerRef.id===o.id));return i&&await ia(t,i),Qa({editorSDK:t,componentRef:o})}({editorSDK:t,allControllers:u,componentRef:e})))),p&&await Promise.all(l.map((e=>async function(e){let t=e.editorSDK,n=e.componentRef;try{const e=x()({},n,{type:"MOBILE"});(await t.components.get("",{componentRefs:e}))[0]&&await t.document.components.remove("",{componentRef:x()({},n,{type:"MOBILE"})})}catch(e){Le("Mobile component delete failure: ",e)}}({editorSDK:t,componentRef:e}))))}async function Xl(e){let t=e.editorSDK,n=e.pwComponentRef,o=e.isHorizontal;const i=e.pwHeight||ye.height,r=o?x()({},ye,{height:i}):he;await Xa({editorSDK:t,componentRef:n,layout:r})}async function Ql(e){let t=e.editorSDK;const n=await qs({editorSDK:t}),o=await Promise.all(n.map((e=>_s({editorSDK:t,pageRef:e})))),i=o.filter((e=>e.tpaApplicationId&&e.tpaApplicationId>0)),r=o.filter((e=>void 0===e.tpaApplicationId||0===e.tpaApplicationId)).map((e=>e.id)),a=i.map((e=>e.tpaApplicationId)),s=await Promise.all([Promise.all(r.map((e=>os({editorSDK:t,id:e})))),Promise.all(a.map((e=>rr({editorSDK:t,applicationId:e}))))]),c=s[0],l=s[1].reduce(((e,t)=>[...e,...t]),[]).filter((e=>o.map((e=>e.id)).indexOf(e.pageId)>-1)),u=await Promise.all([Promise.all(c.map((e=>Ya({editorSDK:t,componentRef:e})))),Promise.all(l.map((e=>os({editorSDK:t,id:e.id}))))]),p=u[0];return{allVerticalsPagesComponentsRefs:u[1],allCustomPagesComponentsFlat:p.reduce(((e,t)=>[...e,...t]),[])}}async function Yl(e){let t=e.editorSDK,n=e.isHorizontal,o=e.pwHeight;const i=await Ql({editorSDK:t}),r=i.allVerticalsPagesComponentsRefs,a=i.allCustomPagesComponentsFlat,s=o?o+Y.layout.height:ue.y,c=n?x()({},ue,{y:s}):le,l=[...r.map((e=>Xa({editorSDK:t,componentRef:e,layout:c}))),...a.map((e=>async function(e){let t=e.editorSDK,n=e.componentRef,o=e.isHorizontal,i=e.pwHeight;const r=await Ja({editorSDK:t,componentRef:n});if(r.x<0||r.x>z)return;const a=le.x-ue.x,s=le.y-(i?i+Y.layout.height:ue.y),c=x()({},r);o?(c.x=r.x-a,c.y=r.y-s):(c.x=r.x+a,c.y=r.y+s),await Xa({editorSDK:t,componentRef:n,layout:c})}({editorSDK:t,componentRef:e,isHorizontal:n})))];return Promise.all(l)}async function Zl(e){let t=e.editorSDK,n=e.isHorizontal,o=e.pwHeight;if(!await lc(t))return;const i=await $a(t),r=await ts({editorSDK:t});r&&(await Jl({editorSDK:t,sospContainerRef:i,pwComponentRef:r}),await Xl({editorSDK:t,pwComponentRef:r,isHorizontal:n,pwHeight:o}),await async function(e){let t=e.editorSDK,n=e.isHorizontal,o=e.sospContainerRef,i=e.pwHeight;const r=await na(t);await Wa(t,te,o,r,n,i)}({editorSDK:t,sospContainerRef:i,isHorizontal:n,pwHeight:o}),await Xl({editorSDK:t,pwComponentRef:r,isHorizontal:n,pwHeight:o}),await $l({editorSDK:t,sospContainerRef:i,pwComponentRef:r,isHorizontal:n,pwHeight:o}),await Yl({editorSDK:t,isHorizontal:n,pwHeight:o}))}async function eu(e,t){const n=await Ql({editorSDK:e}),o=n.allVerticalsPagesComponentsRefs,i=n.allCustomPagesComponentsFlat,r=await Js({editorSDK:e}),a=Dt();if(!r)return;const s=t+40,c=s,l=await ts({editorSDK:e});if(a){const n=await function(e){let t=e.editorSDK,n=e.componentRef;return t.document.responsiveLayout.get(Ka,{componentRef:n})}({editorSDK:e,componentRef:l}),o=x()({},n,{componentLayouts:n.componentLayouts.map((e=>x()({},e,{height:x()({},e.height,{value:t})})))});await function(e){let t=e.editorSDK,n=e.componentRef,o=e.responsiveLayout;return t.document.responsiveLayout.update(Ka,{componentRef:n,responsiveLayout:o})}({editorSDK:e,componentRef:l,responsiveLayout:o})}const u=await $a(e);await Xa({editorSDK:e,componentRef:u,layout:{height:c}});const p=[...o.map((t=>Xa({editorSDK:e,componentRef:t,layout:{y:s}}))),...i.map((t=>Xa({editorSDK:e,componentRef:t,layout:{y:s}})))];await Promise.all(p)}const tu=async(e,t,n)=>{const o=vt.editorSDK;if(!o)return;if(!await ls(o,{shouldLog:!1}))return console.warn("Members Area installation was corrupted so the integrations pages will not be added"),void Le("Skipping addApplications as the application is not ready and probably already deleted");const i=await xo({applications:e,editorSDK:o,i18next:Ki()});return rc({editorSDK:o,applications:i,shouldNavigate:t,biData:null==n?void 0:n.biData})},nu=async function(e,t){let n;void 0===t&&(t=!0);try{const o=await Ca(e),i=t?void 0:await async function(e,t){var n;let o;void 0===t&&(t="blank");const i=await Vt(e),r=await Os({editorSDK:e}),a=Object.keys((null==(n=i.find((e=>"public"===e.config.type)))?void 0:n.config.patterns)||{}).map((e=>e.split("/{userName}/")[1])),s=r.map((e=>e.pageUriSEO));let c,l=1;do{o=t+"-"+l,c=!a.includes(o)&&!s.includes(o),l++}while(!c&&l<1e3);return o}(e),r=o(t?"Pages_New_Private_Page_Title":"Pages_New_Public_Page_Title");n=await async function(e){let t=e.editorSDK,n=e.pageTitle,o=e.pageUriSEO;return t.pages.add(q,{title:n,shouldAddMenuItem:!0,definition:{data:{hidePage:!1,managingAppDefId:we,pageUriSEO:o}}})}({editorSDK:e,pageTitle:r,pageUriSEO:i}),await Vs([{pageRef:n}],e),t||await Ds({editorSDK:e,pageRef:n,pageData:{pageSecurity:{requireLogin:!1},hidePage:!1}});const a=await _s({editorSDK:e,pageRef:n}),s=await en(e)||{publicRouter:{},privateRouter:{}};a.pageRef=n;const c=[{appDefinitionId:a.managingAppDefId,pageId:"",social:!t,showInLoginMenu:!0,showInMemberMenu:!0}],l=tc({applications:c,pages:[a],routers:s});await Hs({editorSDK:e,pages:l}),await Ws(e)}catch(e){Le("Add custom page failed",{tags:{reason:e.toString()+"\n"+e.stack,isPrivate:t,pageRefAdded:!!n}})}},ou=e=>{const t=(t,n)=>Zr(t,(()=>je(t,(t=>function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return ks(e,(()=>t(...o)))})(n))));return{addApplications:async(e,n,o)=>{const i=await yt()?"editorApi.addApplicationsSync":"editorApi.addApplications";return Tt("addApplications",15e3,(()=>je("addApplications",(()=>t(i,(()=>tu(e,n,o)))))))},getMembersPageRef:t=>{if(!t)return Promise.resolve(void 0);const n=t.appDefinitionId,o=t.appPageId;return async function(e,t,n){const o=await Vt(e);for(const e of o){const o=Gt().find(e.config.patterns,(e=>Gt().get(e,"appData.appDefinitionId")===t&&Gt().get(e,"appData.appPageId")===n));if(o)for(const t of e.pages)if(t.pageRoles.includes(o.page))return t.pageRef}throw new Error("Could not find member page for TPA "+t+" and section "+n)}(e,n,o)},removeMembersAreaPage:(n,o)=>t("editorApi.removeMembersAreaPage",(()=>Ls({pageId:n,appDefinitionId:o,editorSDK:e}))),setHorizontalLayout:n=>t("editorApi.setHorizontalLayout",(()=>function(e,t){return Zl({editorSDK:e,isHorizontal:!0,pwHeight:t})}(e,n))),setSidebarLayout:()=>t("editorApi.setSidebarLayout",(()=>function(e){return Zl({editorSDK:e,isHorizontal:!1})}(e))),_getIsResponsiveEditor:()=>Zr("_getIsResponsiveEditor",(async()=>Dt())),handleVerticalDeletion:n=>t("editorApi.handleVerticalDeletion",(()=>(async(e,t)=>{const n=xt(e),o=At(),i=(await Es(Object.keys(o),mc(t))).reduce(((e,t)=>{var n;return e.concat(null!=(n=o[t])?n:[])}),[]),r=n.filter((a=i,e=>!a.some((t=>t.pageId===e.pageId)))).filter(gc);var a;for(const e of r){const n=await Gs({editorSDK:t,app:e});n&&await je("editorApi.removeMembersAreaPage",(()=>js({editorSDK:t,id:n.id})))}r.length>0&&It()&&t.application.reloadManifest()})(n,e))),registerMembersAreaApps:(t,n,o)=>hc(t,n,e,o),installRegisteredApps:async(n,o)=>t("editorApi.installRegisteredApps",(()=>yc(n,e,o))),getRegisteredApps:()=>(e=>Zr("editorApi.getRegisteredApps",(()=>je("editorApi.getRegisteredApps",(async()=>{const t=At(),n=Object.keys(t),o=await Es(n,mc(e));return await o.reduce((async(n,o)=>x()({},await n,{[o]:await Es(t[o],(async t=>!await Gs({editorSDK:e,app:t})&&!ac(t)))})),Promise.resolve({}))})))))(e),addCustomPage:n=>t("editorApi.createBlankPage",(()=>nu(e,n))),refreshPageState:()=>(e=>Ws(e))(e),getProfileType:()=>Rc(e),setProfileType:n=>t("editorApi.setProfileType",(()=>Mc(e,n))),refreshRouters:()=>function(e){return e.editor.routers.refresh(q)}(e),refreshMembersAreaApps:()=>(async e=>{const t=[R,j,M,ge].map((async t=>{let n=t.appDefinitionId;const o=await e.application.getPublicAPI(q,{appDefinitionId:n});return null==o||null==o.refreshApp?void 0:o.refreshApp()}));await Promise.all(t)})(e),setProfileWidgetHeight:t=>eu(e,t),openGeneralSettingsPanel:t=>fl({editorSDK:e,eventPayload:{pageRef:null,referralInfo:t}}),getGeneralSettingsPanelData:()=>Vl(e),getMemberPrivacySettings:()=>Wl(e),modifyPages:n=>t("editorApi.modifyPages",(()=>zl(e,n))),modifyPagesAndOpenManagePages:(n,o)=>t("editorApi.modifyPagesAndOpenManagePages",(()=>(async(e,t,n)=>{await zl(e,t),dl({editorSDK:e,eventPayload:{pageRef:null,referralInfo:n}})})(e,n,o))),registerAdditionalWidgets:()=>{},getAdditionalWidgets:()=>{},installAdditionalWidgets:()=>{}}},iu={};async function ru(e,t){await e.history.add(q,{label:t})}const au=e=>({hasSocialPages:()=>Zr("private-api.hasSocialPages",(()=>zs(e))),removePage:t=>Zr("private-api.removePage",(()=>js({editorSDK:e,id:t.id}))),uninstall:()=>Zr("private-api.uninstall",(()=>je("uninstall",(()=>Uc(e))))),getRouterDataByPage:t=>Zr("private-api.getRouterDataByPage",(()=>async function(e,t){const n=await e.routers.getByPage(q,{pageRef:t}),o=await e.routers.get(q,{routerRef:n});if(!o)throw new Error("Could not retrieve the router in #getPageRouterData");const i=Gt().find(o.pages,(e=>e.pageRef.id===t.id)),r=null==i?void 0:i.pageRoles[0],a=Gt().find(o.config.patterns,(e=>e.page===r)),s=Gt().findKey(o.config.patterns,(e=>e.page===r));return a&&(a.routerRef=n,a.innerRoute=s,a.prefix=o.prefix,a.isPrivate="private"===o.config.type),a}(e,t))),getAllRouters:()=>Zr("private-api.getAllRouters",(()=>Vt(e))),updatePageDataInRouter:(t,n,o)=>Zr("private-api.updatePageDataInRouter",(()=>qt(e,t,n,o))),saveInnerRoute:(t,n,o)=>Zr("private-api.saveInnerRoute",(async()=>{let i=await async function(e,t,n){const o=await e.routers.getByPage(q,{pageRef:t}),i=await e.routers.get(q,{routerRef:o}),r=Gt().find(i.pages,(e=>e.pageRef.id===t.id)),a=null==r?void 0:r.pageRoles[0],s=Gt().findKey(i.config.patterns,(e=>e.page===a)),c=Gt().find(i.config.patterns,(e=>e.page===a)),l=i.config,u=("private"===l.type?"/":"/{userName}/")+n;return delete l.patterns[s],Gt().set(l,"patterns["+u+"]",c),await e.routers.update(q,{routerRef:o,config:l}),u}(e,n,t);i&&"/"===i[0]&&(i=i.substr(1)),await $i({editorSDK:e,pageRouterData:o,updatedData:{link:{innerRoute:i}}}),async function(e,t,n){void 0===n&&(n=0),iu[t]&&clearTimeout(iu[t]),iu[t]=setTimeout((()=>ru(e,t)),n)}(e,"Members update uri seo")})),updatePageData:t=>{let n=t.pageRef,o=t.pageData;return Zr("private-api.updatePageData",(()=>Ds({editorSDK:e,pageRef:n,pageData:o})))},savePasswordPermissions:async(t,n,o)=>{if(n===ve&&o)await Ds({editorSDK:e,pageRef:t,pageData:{pageSecurity:{requireLogin:!1}}}),Zr("private-api.savePasswordPermissions",(()=>async function(e){let t=e.editorSDK,n=e.pageRef,o=e.plainPassword;await t.pages.permissions.updatePagePassword(q,{pageRef:n,plainPassword:o})}({editorSDK:e,pageRef:t,plainPassword:o})));else{const o=!Gt().isEqual(n,be);await Ds({editorSDK:e,pageRef:t,pageData:{pageSecurity:{requireLogin:o}}}),Zr("private-api.removePagePassword",(()=>async function(e){let t=e.editorSDK,n=e.pageRef;await t.pages.permissions.removePagePassword(q,{pageRef:n})}({editorSDK:e,pageRef:t})))}},renamePage:(t,n,o)=>Zr("private-api.renamePage",(async()=>{const i=async function(e){let t=e.editorSDK,n=e.pageRef,o=e.title;await t.pages.rename(q,{pageRef:n,title:o})}({editorSDK:e,pageRef:n,title:t}),r=$i({editorSDK:e,pageRouterData:o,updatedData:{label:t}}),a=qt(e,n,"title",t),s=qt(e,n,"seoData",{title:t});await Promise.all([i,r,a,s]),ru(e,"Members page rename")}))}),su={editorReady:async(e,t,n)=>{const o=await Lc({editorSDK:e,options:n});try{Ce("editorReady");const t=async()=>{await async function(e){let t=e.editorSDK;if(!e.options.firstInstall)try{const e=(await Vt(t)).reduce(((e,t)=>[...e,...t.pages.map((e=>e.pageRef))]),[]);await Promise.all(e.map((e=>Fs({editorSDK:t,pageRef:e}))))}catch(e){Le("Failed to set managingAppDefId for MA pages, reason:",e.toString())}}({editorSDK:e,options:n}),await Ws(e),await async function(e,t){if(!e.firstInstall)try{const e=(await Xi({editorSDK:t,menuId:te})).find((e=>{var t;return"my-account"===(null==e||null==(t=e.link)?void 0:t.innerRoute)}));!(await t.pages.data.getAll(q)).find((e=>"member_info"===e.tpaPageId))&&e&&Le("editorLoad: MA-84 My account menu item is there, but the page is missing")}catch(e){Le("Verifying My Account page failed",{tags:{reason:e.toString()}})}}(n,e),await Hc(e,n),await sc(e),await fc(e),await Wc(e,n);await ls(e)?await async function(e,t){try{if(!It())return;if(!await as(t)){Le("OB-19052: Login component missing in ADI",{tags:{firstInstall:e}});try{const e=await na(t),n=await t.siteSegments.getHeader(q);e&&await Fa(t,e,n)}catch(e){Le("OB-19052: Re-adding login component failed",{tags:{reason:e.toString()}})}}}catch(e){Le("OB-19052: Verification of login component failed",{tags:{reason:e.toString()}})}}(n.firstInstall,e):Yr(),await vc(e),await ss(e),Qr()};await async function(){return await dt(),"true"===pt.get("specs.membersArea.disableEditorReadyTransaction")}()?await t():await ks(e,t),Ee("editorReady")}catch(e){const t="string"==typeof e?e:e.message;throw o.logInstallationFailure(t),ke("editorReady",e),console.error("Members Area installation failed"),console.error(e),Yr(),e}},getAppManifest:async(e,t)=>(async(e,t)=>{const n=await gt(),o=await mt(),i=await ht(),r=await e.document.pages.getApplicationPages(""),a={default:"no-sort"},s=n&&1===r.length?[Yc(t)]:[],c=o?[{title:t("Apps_Manager_Customize_Members_Profiles"),actionId:"openMembersAccountBmDashboard",type:"dashboard",icon:"appManager_settingsAction"}]:[],l={appDescriptor:{mainActions:[{title:t("Apps_Manager_Add_Member_Page"),actionId:"addMemberPage",type:"editorActions",icon:"appManager_addElementsAction"}],defaultActions:{learnMoreKB:"b74bcbba-91c8-4951-a3de-a1dc698f6356"},customActions:[{title:t("Apps_Manager_Manage_Member_Pages"),actionId:"openMembersAreaPagesPanel",type:"editorActions",icon:"appManager_pagesAction"},{title:t("Apps_Manager_Open_Members_Add_Panel"),actionId:"openMembersAddPanel",type:"editorActions",icon:"appManager_addElementsAction"},...c,{title:t("Apps_Manager_Open_Badges_Page"),actionId:"openBadgesPage",type:"dashboard",icon:"appManager_settingsAction"},{title:t("Apps_Manager_Engage_With_Your_Members"),actionId:"openSiteMembersDashboard",type:"dashboard",icon:"appManager_settingsAction"}]}};return x()({},l,{controllersStageData:{members:{default:{visibility:"NEVER"}},[Ea]:{default:{displayName:t("LoginBarAppWidget_Display_Name")}},[ya]:{default:{displayName:t("MembersMenuAppWidget_Display_Name")}}},pages:{pageDescriptors:{default:{icon:"membersAction"}},applicationSettings:{default:{displayName:t("Pages_Panel_MemberMenu_Title"),helpId:V}},applicationActions:nl(t,i),pageSettings:{default:[Zc,el,tl]},pageActions:{default:[],deletable:[{title:t("Pages_Panel_MemberMenu_Actions_Page_Delete"),icon:"deleteAction",event:"removePage"}],readOnly:s},sortInnerRoutes:a}})})(t,await Ca(t,!0)),onEvent:async(e,t)=>{let n=e.eventType,o=e.eventPayload;Zr("onEventHandler",(async()=>{if(await ls(t,{shouldLog:!1}))try{const e=await t.routers.getAll(q);switch(n){case Gc.GeneralSettings:fl({eventPayload:x()({},o,{referralInfo:kc.ActionsMenu}),editorSDK:t});break;case Gc.MemberPrivacyDashboard:gl(t);break;case Gc.CreateBlankPage:dl({eventPayload:o,editorSDK:t});break;case Gc.ManagePages:dl({eventPayload:void 0,editorSDK:t});break;case ol.EventType.pageDeleted:Zr("handleVerticalSectionDeletion",(()=>je("handleVerticalSectionDeletion",(()=>Pc(t,o.pageRole)))));break;case Gc.Uninstall:ul(t);break;case Gc.RemovePage:ll(t,o.pageRef);break;case Gc.RenameRouter:zs(t).then((n=>{const i=n?545:395;t.editor.openModalPanel(q,{url:"./assets/renameRouter.html",width:744,height:i,shouldHideHeader:!0,initialData:x()({routers:e},o)})}));break;case ol.EventType.componentAddedToStage:await Va(t,o.compRef);break;case ol.EventType.siteWasPublished:Vr(t);break;case ol.EventType.appActionClicked:switch(o&&o.actionId){case"openMembersAreaPagesPanel":t.editor.deeplink.show(q,{type:"pagesPanel",params:[we]});break;case"addMemberPage":dl({eventPayload:o,editorSDK:t});break;case"openMembersAddPanel":t.editor.deeplink.show(q,{type:"addPanel",params:[we]});break;case"openMembersAccountBmDashboard":t.editor.openDashboardPanel(q,{url:al,closeOtherPanels:!0});break;case"openBadgesPage":t.editor.openDashboardPanel(q,{url:rl,closeOtherPanels:!0});break;case"openSiteMembersDashboard":t.editor.openDashboardPanel(q,{url:il,closeOtherPanels:!0})}break;default:console.log(n,o)}}catch(e){throw e}}))}},cu=async(e,t)=>[{actionId:qc.OpenMembersAreaPagesPanel,type:"editorActions",icon:"appManager_pagesAction",title:e("Apps_Manager_Manage_Member_Pages")},{actionId:qc.OpenMembersAddPanel,type:"editorActions",icon:"appManager_addElementsAction",title:e("Apps_Manager_Open_Members_Add_Panel")},...t?[{actionId:qc.OpenMembersAccountBmDashboard,type:"dashboard",icon:"appManager_settingsAction",title:e("Apps_Manager_Customize_Members_Profiles")}]:[],{actionId:qc.OpenBadgesDashboard,type:"dashboard",icon:"appManager_settingsAction",title:e("Apps_Manager_Open_Badges_Page")},{actionId:qc.OpenSiteMembersDashboard,type:"dashboard",icon:"appManager_settingsAction",title:e("Apps_Manager_Engage_With_Your_Members")}],lu=async e=>{const t=await mt();return{mainActions:[{title:e("Apps_Manager_Add_Member_Page"),actionId:qc.AddMemberPage,icon:"appManager_addElementsAction"}],defaultActions:{learnMoreKB:"b74bcbba-91c8-4951-a3de-a1dc698f6356"},customActions:await cu(e,t)}},uu=e=>({title:e("Pages_Panel_MemberMenu_Delete_Link"),event:Gc.Uninstall,icon:"delete_icon"}),pu={viewSiteMembersAction:{type:"view_site_members"},openSignUpSettingsAction:{type:"open_signup_settings"},getAddPageAction:e=>({title:e("Pages_Panel_MemberMenu_Add_Page"),type:"add_page",event:Gc.CreateBlankPage,icon:"addPagePagesPanel"}),getOpenGeneralSettingsAction:e=>({title:e("Pages_Panel_MemberMenu_Open_GeneralSettings"),event:Gc.GeneralSettings,icon:"settingsAction"}),getOpenMemberPrivacyDashboardAction:e=>({title:e("Pages_Panel_MemberMenu_Open_MemberPrivacyDashboard"),event:Gc.MemberPrivacyDashboard,icon:"unhideAction"}),getDeleteMembersAreaAction:uu},du=uu,fu=(e,t)=>({default:[...t?[pu.getOpenGeneralSettingsAction(e)]:[],pu.getAddPageAction(e),pu.viewSiteMembersAction,...t?[pu.getOpenMemberPrivacyDashboardAction(e)]:[],pu.openSignUpSettingsAction,pu.getDeleteMembersAreaAction(e)]}),gu={title:"Page Info",type:"page_info",helpId:"2fd96dc5-ff35-4ead-9917-12b487c59fe4"},mu={title:"Permissions",type:"permissions",helpId:"d243ad48-2e17-4786-99d7-23d011aa4bd6"},hu={title:"SEO Basics",type:"seo",helpId:"a621022f-17fa-433a-b4f5-d43994e8c4f6"},yu=(e,t)=>({default:[],deletable:[{title:e("Pages_Panel_MemberMenu_Actions_Page_Delete"),icon:"deleteAction",event:Gc.RemovePage}],readOnly:t?[du(e)]:[]}),bu=async(e,t)=>{const n=await ht(),o=await gt()&&t;return{sortInnerRoutes:"no-sort",pageDescriptors:{default:{icon:"membersAction"}},applicationSettings:{default:{displayName:e("Pages_Panel_MemberMenu_Title"),helpId:V}},applicationActions:fu(e,n),pageSettings:{default:[gu,mu,hu]},pageActions:yu(e,o)}},vu=e=>({members:{default:{visibility:"NEVER"}},[Ea]:{default:{displayName:e("LoginBarAppWidget_Display_Name")}},[ya]:{default:{displayName:e("MembersMenuAppWidget_Display_Name")}}}),wu=async e=>{const t=await e.application.getPublicAPI(q,{appDefinitionId:Se});if(t)return t;throw new Error("[MAV2] Members Area Page PublicAPI is not found")},Pu=async e=>(await wu(e)).getInstalledWidgetPlugins(),Su=async e=>(await wu(e)).getPublicApplications();var Du;!function(e){e.About="about",e.FollowingFollowers="following_followers",e.MyRewards="My Rewards",e.ForumPosts="member-posts-page",e.ForumComments="member-comments-page",e.Events="events_members_page",e.BlogComments="member-comments-page",e.BlogLikes="member-likes-page",e.BlogPosts="member-posts-page",e.BlogDrafts="member-drafts-page",e.MyPosts="My Posts",e.MyChallenges="My Challenges",e.MyPrograms="My Programs"}(Du||(Du={}));const Iu=(e,t)=>e+"_"+t,_u=Iu("14dbef06-cc42-5583-32a7-3abd44da4908",Du.About),Au=Iu("16ed1ac6-01cb-4fb6-a59e-c215cce8fdf6",Du.MyRewards),xu=Iu(O.tt,Du.ForumPosts),Ou=Iu(O.tt,Du.ForumComments),Ru=Iu(O.sV,Du.Events),Mu=Iu("14ebe801-d78a-daa9-c9e5-0286a891e46f",Du.FollowingFollowers),Tu=Iu(O.dn,Du.BlogComments),Cu=Iu(O.dn,Du.BlogLikes),Eu=Iu(O.dn,Du.BlogPosts),ku=Iu(O.dn,Du.BlogDrafts),ju=Iu(O.dn,Du.MyPosts),Lu=Iu(O.Rb,Du.MyChallenges),Bu=Iu(O.Rb,Du.MyPrograms);var Nu;!function(e){e.About="14dbefb9-3b7b-c4e9-53e8-766defd30587",e.MyRewards="c85a2896-9f7c-4cf1-9bf8-95852cc5219a",e.ForumPosts="14f0266c-e0a3-afc6-d07c-5be8e20949cd",e.ForumComments="14f51b00-3ada-272e-b6db-34d5da9dd623",e.Events="405eb115-a694-4e2b-abaa-e4762808bb93",e.FollowingFollowers="14ebe825-b273-0d5f-0fd1-e6293322b83b",e.BlogComments="14f260f9-c2eb-50e8-9b3c-4d21861fe58f",e.BlogLikes="14f26109-514f-f9a8-9b3c-4d21861fe58f",e.BlogPosts="14f26118-b65b-b1c1-b6db-34d5da9dd623",e.BlogDrafts="14f260e4-ea13-f861-b0ba-4577df99b961",e.MyPosts="e5a2773b-0e6b-4cbb-a012-3b4a69e92046",e.MyChallenges="384628b7-c716-4410-8fc5-4e2bd5aad178",e.MyPrograms="c88902a1-7fbf-4ff1-b19a-af39c48bc740"}(Nu||(Nu={}));const Ku={[_u]:Nu.About,[Au]:Nu.MyRewards,[xu]:Nu.ForumPosts,[Ou]:Nu.ForumComments,[Ru]:Nu.Events,[Mu]:Nu.FollowingFollowers,[Tu]:Nu.BlogComments,[Cu]:Nu.BlogLikes,[Eu]:Nu.BlogPosts,[ku]:Nu.BlogDrafts,[ju]:Nu.MyPosts,[Lu]:Nu.MyChallenges,[Bu]:Nu.MyPrograms};function Uu(e,t){return Ku[Iu(e,t)]}const Fu=e=>x()({},e,{widgetId:Uu(e.appDefinitionId,e.pageId)});function Hu(e){return e.filter((e=>{let t=e.method,n=e.appDefinitionId,o=e.pageId;return"addApplicationToSite"===t||function(e,t){const n=Uu(e,t);return Boolean(n)}(n,o)})).map(Fu)}const Wu={[Nu.About]:Du.About,[Nu.MyRewards]:Du.MyRewards,[Nu.ForumPosts]:Du.ForumPosts,[Nu.ForumComments]:Du.ForumComments,[Nu.Events]:Du.Events,[Nu.FollowingFollowers]:Du.FollowingFollowers,[Nu.BlogComments]:Du.BlogComments,[Nu.BlogLikes]:Du.BlogLikes,[Nu.BlogPosts]:Du.BlogPosts,[Nu.BlogDrafts]:Du.BlogDrafts,[Nu.MyPosts]:Du.MyPosts,[Nu.MyChallenges]:Du.MyChallenges,[Nu.MyPrograms]:Du.MyPrograms},Gu=e=>Wu[e],qu=e=>t=>e.application.isApplicationInstalled(q,{appDefinitionId:t}),Vu=(e,t)=>t.some((t=>{let n=t.appDefinitionId,o=t.widgetId;return e.appDefinitionId===n&&e.widgetId===o})),zu=async e=>{const t=At();return Es(Object.keys(t),qu(e))},$u=async(e,t)=>{const n=Hu(xt(t)),o=await(async(e,t)=>{const n=await zu(e),o=At();return n.reduce(((e,n)=>{var i;if(t===n)return e;const r=null!=(i=o[n])?i:[];return[...e,...Hu(r)]}),[])})(e,t),i=((e,t,n)=>t.reduce(((t,o)=>Vu(o,e)?Vu(o,n)?t:[...t,o]:t),[]))(await Pu(e),n,o),r=await((e,t)=>Es(e.filter((e=>"addApplicationToSite"===e.method)).filter((e=>t.some((t=>!Xs(e,t))))).map((e=>x()({},e,{pageId:e.appDefinitionId===Oe?Re:e.pageId}))),qu))(n,o);return[...i,...r]},Ju=async e=>{if(It())return;const t=await(async e=>{for(const t of Ie)if(await nr({editorSDK:e,appDefinitionId:t}))return!0;return!1})(e),n=Ae.concat(t?xe:[]),o=await xo({applications:Hu(n),editorSDK:e,i18next:Ki()});wt(x()({},At(),{[Se]:o}))},Xu=e=>{const t={widgetPlugins:[],siteApps:[]};return e.forEach((e=>{"addApplicationToSite"===e.method?t.siteApps.push(e):t.widgetPlugins.push(e)})),t},Qu=async(e,t)=>{const n=Xu(t),o=n.widgetPlugins,i=n.siteApps;o.length>0&&await(async(e,t)=>(await wu(e)).addWidgetsPlugins(t))(e,o),i.length>0&&await Zs({editorSDK:e,applications:i,shouldNavigate:!1}),await Yu(e,t)},Yu=async(e,t)=>{const n=await Rs(e),o=t.filter((e=>e.showInLoginMenu)),i=(await Promise.all(o.map((t=>ir({editorSDK:e,appDefinitionId:t.appDefinitionId}))))).map(((e,o)=>{const i=t[o];if(!i)throw new Error("Page definition is missing when creating the login menu item");const r=e.components.find((e=>e.componentId===i.widgetId));if(!r)throw new Error("App data for widget is missing when creating the login menu item");return ws({appBaseUrl:n.pageUriSEO,isPrivate:!i.social,title:r.name,pageUriSEO:i.urlOverride||r.name.toLowerCase().replace(" ","-")})}));await async function(e){let t=e.editorSDK,n=e.menuId,o=e.items;const i=await t.menu.getById(q,{menuId:n});return er({editorSDK:t,menuId:n,items:[...i.items,...o]})}({editorSDK:e,menuId:ne,items:i})},Zu=async(e,t)=>{const n=await Gs({editorSDK:e,app:t});if(!n)return;const o=await os({editorSDK:e,id:n.id});if(!o)return;const i=await function(e,t){return e.components.getPage(Ka,{componentRef:t})}(e,o);if(!i)return;n.managingAppDefId||await Fs({editorSDK:e,pageRef:i});return Ts((()=>xs({editorSDK:e,pageRef:i,shouldShowEditorRemovePanel:!1})),{delayMs:100,message:"Failed to delete site level app "+t.appDefinitionId})},ep=async(e,t)=>{const n=Xu(t),o=n.widgetPlugins,i=n.siteApps;o.length>0&&await(async(e,t)=>(await wu(e)).removeWidgetsPlugins(t))(e,o),i.length>0&&await(async(e,t)=>{await Promise.all(t.map((t=>Zu(e,t))))})(e,i),await Ju(e)},tp=async e=>{const t=await(async e=>{const t=await Cs([e.siteSegments.getSiteStructure(q),e.siteSegments.getHeader(q)]),n=t[0],o=t[1];let i=null;return Dt()||(i=await ta(e,n)),{headerRef:o,controllerRef:i}})(e),n=t.headerRef,o=t.controllerRef;await Promise.all([Wi(e),Gi(e),Fa(e,o,n)])},np=async(e,t)=>{t.firstInstall&&(await(e=>e.document.application.add(q,{appDefinitionId:Se,managingAppDefId:we,shouldNavigate:!0,isSilent:!0}))(e),await tp(e),await(async(e,t)=>{const n=De(t.origin),o=await Rs(e);if(!o)throw new Error("Members Area page does not exist after its installation");const i=await ir({editorSDK:e,appDefinitionId:Pe}),r=await i.widgets["14dd1af6-3e02-63db-0ef2-72fbc7cc3136"],a=ws({appBaseUrl:o.pageUriSEO,isPrivate:!n.social,title:r.appPage.name,pageUriSEO:n.urlOverride});await er({editorSDK:e,menuId:ne,items:[a]})})(e,t))},op=async e=>{const t=await Rs(e);t&&await e.pages.navigateTo(q,{pageRef:{id:t.id}})},ip=async function(e,t){void 0===t&&(t={});const n=await Rs(e);return n&&await e.pages.navigateTo(q,{pageRef:{id:n.id}}),dl({editorSDK:e,eventPayload:t})},rp=async e=>{const t=await Promise.all([Su(e),Os({editorSDK:e})]),n=t[0],o=t[1],i=await(async(e,t)=>{const n=t.map((e=>{let t=e.appDefinitionId,n=e.widgetId;return{appDefinitionId:t,pageId:Gu(n)}}));return Hu(await xo({editorSDK:e,applications:n,i18next:Ki()})).map((e=>{var t,n,o;return{pageType:Gl.WidgetPlugin,integrationApplication:e,title:null!=(t=null!=(n=null==(o=e.page)?void 0:o.name)?n:e.loginMenuTitle)?t:"",isInstalled:!0}}))})(e,n),r=await(async(e,t)=>{const n=t.find((e=>e.tpaPageId===Re));if(!n)return null;const o=(await xo({editorSDK:e,applications:[M],i18next:Ki()}))[0];return{pageType:Gl.StandAlone,integrationApplication:x()({},o,{pageId:Re}),title:n.title,isInstalled:!0}})(e,o);return r?[...i,r]:i},ap=async e=>{const t=await rp(e),n=await(async(e,t)=>{const n=await Ca(e,!0);return(await xo({editorSDK:e,i18next:Ki(),applications:[R,j,M]})).map((e=>{var o;const i=e.page,r=Xs(e,M);return t.find((t=>{let n=t.integrationApplication;return Xs(n,x()({},e,{pageId:r?Re:e.pageId}))}))||{pageType:r?Gl.StandAlone:Gl.WidgetPlugin,title:r?n("GeneralSettings_MembersPageTitle"):null!=(o=null==i?void 0:i.name)?o:"",integrationApplication:x()({},Fu(e),{pageId:r?Re:e.pageId}),isInstalled:!1}}))})(e,t);return{installedPublicPages:t,promotionalPublicPages:n}},sp=async(e,t)=>{let n=t.appsToInstall,o=t.appsToRemove,i=t.profilePageType;const r=await Ca(e,!0),a=n.length+o.length+(i?1:0);let s=0;if(a){await e.editor.openProgressBar(q,{title:r("GeneralSettings_ProgressModal_Title"),totalSteps:a,stepTitle:r("GeneralSettings_ProgressModal_Subtitle")});try{if(n.length){const t=n.map((e=>e.integrationApplication));await Qu(e,t),await e.editor.updateProgressBar(q,{currentStep:s+=n.length,stepTitle:r("GeneralSettings_ProgressModal_Subtitle")})}if(o.length){const t=o.map((e=>e.integrationApplication));await ep(e,t),await e.editor.updateProgressBar(q,{currentStep:s+=o.length,stepTitle:r("GeneralSettings_ProgressModal_Subtitle")})}i&&await e.editor.updateProgressBar(q,{currentStep:++s,stepTitle:r("GeneralSettings_ProgressModal_Subtitle")}),await e.editor.closeProgressBar(q,{isError:!1})}catch(t){throw await e.editor.closeProgressBar(q,{isError:!0}),t}}},cp=e=>({getRegisteredApps:()=>(async e=>{const t=At(),n=await zu(e),o=await Pu(e);return n.reduce(((e,n)=>{const i=Hu(t[n]);return i.length>0?x()({},e,{[n]:i.filter((e=>!ac(e)&&!Vu(e,o)))}):e}),{})})(e),registerMembersAreaApps:(t,n,o)=>Zr("editorAPI.registerMembersAreaApps",(()=>(async(e,t,n,o)=>{var i;const r=await xo({i18next:Ki(),applications:t,editorSDK:e,applicationsOptions:o}),a=At(),s=Qs([...null!=(i=a[n])?i:[],...r]);wt(x()({},a,{[n]:s}))})(e,t,n,o))),installRegisteredApps:t=>Zr("editorAPI.installRegisteredApps",(()=>(async(e,t)=>{const n=await Lc({editorSDK:e});n.verticalTriggeredMaInstallInitiated({originAppId:t});const o=Hu(xt(t).filter((e=>!1!==e.shouldInstallInitially)));o.length>0&&await Qu(e,o),n.verticalTriggeredMaInstallSuccess({originAppId:t})})(e,t))),addApplications:async(t,n,o)=>Zr("editorAPI.addApplications",(()=>Qu(e,t))),handleVerticalDeletion:t=>Zr("editorAPI.handleVerticalDeletion",(async()=>(await op(e),(async(e,t)=>{const n=await $u(e,t);return ep(e,n)})(e,t)))),openGeneralSettingsPanel:async t=>(await op(e),fl({editorSDK:e,eventPayload:{pageRef:void 0,referralInfo:t}})),getGeneralSettingsPanelData:()=>ap(e),getMemberPrivacySettings:()=>Wl(e),modifyPages:t=>sp(e,t),modifyPagesAndOpenManagePages:(t,n)=>(async(e,t,n)=>(await sp(e,t),dl({editorSDK:e,eventPayload:{pageRef:void 0,referralInfo:n}})))(e,t,n),getMembersPageRef:e=>{throw new Error("[MAV2] PublicAPI.getMembersPageRef is not implemented")},removeMembersAreaPage:(e,t)=>{throw new Error("[MAV2] PublicAPI.removeMembersAreaPage is not implemented")},setHorizontalLayout:e=>{throw new Error("[MAV2] PublicAPI.setHorizontalLayout is not implemented")},setSidebarLayout:()=>{throw new Error("[MAV2] PublicAPI.setSidebarLayout is not implemented")},addCustomPage:e=>{throw new Error("[MAV2] PublicAPI.addCustomPage is not implemented")},refreshPageState:()=>e.application.reloadManifest(),getProfileType:()=>Promise.resolve(Ic.ALL),setProfileType:e=>{throw new Error("[MAV2] PublicAPI.setProfileType is not implemented")},refreshMembersAreaApps:()=>{throw new Error("[MAV2] PublicAPI.refreshMembersAreaApps is not implemented")},setProfileWidgetHeight:e=>{throw new Error("[MAV2] PublicAPI.setProfileWidgetHeight is not implemented")},_getIsResponsiveEditor:()=>Promise.resolve(Dt()),refreshRouters:()=>{throw new Error("[MAV2] PublicAPI.refreshRouters is not implemented")},registerAdditionalWidgets:()=>{},getAdditionalWidgets:()=>{},installAdditionalWidgets:()=>{}}),lp=e=>({hasSocialPages:async()=>Zr("private-api.hasSocialPages",(async()=>{await op(e);return(await Su(e)).length>0})),removePage:e=>{throw new Error("[MAV2] PrivateAPI.removePage is not implemented")},uninstall:async()=>{const t=async()=>{Pt(!0),await e.application.uninstall("",{openConfirmation:!1}),await e.history.add(q,{label:"Deleting Members Area"}),await e.editor.save(q),Pt(!1)};return Zr("private-api.uninstall",(()=>je("uninstall",t)))},updatePageData:e=>{e.pageRef,e.pageData;throw new Error("[MAV2] PrivateAPI.updatePageData is not implemented")},getAllRouters:()=>{throw new Error("[MAV2] PrivateAPI.getAllRouters is not implemented")},getRouterDataByPage:e=>{throw new Error("[MAV2] PrivateAPI.getRouterDataByPage is not implemented")},updatePageDataInRouter:(e,t,n)=>{throw new Error("[MAV2] PrivateAPI.updatePageDataInRouter is not implemented")},saveInnerRoute:(e,t,n)=>{throw new Error("[MAV2] PrivateAPI.saveInnerRoute is not implemented")},savePasswordPermissions:(e,t,n)=>{throw new Error("[MAV2] PrivateAPI.savePasswordPermissions is not implemented")},renamePage:(e,t,n)=>{throw new Error("[MAV2] PrivateAPI.renamePage is not implemented")}}),up={getAppManifest:async(e,t)=>{const n=await Ca(t,!0);var o;const i=1===(await(o={editorSDK:t},o.editorSDK.pages.getApplicationPages(q))).length;return{appDescriptor:await lu(n),pages:await bu(n,i),controllersStageData:vu(n)}},editorReady:async(e,t,n)=>{try{Ce("editorReady"),await np(e,n),await ss(e),await Ju(e),Qr(),Ee("editorReady")}catch(e){throw ke("editorReady",e),console.error("Members Area installation failed"),console.error(e),Yr(),e}},onEvent:async(e,t)=>{const n=e.eventType,o=e.eventPayload;switch(n){case ol.EventType.appActionClicked:return(async(e,t)=>{let n=t.eventPayload;if(null!=n&&n.actionId)switch(n.actionId){case qc.AddMemberPage:return ip(e);case qc.OpenMembersAddPanel:return e.editor.deeplink.show(q,{type:"addPanel",params:[we]});case qc.OpenMembersAreaPagesPanel:return e.editor.deeplink.show(q,{type:"pagesPanel",params:[we]});case qc.OpenBadgesDashboard:return e.editor.openDashboardPanel(q,{url:rl,closeOtherPanels:!0});case qc.OpenSiteMembersDashboard:return e.editor.openDashboardPanel(q,{url:il,closeOtherPanels:!0});case qc.OpenMembersAccountBmDashboard:return e.editor.openDashboardPanel(q,{url:al,closeOtherPanels:!0})}})(t,e);case ol.EventType.pageDeleted:case ol.EventType.componentAddedToStage:console.warn("[MAV2] OnEvent."+n+" handler is not implemented");break;case ol.EventType.siteWasPublished:return Vr(t);case Gc.CreateBlankPage:case Gc.ManagePages:return ip(t,o);case Gc.RemovePage:return ll(t,o.pageRef);case Gc.Uninstall:return ul(t);case Gc.GeneralSettings:return await op(t),fl({editorSDK:t,eventPayload:x()({},o,{referralInfo:kc.ActionsMenu})});case Gc.MemberPrivacyDashboard:return gl(t)}}},pp=e=>{const t=(()=>{let t;return async()=>t||(t=await(async e=>(await bt()?cp:ou)(e))(e),t)})();return{getRegisteredApps:async()=>(await t()).getRegisteredApps(),registerMembersAreaApps:async(e,n,o)=>(await t()).registerMembersAreaApps(e,n,o),installRegisteredApps:async(e,n)=>(await t()).installRegisteredApps(e,n),addApplications:async(e,n,o)=>(await t()).addApplications(e,n,o),openGeneralSettingsPanel:async e=>(await t()).openGeneralSettingsPanel(e),getGeneralSettingsPanelData:async()=>(await t()).getGeneralSettingsPanelData(),getMemberPrivacySettings:async()=>(await t()).getMemberPrivacySettings(),modifyPages:async e=>(await t()).modifyPages(e),modifyPagesAndOpenManagePages:async(e,n)=>(await t()).modifyPagesAndOpenManagePages(e,n),getMembersPageRef:async e=>(await t()).getMembersPageRef(e),removeMembersAreaPage:async(e,n)=>(await t()).removeMembersAreaPage(e,n),setHorizontalLayout:async e=>(await t()).setHorizontalLayout(e),setSidebarLayout:async()=>(await t()).setSidebarLayout(),_getIsResponsiveEditor:async()=>(await t())._getIsResponsiveEditor(),handleVerticalDeletion:async e=>(await t()).handleVerticalDeletion(e),addCustomPage:async e=>(await t()).addCustomPage(e),refreshPageState:async()=>(await t()).refreshPageState(),getProfileType:async()=>(await t()).getProfileType(),setProfileType:async e=>(await t()).setProfileType(e),refreshRouters:async()=>(await t()).refreshRouters(),refreshMembersAreaApps:async()=>(await t()).refreshMembersAreaApps(),setProfileWidgetHeight:async e=>(await t()).setProfileWidgetHeight(e),registerAdditionalWidgets:()=>{},getAdditionalWidgets:()=>{},installAdditionalWidgets:()=>{}}},dp=e=>{const t=(()=>{let t;return async()=>t||(t=await(async e=>(await bt()?lp:au)(e))(e),t)})();return{uninstall:async()=>(await t()).uninstall(),getAllRouters:async()=>(await t()).getAllRouters(),getRouterDataByPage:async e=>(await t()).getRouterDataByPage(e),updatePageDataInRouter:async(e,n,o)=>(await t()).updatePageDataInRouter(e,n,o),saveInnerRoute:async(e,n,o)=>(await t()).saveInnerRoute(e,n,o),updatePageData:async e=>(await t()).updatePageData(e),savePasswordPermissions:async(e,n,o)=>(await t()).savePasswordPermissions(e,n,o),hasSocialPages:async()=>(await t()).hasSocialPages(),renamePage:async(e,n,o)=>(await t()).renamePage(e,n,o),removePage:async e=>(await t()).removePage(e)}};function fp(e){return"wysiwyg.viewer.components.LoginSocialBar"===e}async function gp(e,t){var n;const o=await async function(e){return await e.editor.info.getEditorMode()===ol.DeviceType.Mobile}(t);if(o)return;const i=e.componentType,r=function(e){return"platform.components.AppWidget"===e}(i),a=null==(n=e.components)?void 0:n[0];fp(r&&"object"==typeof a?null==a?void 0:a.componentType:i)&&await pl(t)}const mp=e=>(St(e),{public:pp(e),private:dp(e),editor:{beforeComponentRemoved:t=>gp(t.componentDefinition,e)}});async function hp(){return Promise.resolve([])}const yp=async()=>await bt()?up:su,bp=async(e,t,n)=>{var o,i,r,a,s;dt(),St(e),i=function(e){const t=e.split("/");return t.slice(0,t.length-1).join("/")+"/"}(n.initialAppData.editorScriptUrl),vt=x()({},vt,{staticsBaseUrl:i}),r=!(null==(o=n.origin.info)||!o.blogWriterProfilesOnly),vt=x()({},vt,{blogWriterProfilesOnly:r}),a="RESPONSIVE"===n.origin.type,vt=x()({},vt,{isResponsiveEditor:a}),s=0===n.origin.type.indexOf("ADI"),vt=x()({},vt,{isADI:s});try{await async function(e,t){var n,o,i;const r=await Promise.all([e.info.getMetaSiteId(q),e.info.getSiteRegion(q),e.info.getLanguage(q)]),a={metaSiteId:r[0],siteRegion:r[1],siteLanguage:r[2]};var s,c;void 0!==t.firstInstall&&(a.firstInstall=t.firstInstall),t.origin&&t.origin.type&&(a.type=t.origin.type),null!=(n=t.origin)&&n.info&&(a.originInfo=(null==(s=t.origin.info)?void 0:s.type)||(null==(c=t.origin.info)?void 0:c.appDefinitionId)),t.initialAppData&&t.initialAppData.editorScriptUrl&&(a.editorScriptUrl=t.initialAppData.editorScriptUrl);const l={dataCallback:()=>{},tags:a};Te=null==t||null==(o=t.monitoring)?void 0:o.createSentryMonitorForApp("https://d71c47c01a6e4b2a9c1cf460e3f76627@sentry.wixpress.com/27",l),Me=null==t||null==(i=t.monitoring)?void 0:i.createFedopsLogger(),Te&&Me||console.error("Issues while initialising loggers. Sentry: "+Te+", Fedops: "+Me),await e.document.errors.registerToErrors("",{callback:e=>{let t=e.error,n=e.methodName;console.log("An error occured in DS, method "+n+", error: "+t),Le("Error in DS",{tags:{errorMessage:t.toString(),methodName:n}})}})}(e,n)}catch(e){}return(await yp()).editorReady(e,t,n)},vp=async(e,t)=>(await yp()).onEvent(e,t),wp=async(e,t,n)=>(await yp()).getAppManifest(e,t,n)}(),a}()}));
//# sourceMappingURL=editorAppModule.bundle.min.js.map