!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("_")):"function"==typeof define&&define.amd?define("santa-members-editor-app",["_"],t):"object"==typeof exports?exports["santa-members-editor-app"]=t(require("_")):e["santa-members-editor-app"]=t(e._)}("undefined"!=typeof self?self:this,(function(e){return function(){var t,n,o={9186:function(e,t){"use strict";t.wn=t.xA=t.rH=t.Kh=t.ZJ=t.tt=t.DI=t.sV=t.dn=void 0,t.qq=void 0,t.dn="14bcded7-0066-7c35-14d7-466cb3f09103",t.sV="140603ad-af8d-84a5-2c80-a0f60cb47351",t.DI="13d21c63-b5ec-5912-8397-c3a5ddb27a97",t.tt="14724f35-6794-cd1a-0244-25fd138f9242",t.ZJ="1380b703-ce81-ff05-f115-39571d94dfcd",t.Kh="14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",t.rH="b976560c-3122-4351-878f-453f337b7245",t.xA="14dbefd2-01b4-fb61-32a7-3abd44da4908",t.wn="14f25924-5664-31b2-9568-f9c5ed98c9b1",t.qq="148c2287-c669-d849-d153-463c7486a694";var n={}},1721:function(e,t,n){"use strict";n.r(t),n.d(t,{ConsentPolicyAccessor:function(){return f}});var o,i={policy:"getCurrentConsentPolicy",header:"_getConsentPolicyHeader",isMethod:!0},r={policy:"consentPolicy",header:"consentPolicyHeader",isMethod:!1},a={essential:!0,dataToThirdParty:!0,advertising:!0,functional:!0,analytics:!0};function s(){return window}function c(){return self}function l(){return n.g}function u(){return globalThis}function p(e){var t;void 0===e&&(e=void 0),e&&(o=e),o||e||[u,l,c,s].forEach((function(e){try{o||(o=e())}catch(e){}}));try{"object"==typeof o.commonConfig&&o.commonConfig.consentPolicy&&(t=d(o.commonConfig,r)),t||"object"!=typeof o.consentPolicyManager||(t=d(o.consentPolicyManager,i)),t||"object"!=typeof o.Wix||"object"!=typeof o.Wix.Utils||"function"!=typeof o.Wix.Utils.getCurrentConsentPolicy||(t=d(o.Wix.Utils,i))}catch(e){}return t}function d(e,t){return{getCurrentConsentPolicy:function(){var n=e[t.policy];return t.isMethod?n():n},_getConsentPolicyHeader:function(){var n=e[t.header];return t.isMethod?n():n},deleteReference:!t.isMethod}}var f=function(){function e(e){e&&(this.env=e),this.consentPolicyAccess=p(this.env)}return e.prototype.clearReference=function(){this.consentPolicyAccess&&this.consentPolicyAccess.deleteReference&&(this.consentPolicyAccess=void 0)},e.prototype.getCurrentConsentPolicy=function(){this.consentPolicyAccess||(this.consentPolicyAccess=p(this.env));var e=this.consentPolicyAccess&&this.consentPolicyAccess.getCurrentConsentPolicy()||a;return this.clearReference(),e.policy?e.policy:e},e.prototype.getConsentPolicyHeader=function(e){void 0===e&&(e=!1),this.consentPolicyAccess||(this.consentPolicyAccess=p(this.env));var t=this.consentPolicyAccess&&this.consentPolicyAccess._getConsentPolicyHeader()||{"consent-policy":""};return this.clearReference(),e?t["consent-policy"]:t},e}()},439:function(e,t,n){e.exports=n(1541)},1410:function(e,t,n){"use strict";var o=n(4545),i=n(2525),r=n(8051),a=n(3542),s=n(2496),c=n(6600),l=n(6440),u=n(9652);e.exports=function(e){return new Promise((function(t,n){var p=e.data,d=e.headers,f=e.responseType;o.isFormData(p)&&delete d["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+h)}var y=s(e.baseURL,e.url);function b(){if(g){var o="getAllResponseHeaders"in g?c(g.getAllResponseHeaders()):null,r={data:f&&"text"!==f&&"json"!==f?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:o,config:e,request:g};i(t,n,r),g=null}}if(g.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(b)},g.onabort=function(){g&&(n(u("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(u("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},o.isStandardBrowserEnv()){var v=(e.withCredentials||l(y))&&e.xsrfCookieName?r.read(e.xsrfCookieName):void 0;v&&(d[e.xsrfHeaderName]=v)}"setRequestHeader"in g&&o.forEach(d,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete d[t]:g.setRequestHeader(t,e)})),o.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),f&&"json"!==f&&(g.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){g&&(g.abort(),n(e),g=null)})),p||(p=null),g.send(p)}))}},1541:function(e,t,n){"use strict";var o=n(4545),i=n(9309),r=n(1153),a=n(8313);function s(e){var t=new r(e),n=i(r.prototype.request,t);return o.extend(n,r.prototype,t),o.extend(n,t),n}var c=s(n(6276));c.Axios=r,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(7455),c.CancelToken=n(8348),c.isCancel=n(8396),c.all=function(e){return Promise.all(e)},c.spread=n(2001),c.isAxiosError=n(3766),e.exports=c,e.exports.default=c},7455:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},8348:function(e,t,n){"use strict";var o=n(7455);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new o(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},8396:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},1153:function(e,t,n){"use strict";var o=n(4545),i=n(3542),r=n(2840),a=n(700),s=n(8313),c=n(7802),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new r,response:new r}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var n=[],o=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,r=[];if(this.interceptors.response.forEach((function(e){r.push(e.fulfilled,e.rejected)})),!o){var u=[a,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(r),i=Promise.resolve(e);u.length;)i=i.then(u.shift(),u.shift());return i}for(var p=e;n.length;){var d=n.shift(),f=n.shift();try{p=d(p)}catch(e){f(e);break}}try{i=a(p)}catch(e){return Promise.reject(e)}for(;r.length;)i=i.then(r.shift(),r.shift());return i},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),o.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,o){return this.request(s(o||{},{method:e,url:t,data:n}))}})),e.exports=u},2840:function(e,t,n){"use strict";var o=n(4545);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){o.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},2496:function(e,t,n){"use strict";var o=n(8953),i=n(8228);e.exports=function(e,t){return e&&!o(t)?i(e,t):t}},9652:function(e,t,n){"use strict";var o=n(7014);e.exports=function(e,t,n,i,r){var a=new Error(e);return o(a,t,n,i,r)}},700:function(e,t,n){"use strict";var o=n(4545),i=n(9765),r=n(8396),a=n(6276);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),o.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7014:function(e){"use strict";e.exports=function(e,t,n,o,i){return e.config=t,n&&(e.code=n),e.request=o,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},8313:function(e,t,n){"use strict";var o=n(4545);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],r=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return o.isPlainObject(e)&&o.isPlainObject(t)?o.merge(e,t):o.isPlainObject(t)?o.merge({},t):o.isArray(t)?t.slice():t}function l(i){o.isUndefined(t[i])?o.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(e[i],t[i])}o.forEach(i,(function(e){o.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),o.forEach(r,l),o.forEach(a,(function(i){o.isUndefined(t[i])?o.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(void 0,t[i])})),o.forEach(s,(function(o){o in t?n[o]=c(e[o],t[o]):o in e&&(n[o]=c(void 0,e[o]))}));var u=i.concat(r).concat(a).concat(s),p=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return o.forEach(p,l),n}},2525:function(e,t,n){"use strict";var o=n(9652);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},9765:function(e,t,n){"use strict";var o=n(4545),i=n(6276);e.exports=function(e,t,n){var r=this||i;return o.forEach(n,(function(n){e=n.call(r,e,t)})),e}},6276:function(e,t,n){"use strict";var o=n(3158),i=n(4545),r=n(7730),a=n(7014),s={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==o&&"[object process]"===Object.prototype.toString.call(o))&&(l=n(1410)),l),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,r=!n&&"json"===this.responseType;if(r||o&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){u.headers[e]=i.merge(s)})),e.exports=u},9309:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},3542:function(e,t,n){"use strict";var o=n(4545);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(o.isURLSearchParams(t))r=t.toString();else{var a=[];o.forEach(t,(function(e,t){null!=e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,(function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),r=a.join("&")}if(r){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},8228:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},8051:function(e,t,n){"use strict";var o=n(4545);e.exports=o.isStandardBrowserEnv()?{write:function(e,t,n,i,r,a){var s=[];s.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),o.isString(i)&&s.push("path="+i),o.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},8953:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},3766:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},6440:function(e,t,n){"use strict";var o=n(4545);e.exports=o.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=o.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},7730:function(e,t,n){"use strict";var o=n(4545);e.exports=function(e,t){o.forEach(e,(function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])}))}},6600:function(e,t,n){"use strict";var o=n(4545),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,a={};return e?(o.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=o.trim(e.substr(0,r)).toLowerCase(),n=o.trim(e.substr(r+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},2001:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7802:function(e,t,n){"use strict";var o=n(2799),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var r={},a=o.version.split(".");function s(e,t){for(var n=t?t.split("."):a,o=e.split("."),i=0;i<3;i++){if(n[i]>o[i])return!0;if(n[i]<o[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&s(t);function a(e,t){return"[Axios v"+o.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,s){if(!1===e)throw new Error(a(o," has been removed in "+t));return i&&!r[o]&&(r[o]=!0,console.warn(a(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var o=Object.keys(e),i=o.length;i-- >0;){var r=o[i],a=t[r];if(a){var s=e[r],c=void 0===s||a(s,r,e);if(!0!==c)throw new TypeError("option "+r+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+r)}},validators:i}},4545:function(e,t,n){"use strict";var o=n(9309),i=Object.prototype.toString;function r(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,o){c(t[o])&&c(n)?t[o]=e(t[o],n):c(n)?t[o]=e({},n):r(n)?t[o]=n.slice():t[o]=n}for(var o=0,i=arguments.length;o<i;o++)u(arguments[o],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"==typeof t?o(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},5208:function(e){var t;"undefined"!=typeof self&&self,t=()=>(()=>{"use strict";var e={"../editor-platform-sdk-types/dist/esm/common.js":
/*!*******************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/common.js ***!
  \*******************************************************/(e,t,n)=>{var o,i,r,a;n.r(t),n.d(t,{DeviceType:()=>i,LinkTypes:()=>o,TPAComponentType:()=>r,WidgetInstallationType:()=>a}),function(e){e.NoLink="NoLink",e.PageLink="PageLink",e.AnchorLink="AnchorLink",e.ExternalLink="ExternalLink",e.DocumentLink="DocumentLink",e.PhoneLink="PhoneLink",e.EmailLink="EmailLink",e.LoginToWixLink="LoginToWixLink",e.DynamicPageLink="DynamicPageLink",e.EdgeAnchorLink="EdgeAnchorLinks",e.PopupLink="PopupLink",e.FormSubmitButtonLink="FormSubmitButtonLink"}(o||(o={})),function(e){e.Desktop="desktop",e.Mobile="mobile"}(i||(i={})),function(e){e.Page="PAGE",e.Widget="WIDGET"}(r||(r={})),function(e){e.Open="open",e.Closed="closed"}(a||(a={}))},"../editor-platform-sdk-types/dist/esm/definitions/appEditorApi.js":
/*!*************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/appEditorApi.js ***!
  \*************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/consentPolicy.js":
/*!**************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/consentPolicy.js ***!
  \**************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/index.js":
/*!******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/index.js ***!
  \******************************************************************/(e,t,n)=>{n.r(t),n.d(t,{EditorSubType:()=>r.EditorSubType,EditorType:()=>r.EditorType,InstallInitiator:()=>r.InstallInitiator,InstallationOriginType:()=>r.InstallationOriginType,MediaType:()=>o.MediaType,NotificationPresetTypes:()=>i.NotificationPresetTypes,NotificationType:()=>i.NotificationType,PagesPanelTabType:()=>a.PagesPanelTabType,PanelResolveType:()=>a.PanelResolveType,PanelType:()=>a.PanelType,PremiumIntent:()=>s.PremiumIntent,customizeActions:()=>a.customizeActions}),n(/*! ./appEditorApi */"../editor-platform-sdk-types/dist/esm/definitions/appEditorApi.js"),n(/*! ./consentPolicy */"../editor-platform-sdk-types/dist/esm/definitions/consentPolicy.js");var o=n(/*! ./media */"../editor-platform-sdk-types/dist/esm/definitions/media.js"),i=(n(/*! ./monitoring */"../editor-platform-sdk-types/dist/esm/definitions/monitoring.js"),n(/*! ./notifications */"../editor-platform-sdk-types/dist/esm/definitions/notifications.js")),r=n(/*! ./origin */"../editor-platform-sdk-types/dist/esm/definitions/origin.js"),a=(n(/*! ./pageDefinition */"../editor-platform-sdk-types/dist/esm/definitions/pageDefinition.js"),n(/*! ./panels */"../editor-platform-sdk-types/dist/esm/definitions/panels.js")),s=n(/*! ./premiumIntent */"../editor-platform-sdk-types/dist/esm/definitions/premiumIntent.js");n(/*! ./responsiveLayout */"../editor-platform-sdk-types/dist/esm/definitions/responsiveLayout.js"),n(/*! ./info */"../editor-platform-sdk-types/dist/esm/definitions/info.js")},"../editor-platform-sdk-types/dist/esm/definitions/info.js":
/*!*****************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/info.js ***!
  \*****************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/media.js":
/*!******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/media.js ***!
  \******************************************************************/(e,t,n)=>{var o;n.r(t),n.d(t,{MediaType:()=>o}),function(e){e.Image="IMAGE",e.Video="VIDEO",e.Document="DOCUMENT"}(o||(o={}))},"../editor-platform-sdk-types/dist/esm/definitions/monitoring.js":
/*!***********************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/monitoring.js ***!
  \***********************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/notifications.js":
/*!**************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/notifications.js ***!
  \**************************************************************************/(e,t,n)=>{var o,i;n.r(t),n.d(t,{NotificationPresetTypes:()=>i,NotificationType:()=>o}),function(e){e.Success="success",e.Error="error",e.Warning="warning",e.Info="info"}(o||(o={})),function(e){e.REPEATER_EDITOR_MAX_ITEMS="repeaterMaxItemsEditorLimitation"}(i||(i={}))},"../editor-platform-sdk-types/dist/esm/definitions/origin.js":
/*!*******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/origin.js ***!
  \*******************************************************************/(e,t,n)=>{var o,i,r,a;n.r(t),n.d(t,{EditorSubType:()=>i,EditorType:()=>o,InstallInitiator:()=>r,InstallationOriginType:()=>a}),function(e){e.Classic="CLASSIC",e.Responsive="RESPONSIVE",e.ADI="ADI",e.ADI_MA="ADI_MA",e.ADI_TEMPLATE="ADI_TEMPLATE"}(o||(o={})),function(e){e.EditorX="EDITOR_X",e.Studio="STUDIO"}(i||(i={})),function(e){e.Editor="EDITOR",e.App="APP",e.Dependency_Service="Dependency_Service"}(r||(r={})),function(e){e.AppMarket="APP_MARKET",e.AddPanel="ADD_PANEL",e.AppPanel="APP_PANEL",e.PageSettingsPanel="PAGE_SETTINGS_PANEL",e.PresetService="PRESET_SERVICE",e.SITE_CREATION="SITE_CREATION",e.SILENT_INSTALL_SITE_CREATION="SILENT_INSTALL_SITE_CREATION",e.SILENT_INSTALL="SILENT_INSTALL",e.ADD_SECTION_PANEL="ADD_SECTION_PANEL",e.ADD_PAGE_PANEL="ADD_PAGE_PANEL",e.COPY_PASTE="COPY_PASTE",e.INTRO_FUNNEL="INTRO_FUNNEL",e.PAGES_PANEL="PAGES_PANEL",e.PAGE_SETTINGS_PANEL="PAGE_SETTINGS_PANEL",e.IMPORT_PANEL="IMPORT_PANEL",e.MY_BUSINESS="MY_BUSINESS",e.IFRAME_JS_SDK="IFRAME_JS_SDK"}(a||(a={}))},"../editor-platform-sdk-types/dist/esm/definitions/pageDefinition.js":
/*!***************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/pageDefinition.js ***!
  \***************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/panels.js":
/*!*******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/panels.js ***!
  \*******************************************************************/(e,t,n)=>{var o,i,r,a;n.r(t),n.d(t,{PagesPanelTabType:()=>r,PanelResolveType:()=>i,PanelType:()=>o,customizeActions:()=>a}),function(e){e.Settings="settings",e.Layout="layout",e.Design="design",e.Upgrade="upgrade",e.Add="add"}(o||(o={})),function(e){e.MAIN_ACTION="mainActionClicked",e.SECONDARY_ACTION="secActionClicked",e.CLOSE_ACTION="closeActionClicked"}(i||(i={})),function(e){e.PageInfo="PAGE_INFO",e.Layout="LAYOUT",e.Permissions="PERMISSIONS",e.SEO="SEO"}(r||(r={})),function(e){e.Custom="Custom"}(a||(a={}))},"../editor-platform-sdk-types/dist/esm/definitions/premiumIntent.js":
/*!**************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/premiumIntent.js ***!
  \**************************************************************************/(e,t,n)=>{var o;n.r(t),n.d(t,{PremiumIntent:()=>o}),function(e){e.Neutral="NEUTRAL",e.Free="FREE",e.Paid="PAID"}(o||(o={}))},"../editor-platform-sdk-types/dist/esm/definitions/responsiveLayout.js":
/*!*****************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/responsiveLayout.js ***!
  \*****************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/editor-app.js":
/*!***********************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/editor-app.js ***!
  \***********************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/events/EventType.js":
/*!*****************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/events/EventType.js ***!
  \*****************************************************************/(e,t,n)=>{var o;n.r(t),n.d(t,{EventType:()=>o,customEventTypes:()=>i,generalEventTypes:()=>r}),function(e){e.appMenuReorder="appMenuReorder",e.componentDeleted="componentDeleted",e.componentGfppClicked="componentGfppClicked",e.appActionClicked="appActionClicked",e.connectedComponentPasted="connectedComponentPasted",e.connectedComponentDuplicated="connectedComponentDuplicated",e.concurrentPanelEdit="concurrentPanelEdit",e.widgetPasted="widgetPasted",e.widgetDuplicated="widgetDuplicated",e.widgetAdded="widgetAdded",e.controllerAdded="controllerAdded",e.controllerSettingsButtonClicked="controllerSettingsButtonClicked",e.controllerGfppClicked="controllerGfppClicked",e.stateChanged="stateChanged",e.stateAdded="stateAdded",e.stateDuplicated="stateDuplicated",e.pageDeleted="pageDeleted",e.siteWasPublished="siteWasPublished",e.siteWasFirstSaved="siteWasFirstSaved",e.siteWasSaved="siteWasSaved",e.startConfiguration="startConfiguration",e.welcomeSectionMainActionClicked="welcomeSectionMainActionClicked",e.widgetGfppClicked="widgetGfppClicked",e.appUpgradeCompleted="appUpgradeCompleted",e.instanceChanged="instanceChanged",e.componentSelectionChanged="componentSelectionChanged",e.globalDesignPresetChanged="globalDesignPresetChanged",e.developerModeChanged="developerModeChanged",e.developerModeStatusChanged="developerModeStatusChanged",e.focusedPageChanged="focusedPageChanged",e.componentAddedToStage="componentAddedToStage",e.connectedComponentAddedToStage="connectedComponentAddedToStage",e.anyComponentAddedToStage="anyComponentAddedToStage",e.appUpdateCompleted="appUpdateCompleted",e.componentAnimationChanged="componentAnimationChanged",e.componentDataChanged="componentDataChanged",e.componentDesignChanged="componentDesignChanged",e.componentStyleChanged="componentStyleChanged",e.switchedFromPreview="switchedFromPreview",e.componentArrangementChanged="componentArrangementChanged",e.componentDragEnded="componentDragEnded",e.componentResizeStarted="componentResizeStarted",e.componentRotateEnded="componentRotateEnded",e.sitePublishedDialogClosed="sitePublishedDialogClosed",e.pageBackgroundChanged="pageBackgroundChanged",e.mobileTextScaleChanged="mobileTextScaleChanged",e.componentCropSaved="componentCropSaved",e.toggleBackToTopButtonOn="toggleBackToTopButtonOn",e.componentBehaviorChanged="componentBehaviorChanged",e.componentPropsChanged="componentPropsChanged",e.switchedToMobileView="switchedToMobileView",e.switchedToDesktopView="switchedToDesktopView",e.textEditBoxClosed="textEditBoxClosed",e.hideMobileElement="hideMobileElement",e.showMobileElement="showMobileElement",e.pageRenamed="pageRenamed",e.addDynamicPageClicked="addDynamicPageClicked",e.consentPolicyChanged="consentPolicyChanged",e.pageDuplicated="pageDuplicated",e.pageAdded="pageAdded",e.undo="undo",e.redo="redo",e.addElementsCompClicked="addElementsCompClicked",e.addElementsAllCompsClicked="addElementsAllCompsClicked",e.addElementsResetClicked="addElementsResetClicked",e.appVisitedInDashboard="appVisitedInDashboard",e.componentAddedToApp="componentAddedToApp",e.documentOperationError="documentOperationError",e.solveAddWidgetLimitation="solveAddWidgetLimitation",e.componentConnected="componentConnected",e.componentDisconnected="componentDisconnected",e.panelHeaderButtonClicked="panelHeaderButtonClicked",e.themeChanged="themeChanged",e.viewStateChanged="viewStateChanged",e.revokeApp="revokeApp",e.grantApp="grantApp",e.pageVariantSelected="pageVariantSelected",e.appInstalled="appInstalled"}(o||(o={}));const i=[o.componentSelectionChanged,o.focusedPageChanged,o.anyComponentAddedToStage,o.appUpdateCompleted,o.componentAnimationChanged,o.componentDataChanged,o.componentDesignChanged,o.componentStyleChanged,o.switchedFromPreview,o.componentArrangementChanged,o.componentDragEnded,o.componentResizeStarted,o.componentRotateEnded,o.sitePublishedDialogClosed,o.pageBackgroundChanged,o.mobileTextScaleChanged,o.componentCropSaved,o.toggleBackToTopButtonOn,o.componentBehaviorChanged,o.componentPropsChanged,o.switchedToMobileView,o.switchedToDesktopView,o.textEditBoxClosed,o.hideMobileElement,o.showMobileElement,o.undo,o.redo,o.appVisitedInDashboard,o.developerModeStatusChanged,o.componentConnected,o.componentDisconnected,o.solveAddWidgetLimitation,o.pageDuplicated,o.pageAdded,o.themeChanged,o.viewStateChanged,o.pageVariantSelected],r=[o.appMenuReorder,o.componentDeleted,o.componentGfppClicked,o.appActionClicked,o.connectedComponentPasted,o.connectedComponentDuplicated,o.concurrentPanelEdit,o.widgetPasted,o.widgetDuplicated,o.widgetAdded,o.controllerAdded,o.controllerSettingsButtonClicked,o.controllerGfppClicked,o.stateChanged,o.stateAdded,o.stateDuplicated,o.pageDeleted,o.siteWasPublished,o.siteWasFirstSaved,o.siteWasSaved,o.startConfiguration,o.welcomeSectionMainActionClicked,o.widgetGfppClicked,o.appUpgradeCompleted,o.instanceChanged,o.globalDesignPresetChanged,o.developerModeChanged,o.connectedComponentAddedToStage,o.pageRenamed,o.addDynamicPageClicked,o.consentPolicyChanged,o.addElementsCompClicked,o.addElementsAllCompsClicked,o.addElementsResetClicked,o.componentAddedToApp,o.documentOperationError,o.panelHeaderButtonClicked,o.grantApp,o.revokeApp,o.appInstalled]},"../editor-platform-sdk-types/dist/esm/events/EventsInterfaceMap.js":
/*!**************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/events/EventsInterfaceMap.js ***!
  \**************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/events/eventInterfaces.js":
/*!***********************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/events/eventInterfaces.js ***!
  \***********************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/events/index.js":
/*!*************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/events/index.js ***!
  \*************************************************************/(e,t,n)=>{n.r(t),n.d(t,{EventType:()=>o.EventType,customEventTypes:()=>o.customEventTypes,generalEventTypes:()=>o.generalEventTypes}),n(/*! ./eventInterfaces */"../editor-platform-sdk-types/dist/esm/events/eventInterfaces.js");var o=n(/*! ./EventType */"../editor-platform-sdk-types/dist/esm/events/EventType.js");n(/*! ./EventsInterfaceMap */"../editor-platform-sdk-types/dist/esm/events/EventsInterfaceMap.js")},"../editor-platform-sdk-types/dist/esm/index.js":
/*!******************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/index.js ***!
  \******************************************************/(e,t,n)=>{n.r(t),n.d(t,{DeviceType:()=>i.DeviceType,EditorSubType:()=>r.EditorSubType,EditorType:()=>r.EditorType,EventType:()=>a.EventType,InstallInitiator:()=>r.InstallInitiator,InstallationOriginType:()=>r.InstallationOriginType,LinkTypes:()=>i.LinkTypes,MediaType:()=>r.MediaType,MemberKind:()=>o.MemberKind,NotificationPresetTypes:()=>r.NotificationPresetTypes,NotificationType:()=>r.NotificationType,PagesPanelTabType:()=>r.PagesPanelTabType,PanelResolveType:()=>r.PanelResolveType,PanelType:()=>r.PanelType,PremiumIntent:()=>r.PremiumIntent,TPAComponentType:()=>i.TPAComponentType,WidgetInstallationType:()=>i.WidgetInstallationType,customEventTypes:()=>a.customEventTypes,customizeActions:()=>r.customizeActions,generalEventTypes:()=>a.generalEventTypes}),n(/*! ./editor-app */"../editor-platform-sdk-types/dist/esm/editor-app.js");var o=n(/*! ./manifest */"../editor-platform-sdk-types/dist/esm/manifest.js"),i=n(/*! ./common */"../editor-platform-sdk-types/dist/esm/common.js"),r=n(/*! ./definitions */"../editor-platform-sdk-types/dist/esm/definitions/index.js"),a=n(/*! ./events */"../editor-platform-sdk-types/dist/esm/events/index.js");n(/*! ./tpaStyleParams */"../editor-platform-sdk-types/dist/esm/tpaStyleParams.js"),n(/*! ./sdk */"../editor-platform-sdk-types/dist/esm/sdk/index.js")},"../editor-platform-sdk-types/dist/esm/manifest.js":
/*!*********************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/manifest.js ***!
  \*********************************************************/(e,t,n)=>{var o;n.r(t),n.d(t,{MemberKind:()=>o}),function(e){e.MEMBER="member",e.FUNCTION="function"}(o||(o={}))},"../editor-platform-sdk-types/dist/esm/sdk/app-settings.js":
/*!*****************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/app-settings.js ***!
  \*****************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/document/application.js":
/*!*************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/document/application.js ***!
  \*************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/document/index.js":
/*!*******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/document/index.js ***!
  \*******************************************************************/(e,t,n)=>{n.r(t),n(/*! ./application */"../editor-platform-sdk-types/dist/esm/sdk/document/application.js")},"../editor-platform-sdk-types/dist/esm/sdk/editor/index.js":
/*!*****************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/editor/index.js ***!
  \*****************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/editorSDK.js":
/*!**************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/editorSDK.js ***!
  \**************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/event-listeners.js":
/*!********************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/event-listeners.js ***!
  \********************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/extra.js":
/*!**********************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/extra.js ***!
  \**********************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/index.js":
/*!**********************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/index.js ***!
  \**********************************************************/(e,t,n)=>{n.r(t),n(/*! ./editorSDK */"../editor-platform-sdk-types/dist/esm/sdk/editorSDK.js"),n(/*! ./extra */"../editor-platform-sdk-types/dist/esm/sdk/extra.js"),n(/*! ./event-listeners */"../editor-platform-sdk-types/dist/esm/sdk/event-listeners.js"),n(/*! ./editor */"../editor-platform-sdk-types/dist/esm/sdk/editor/index.js"),n(/*! ./app-settings */"../editor-platform-sdk-types/dist/esm/sdk/app-settings.js"),n(/*! ./document */"../editor-platform-sdk-types/dist/esm/sdk/document/index.js")},"../editor-platform-sdk-types/dist/esm/tpaStyleParams.js":
/*!***************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/tpaStyleParams.js ***!
  \***************************************************************/(e,t,n)=>{n.r(t)}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{
/*!******************!*\
  !*** ./index.ts ***!
  \******************/
n.r(o),n.d(o,{DeviceType:()=>e.DeviceType,EditorSubType:()=>e.EditorSubType,EditorType:()=>e.EditorType,EventType:()=>e.EventType,InstallInitiator:()=>e.InstallInitiator,InstallationOriginType:()=>e.InstallationOriginType,LinkTypes:()=>e.LinkTypes,MediaType:()=>e.MediaType,MemberKind:()=>e.MemberKind,NotificationPresetTypes:()=>e.NotificationPresetTypes,NotificationType:()=>e.NotificationType,PagesPanelTabType:()=>e.PagesPanelTabType,PanelResolveType:()=>e.PanelResolveType,PanelType:()=>e.PanelType,PremiumIntent:()=>e.PremiumIntent,TPAComponentType:()=>e.TPAComponentType,WidgetInstallationType:()=>e.WidgetInstallationType,customEventTypes:()=>e.customEventTypes,customizeActions:()=>e.customizeActions,generalEventTypes:()=>e.generalEventTypes});var e=n(/*! @wix/editor-platform-sdk-types */"../editor-platform-sdk-types/dist/esm/index.js")})(),o})(),e.exports=t()},6433:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultCommonConfig=t.BrandToHostMap=t.HeadlessHost=t.DefaultBrand=t.EventContextMap=t.BackofficeDomains=t.LoggerVersion=void 0,t.LoggerVersion="2.0.985|C",t.BackofficeDomains=[".wix.com",".editorx.com"],function(e){e.msid="_msid",e.clientId="_client_id",e.uuid="_uuid",e.visitorId="_visitorId",e.siteMemberId="_siteMemberId",e.brandId="_brandId",e.siteBranchId="_siteBranchId",e.ms="_ms",e.lv="_lv",e.isHeadless="_isHeadless",e.hostingPlatform="_hostingPlatform"}(t.EventContextMap||(t.EventContextMap={})),t.DefaultBrand="wix",t.HeadlessHost="VIEWER_HEADLESS",t.BrandToHostMap={wix:"wix",editorx:"editorx"},t.DefaultCommonConfig={brand:t.DefaultBrand}},7765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ok=t.object=t.defined=void 0;var o=n(6539);t.defined=function(e,t){if(void 0===e)throw new o.AssertionError(t)};t.object=function(e,t){if(void 0!==e&&("object"!=typeof e||Array.isArray(e)||null===e))throw new o.AssertionError(t)};t.ok=function(e,t){if(!e)throw new o.AssertionError(t)}},3599:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readCookie=t.sendBeacon=t.getWindowSize=t.getDesktopSize=t.now=void 0,t.now=function(){return"undefined"!=typeof performance&&performance&&performance.now?performance.now():-1},t.getDesktopSize=function(e){var t=e.screen&&e.screen.width||0,n=e.screen&&e.screen.height||0;return"".concat(t,"x").concat(n)},t.getWindowSize=function(e){var t=0,n=0;return e.innerWidth?(t=e.innerWidth,n=e.innerHeight):e.document&&(e.document.documentElement&&e.document.documentElement.clientWidth?(t=e.document.documentElement.clientWidth,n=e.document.documentElement.clientHeight):e.document.body&&e.document.body.clientWidth&&(t=e.document.body.clientWidth,n=e.document.body.clientHeight)),"".concat(t,"x").concat(n)},t.sendBeacon=function(e,t){return!("undefined"==typeof navigator||!navigator||!navigator.sendBeacon)&&navigator.sendBeacon(e,t)},t.readCookie=function(e){if("undefined"==typeof document)return null;if(window.__ENABLE_COOKIE_READ_OPTIMIZATION__&&window.__BI_cookie_cache&&void 0!==window.__BI_cookie_cache[e])return window.__BI_cookie_cache[e];for(var t=0,n=document.cookie.split(";");t<n.length;t++){for(var o=n[t].split("="),i=o[0],r=o[1];" "===i[0];)i=i.substr(1);if(i===e)return window.__ENABLE_COOKIE_READ_OPTIMIZATION__&&(window.__BI_cookie_cache||(window.__BI_cookie_cache={}),window.__BI_cookie_cache[e]=r),r}return""}},5997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWixHost=t.getBranchId=t.getBrand=t.getCommonConfigValue=void 0;var o=n(47),i=n(6433);t.getCommonConfigValue=function(e,t){return void 0===t&&(t=(0,o.getGlobal)((function(e){return e.Wix&&e.Wix.Utils&&e.Wix.Utils.commonConfig||e.commonConfig}))),(t=t&&"function"==typeof t.getAll?t.getAll():t)&&void 0!==t[e]?t[e]:i.DefaultCommonConfig[e]};t.getBrand=function(e){return(0,t.getCommonConfigValue)("brand",e())};t.getBranchId=function(e){return(0,t.getCommonConfigValue)("branchId",e())};t.getWixHost=function(e){return(0,t.getCommonConfigValue)("host",e())}},47:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=t.getWindowIfTop=t.isBackoffice=t.isWebWorker=t.getHost=t.setHost=void 0;var o,i,r=n(6433);function a(e){if("undefined"!=typeof window&&window)try{return window.top===window.self?e?e(window):window:null}catch(e){return null}return null}function s(e,t){return void 0===t&&(t=null),"undefined"!=typeof self&&self&&e(self)||t}t.setHost=function(e){o=e},t.getHost=function(e){return void 0===e&&(e=r.DefaultBrand),o||(void 0===i&&(i=s((function(e){return e.location&&e.location.hostname&&(e.location.hostname.match(/\.(wix|editorx)\.com$/)||[])[1]||null}),null)),t=i||r.BrandToHostMap[e]||r.BrandToHostMap[r.DefaultBrand],"frog.".concat(t,".com"));var t},t.isWebWorker=function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope},t.isBackoffice=function(){return a((function(e){var t=e.document;return r.BackofficeDomains.some((function(e){return-1!==t.location.host.indexOf(e)}))}))},t.getWindowIfTop=a,t.getGlobal=s},6539:function(e,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.APINotSupportedError=t.AssertionError=void 0;var i=function(e){function t(t){var n=e.call(this,t)||this;return n.name=n.constructor.name,n}return o(t,e),t}(Error);t.AssertionError=i;var r=function(e){function t(t){var n=e.call(this,t)||this;return n.name=n.constructor.name,n}return o(t,e),t}(Error);t.APINotSupportedError=r},4100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonDefaults=t.getUserDefaults=t.transformDefaults=void 0;var o=n(6433),i=n(3599),r=n(5997),a=n(8046);t.transformDefaults=function(e){return Object.keys(e).reduce((function(t,n){return t[o.EventContextMap[n]||n]=e[n],t}),{})};t.getUserDefaults=function(){return(0,a.getCookies)({clientId:"_wixCIDX",uuid:{name:"_wixUIDX",transform:function(e){return"string"==typeof e&&e.split("|")[1]}}})};t.getCommonDefaults=function(e,n){return(0,t.transformDefaults)({brandId:function(){return(0,r.getBrand)(e)},siteBranchId:function(){return(0,r.getBranchId)(e)},ms:function(){return Math.round((0,i.now)())},isHeadless:function(){return s(e)},hostingPlatform:function(){return(0,r.getWixHost)(e)},lv:o.LoggerVersion})};var s=function(e){return(0,r.getWixHost)(e)===o.HeadlessHost||void 0}},8322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listen=void 0;var o=n(47);function i(e){setTimeout((function(){return(0,o.getWindowIfTop)((function(t){return e(t.location.href)}))}))}function r(e){(0,o.getWindowIfTop)((function(t){var n=t.history;return["pushState","replaceState"].forEach((function(t){!function(e,t,n){if(e&&e[t]){var o=e[t];e[t]=function(){return n.apply(null,arguments),o.apply(e,arguments)}}}(n,t,(function(t,n,o){return e(o)}))}))}))}function a(e){(0,o.getWindowIfTop)((function(t){return t.addEventListener("popstate",(function(){return e(t.location.href)}))}))}t.listen=function(e){(0,o.getWindowIfTop)((function(t){var n=t.document.referrer;[i,r,a].forEach((function(t){return t((function(t){e(n,t),n=t}))}))}))}},4116:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.getTransformers=t.getPublisher=t.postMessagePublisher=t.xhrPublisher=t.fetchPublisher=t.beaconPublisher=t.imagePublisher=t.resolvePublisher=void 0;var r=n(8046),a=n(47),s=n(6539),c=n(7737),l=n(2340),u=function(e){return e.useBatch?"POST":"GET"};function p(e){return void 0===e&&(e={}),function(t,n){void 0===n&&(n={});var o=(0,r.buildBiUrl)(e,t,n);return(0,l.beaconTransport)(o,t,!!n.useBatch).catch((function(){var e=u(n);return n.useBatch?(0,l.fetchTransport)(o,t,e).catch((function(n){return n instanceof s.APINotSupportedError?(0,l.xhrTransport)(o,t,e):Promise.reject(n)})):(0,l.pixelTransport)(o,n.image)}))}}function d(e,t){return void 0===e&&(e={}),function(n,o){void 0===o&&(o={});var i=(0,r.buildBiUrl)(e,n,o),a=u(o);return(0,l.fetchTransport)(i,n,a,t).catch((function(e){return e instanceof s.APINotSupportedError?(0,l.xhrTransport)(i,n,a):Promise.reject(e)}))}}function f(e,t){return void 0===e&&(e={}),function(e){return(0,l.postMessageTransport)(e,t)}}t.resolvePublisher=function(e,t){var n,o;return e.publishMethod===c.PublishMethods.PostMessage?(n=f,o=t&&t[c.PublishMethods.PostMessage]):e.publishMethod===c.PublishMethods.Fetch?(n=d,o=t&&t[c.PublishMethods.Fetch]):n=(0,a.isWebWorker)()?d:p,n(e,o)},t.imagePublisher=function(e){return void 0===e&&(e={}),function(t,n){if(void 0===n&&(n={}),n.useBatch)throw new s.APINotSupportedError("Can't use image publisher to send batched events.");var o=(0,r.buildBiUrl)(e,t,n);return(0,l.pixelTransport)(o,n.image)}},t.beaconPublisher=p,t.fetchPublisher=d,t.xhrPublisher=function(e){return void 0===e&&(e={}),function(t,n){void 0===n&&(n={});var o=(0,r.buildBiUrl)(e,t,n),i=u(n);return(0,l.xhrTransport)(o,t,i)}},t.postMessagePublisher=f,t.getPublisher=function(e,n){return(0,t.resolvePublisher)(e,n)};t.getTransformers=function(e,t){var n,r;t&&("function"!=typeof t&&t.postMessage&&e.publishMethod===c.PublishMethods.PostMessage?r=t.postMessage:"function"==typeof t&&(n=t));return{eventTransformer:n,payloadTransformer:function(t,n){if(n.useBatch){var a=function(t){return(null==t?void 0:t.endpoint)||n.endpoint||e.endpoint};t.e=t.e.map((function(e){var t=e.context,n=i(e,["context"]);return o(o({},n),{f:o(o({},n.f),{_rp:a(t)})})}))}return r?r(t):t}}}},8821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.track=void 0;var o=n(8046),i=n(8322),r=n(47),a=n(3599),s="__isTrackingPageViews__",c="p",l=19,u=3;function p(e){var t=function(e){return e({endpoint:c}).updateDefaults({src:l,evid:u,vsi:(0,o.guid)()}).logger()}(e),n=1;(0,i.listen)((function(e,o){var i=(0,r.getWindowIfTop)((function(e){return{sr:(0,a.getDesktopSize)(e),wr:(0,a.getWindowSize)(e)}})),s=i.sr,c=i.wr;t.log({from:e,to:o,fis:n,sr:s,wr:c}),n=0}))}t.track=function(e,t){void 0===t&&(t={force:!1}),(t.force||!(0,r.isWebWorker)()&&(0,r.isBackoffice)()&&(0,r.getWindowIfTop)((function(e){return!e[s]})))&&((0,r.getWindowIfTop)((function(e){return e[s]=!0})),p(e))}},2340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postMessageTransport=t.xhrTransport=t.fetchTransport=t.pixelTransport=t.beaconTransport=void 0;var o=n(3599),i=n(6539);t.beaconTransport=function(e,t,n){return void 0===n&&(n=!1),new Promise((function(i,r){return(0,o.sendBeacon)(e,n?JSON.stringify(t):void 0)?i():r(new Error("Transport Error: Cannot send bi using beacon"))}))},t.pixelTransport=function(e,t){return new Promise((function(n,o){var i=t||new window.Image(0,0);i.onload=function(){return n()},i.onerror=function(){return o(new Error("Transport Error: Cannot send bi using pixel"))},i.src=e}))},t.fetchTransport=function(e,t,n,o){if(void 0===n&&(n="GET"),void 0===o){if("undefined"==typeof fetch)return Promise.reject(new i.APINotSupportedError("fetch"));o=fetch}var r={method:n,credentials:"include"};return"POST"===n?r.body=JSON.stringify(t):r.keepalive=!0,o(e,r).then((function(e){if(!e.ok)throw Error("Transport Error: Cannot send bi using fetch. Status: ".concat(e.status))}))},t.xhrTransport=function(e,t,n){return void 0===n&&(n="GET"),new Promise((function(o,i){var r=new XMLHttpRequest;r.open(n,"".concat(location.protocol).concat(e)),r.onload=o,r.onerror=function(){i(new Error("Transport Error: Cannot send bi using xhr."))},r.withCredentials=!0,"POST"===n?r.send(JSON.stringify(t)):r.send()}))},t.postMessageTransport=function(e,t){void 0===t&&(t=self.postMessage);var n=[e];return"undefined"==typeof WorkerGlobalScope&&n.push("*"),t.apply(self,n)}},8046:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.guid=t.buildBiUrl=t.getCookies=void 0;var o=n(3599),i=n(47),r=0;t.getCookies=function(e){return Object.keys(e).reduce((function(t,n){var i="string"==typeof e[n]?{name:e[n]}:e[n],r=i.name,a=i.transform,s=(void 0===a?function(e){return e}:a)((0,o.readCookie)(r));return s&&(t[n]=s),t}),{})},t.buildBiUrl=function(e,t,n){var o=e.host,a=void 0===o?"":o,s=e.endpoint,c=void 0===s?"":s;void 0===n&&(n={}),a=(a="function"==typeof a?a():a)||(0,i.getHost)(),c=n.endpoint||c,n.useBatch||(t._=""+(new Date).getTime()+r++);var l=n.useBatch?[]:Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}),[]);return["//".concat(a,"/").concat(c)].concat(l.length?l.join("&"):[]).join("?")},t.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},647:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BiLoggerClientFactory=t.createBatchQueue=t.manager=t.factory=t.Factory=t.setHost=t.EventCategories=t.PublishMethods=void 0;var s=n(1746),c=n(1721),l=a(n(7765)),u=n(4116),p=n(5997),d=n(47),f=n(7737),g=n(4100),m=n(7737);Object.defineProperty(t,"PublishMethods",{enumerable:!0,get:function(){return m.PublishMethods}}),Object.defineProperty(t,"EventCategories",{enumerable:!0,get:function(){return m.EventCategories}});var h=n(47);Object.defineProperty(t,"setHost",{enumerable:!0,get:function(){return h.setHost}});var y=function(){function e(t){void 0===t&&(t={}),this.options=t,this.commonConfigGetter=function(){},this.initialized=!1,l.ok(!t.publishMethod||-1!==Object.keys(f.PublishMethods).map((function(e){return f.PublishMethods[e]})).indexOf(t.publishMethod),'Unsupported publish method "'.concat(t.publishMethod,'"')),e.consentPolicyAccessor=e.consentPolicyAccessor||new c.ConsentPolicyAccessor,this.loggerClientFactory=(0,s.factory)()}return e.prototype.initFactory=function(){var t=this;if(this.initialized)return this.loggerClientFactory;this.initialized=!0,this.updateDefaults((0,g.getCommonDefaults)(this.commonConfigGetter,e.consentPolicyAccessor)),this.withUserContext((0,g.getUserDefaults)());var n=o(o({},this.options),{host:this.options.host||function(){return(0,d.getHost)((0,p.getBrand)(t.commonConfigGetter))}}),i=(0,u.getPublisher)(n,this.publishFunctions),r=(0,u.getTransformers)(n,this.transformer),a=r.eventTransformer,s=r.payloadTransformer,c=this.loggerClientFactory.addPublisher(i).withConsentPolicyGetter((function(){return e.consentPolicyAccessor.getCurrentConsentPolicy()}));return a&&c.withEventTransformer(a),s&&c.withPayloadTransformer(s),c},e.prototype.withTransformer=function(e){return l.defined(e,"Transformer must be provided"),l.ok("function"==typeof e||e&&"function"==typeof e[f.PublishMethods.PostMessage],"Valid transformer must be provided"),this.transformer=e,this},e.prototype.withPublishFunction=function(e){return l.defined(e,"Publish functions object must be provided"),l.ok(this.options.publishMethod&&this.options.publishMethod!==f.PublishMethods.Auto,"Publish function can be used only when using a custom publish method"),l.ok(e&&"function"==typeof e[this.options.publishMethod],"Valid publish function must be provided"),this.publishFunctions=e,this},e.prototype.withUserContext=function(e){return l.defined(e,"User context object must be provided"),this.updateDefaults((0,g.transformDefaults)(e)),this},e.prototype.withUoUContext=function(e){return l.defined(e,"UoU context object must be provided"),this.updateDefaults((0,g.transformDefaults)(e)),this},e.prototype.withNonEssentialContext=function(e){return l.defined(e,"Non-essential context object must be provided"),this.loggerClientFactory.updateNonEssentialDefaults((0,g.transformDefaults)(e)),this},e.prototype.withCommonConfigGetter=function(e){return l.defined(e,"Common config getter must be provided"),l.ok("function"==typeof e,"Common config getter must be a function"),this.commonConfigGetter=e,this},e.prototype.updateDefaults=function(e){return this.loggerClientFactory.updateDefaults(e),this},e.prototype.setMuted=function(e){return this.loggerClientFactory.setMuted(e),this},e.prototype.setEvents=function(e){return this.loggerClientFactory.setEvents(e),this},e.prototype.setGlobalBatchQueue=function(e){return this.loggerClientFactory.setGlobalBatchQueue(e),this},e.prototype.onError=function(e){return this.loggerClientFactory.setPublisherFailHandler(e),this},e.prototype.logger=function(e){void 0===e&&(e={});var t=this.options,n=t.endpoint,i=t.useBatch;return this.initFactory().logger(o({endpoint:n,useBatch:i},e))},e}();t.Factory=y;t.factory=function(e){return void 0===e&&(e={}),new y(e)},t.manager=s.manager,t.createBatchQueue=s.createBatchQueue,t.BiLoggerClientFactory=s.BiLoggerFactory},6832:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BiLoggerClientFactory=t.EventCategories=t.createBatchQueue=t.manager=t.setHost=t.factory=void 0;var a=n(1746),s=r(n(8821)),c=r(n(647));t.factory=function(e){void 0===e&&(e={});var t=e.trackSession||void 0===e.trackSession;return t&&s.track(c.factory,{force:"force"===t}),c.factory(e)},t.setHost=c.setHost,t.manager=a.manager,t.createBatchQueue=a.createBatchQueue,t.EventCategories=c.EventCategories,t.BiLoggerClientFactory=c.BiLoggerClientFactory,t.default={factory:t.factory,setHost:c.setHost,manager:a.manager,createBatchQueue:a.createBatchQueue,EventCategories:c.EventCategories,BiLoggerClientFactory:c.BiLoggerClientFactory}},7737:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Errors=t.EventCategories=t.PublishMethods=void 0,function(e){e.Auto="auto",e.PostMessage="postMessage",e.Fetch="fetch"}(t.PublishMethods||(t.PublishMethods={})),function(e){e.Essential="essential",e.Functional="functional",e.Analytics="analytics"}(t.EventCategories||(t.EventCategories={})),function(e){e[e.Unsupported=0]="Unsupported"}(t.Errors||(t.Errors={}))},6223:function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name=n.constructor.name,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();e.exports.defined=function(e,t){if(void 0===e)throw new n(t)},e.exports.object=function(e,o){if(void 0!==e&&("object"!==(void 0===e?"undefined":t(e))||Array.isArray(e)||null===e))throw new n(o)},e.exports.ok=function(e,t){if(!e)throw new n(t)},e.exports.func=function(e,t){if(void 0!==e&&"function"!=typeof e)throw new n(t)},e.exports.boolean=function(e,t){if(void 0!==e&&"boolean"!=typeof e)throw new n(t)},e.exports.number=function(e,t){if(void 0!==e&&"number"!=typeof e)throw new n(t)},e.exports.array=function(e,t){if("function"==typeof Array.isArray){if(!Array.isArray(e))throw new n(t)}else if("[object Array]"!==Object.prototype.toString.call(e))throw new n(t)},e.exports.AssertionError=n},619:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=n(6223),a=n(7898),s=n(6374),c=n(7751),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._publishers=[],this._validators=[],this._defaults={},this._nonEssentialDefaults={},this._events={},this._isMuted=!1,this._eventTransformer=null,this._payloadTransformer=null,this._consentPolicyGetter=null,this._maxBatchSize=null,this._batchQueue=null}return i(e,[{key:"addPublisher",value:function(e){return r.defined(e,"Publisher must be provided"),r.ok("function"==typeof e,"Expected a publisher function"),this._publishers.push(e),this}},{key:"addValidator",value:function(e){return r.defined(e,"Validator must be provided"),r.ok("object"===(void 0===e?"undefined":o(e))&&e,"Expected a validator object"),r.ok(e.execute&&e.match,"Provided validator does not match the interface"),this._validators.push(e),this}},{key:"setDefaults",value:function(e){return r.defined(e,"Defaults must be provided"),r.object(e,"Defaults must be an object"),this._defaults=e,this}},{key:"updateDefaults",value:function(e){return r.defined(e,"Defaults must be provided"),r.object(e,"Defaults must be an object"),Object.assign(this._defaults,e),this}},{key:"updateNonEssentialDefaults",value:function(e){return r.defined(e,"Non-essential Defaults must be provided"),r.object(e,"Non-essential Defaults must be an object"),Object.assign(this._nonEssentialDefaults,e),this}},{key:"setEvents",value:function(e){return r.defined(e,"Events must be provided"),r.object(e,"Events must be an object"),this._events=e,this}},{key:"setDefaultValueTimeout",value:function(e){return r.defined(e,"Default Value Timeout must be provided"),this._defaultValueTimeout=e,this}},{key:"setDefaultContinueOnFail",value:function(e){return r.defined(e,"Default Continue On Fail must be provided"),this._defaultContinueOnFail=e,this}},{key:"setPublisherFailHandler",value:function(e){return r.defined(e,"Publisher Fail Handler must be provided"),this._onPublisherFailHandler=e,this}},{key:"setMuted",value:function(e){return r.defined(e,"Is Muted must be provided"),r.boolean(e,"Is Muted must be a boolean"),this._isMuted=e,this}},{key:"setMaxBatchSize",value:function(e){return r.defined(e,"Max Batch Size must be provided"),r.number(e,"Max Batch Size must be a number"),r.ok(e>0,"Max Batch Size must be higher than 0"),this._maxBatchSize=e,this}},{key:"setGlobalBatchQueue",value:function(e){return r.defined(e,"Global Batch Queue must be provided"),r.ok(e instanceof c,"Global Batch Queue must be an instance of BatchQueue"),this._globalBatchQueue=e,this}},{key:"withEventTransformer",value:function(e){return r.defined(e,"Event Transformer must be provided"),r.func(e,"Event Transformer must be a function"),this._eventTransformer=e,this}},{key:"withPayloadTransformer",value:function(e){return r.defined(e,"Payload Transformer must be provided"),r.func(e,"Payload Transformer must be a function"),this._payloadTransformer=e,this}},{key:"withConsentPolicyGetter",value:function(e){return r.defined(e,"Consent Policy Getter must be provided"),r.func(e,"Consent Policy Getter must be a function"),this._consentPolicyGetter=e,this}},{key:"logger",value:function(e){var t=this,n=new a({publishers:this._publishers,validators:this._validators,defaults:this._defaults,events:this._events,defaultValueTimeout:this._defaultValueTimeout,defaultContinueOnFail:this._defaultContinueOnFail,onPublisherFailHandler:this._onPublisherFailHandler,isMuted:function(){return t._isMuted},eventTransformer:this._eventTransformer,payloadTransformer:this._payloadTransformer,consentPolicyGetter:this._consentPolicyGetter,nonEssentialDefaults:this._nonEssentialDefaults,maxBatchSize:this._maxBatchSize,globalBatchQueue:this._globalBatchQueue},e);return s.manager.notifyLoggerCreated(n),n}}]),e}();e.exports=l},6374:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=n(6223),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}return o(e,[{key:"reset",value:function(){this._handlers=[]}},{key:"onLoggerCreated",value:function(e){var t=this;return i.defined(e,"Handler must be provided."),i.func(e,"Handler must be a function."),this._handlers.push(e),function(){var n=t._handlers.indexOf(e);-1!==n&&t._handlers.splice(n,1)}}},{key:"notifyLoggerCreated",value:function(e){this._handlers.forEach((function(t){return t(e)}))}}]),e}();e.exports={manager:new r,BiLoggerManager:r}},7898:function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=n(6223),a=n(7532),s=a.mapValues,c=a.filterValues,l=n(2603),u=n(6756),p=n(7751),d=n(9155),f=d.shouldMuteByCategory,g=d.shouldMuteNonEssentials,m=d.getPolicy,h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._publishers=t.publishers,this._validators=t.validators||[],this._defaults=t.defaults,this._ownDefaults={},this._events=t.events||{},this._context=n||{},this._defaultValueTimeout=t.defaultValueTimeout||5e3,this._defaultContinueOnFail=t.defaultContinueOnFail||!1,this._onPublisherFailHandler=t.onPublisherFailHandler||e._defaultPublisherFailHandler,this._isMuted=t.isMuted||function(){return!1},this._eventTransformer=t.eventTransformer||function(e){return e},this._payloadTransformer=t.payloadTransformer||function(e){return e},this._consentPolicyGetter=t.consentPolicyGetter||function(){return null},this._nonEssentialDefaults=t.nonEssentialDefaults||{},this._maxBatchSize=t.maxBatchSize||100,this._globalBatchQueue=t.globalBatchQueue}return i(e,[{key:"report",value:function(e){r.defined(e,"Data must be provided"),r.object(e,"Data must be an object");var t=e.src,n=e.evid,i=e.params,a=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["src","evid","params"]);return this.log(o({src:t,evid:n},i),a)}},{key:"log",value:function(e,t,n){var i=this;r.defined(e,"Event object or event key must be provided.");var a=this._extractEventAndContext(e,t,n),s=a.event,c=a.context,l=m(this._consentPolicyGetter),u=o({},this._context,c);if(this._isMuted()||f(l,u.category))return Promise.resolve();if(u.useBatch){var p=this._initQueue(u,l),d=function(e){var t=i._eventTransformer(e,u);return p.feed(t,u)};if(this._globalBatchQueue)return this._getDefaults(this._defaults).then((function(e){var t=o({},e,i._getDynamicNonEssentialDefaults(l),i._getStaticNonEssentialDefaults(l),s,i._getPolicyFields(l,u.category));return d(t)}));var g=o({},this._getDynamicDefaults(this._defaults),this._getDynamicNonEssentialDefaults(l),s,this._getPolicyFields(l,u.category));return d(g)}return this._getDefaults(this._defaults).then((function(e){var t=Object.assign(e,i._getDynamicNonEssentialDefaults(l),i._getStaticNonEssentialDefaults(l),s,i._getPolicyFields(l,u.category));if(!(0===i._validators.length||i._validators.some((function(e){return e.match(t)&&(e.execute(t)||!0)}))))throw new Error("No validator accepted the event. Source: "+t.src+" Evid: "+(t.evid||t.evtId));var n=i._eventTransformer(t,u);return n=i._payloadTransformer(n,u),i._send(n,u)}))}},{key:"flush",value:function(){return this._queue?this._queue.flush():Promise.resolve()}},{key:"updateDefaults",value:function(e){return r.defined(e,"Defaults must be provided"),r.object(e,"Defaults must be an object"),Object.assign(this._ownDefaults,e),this}},{key:"_send",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Promise.all(this._publishers.map((function(i){var r=o({},e);return Promise.resolve().then((function(){return i(r,n)})).catch((function(n){return t._onPublisherFailHandler(n,{publisherName:i.name,payload:e})}))}))).then((function(){}))}},{key:"_extractEventAndContext",value:function(e,t,n){var i=void 0,a={};if("string"!=typeof e)i=e,a=t||a;else{if(!(i=this._events[e]))throw new r.AssertionError("Event with key '"+e+"' not found in event map.");t&&(i=o({},i,t),a=n||a)}return{event:i,context:a}}},{key:"_initQueue",value:function(e,t){var n=this;if(this._queue)return this._queue;this._queue=this._globalBatchQueue||new p;return this._queue.init({delayMs:!0===e.useBatch?300:e.useBatch,maxBatchSize:this._maxBatchSize,useThrottle:!!this._globalBatchQueue,optimizeBatch:!!this._globalBatchQueue},(function(o){n._globalBatchQueue||(o.g=Object.assign(n._getStaticDefaults(n._defaults),n._getStaticNonEssentialDefaults(t)));var i=n._payloadTransformer(o,e);return n._send(i,e)})),this._queue}},{key:"_handleDefaultsError",value:function(e){return this._defaultContinueOnFail?(u.error(e),null):Promise.reject(e)}},{key:"_getDynamicNonEssentialDefaults",value:function(e){if(!g(e))return this._getDynamicDefaults(this._nonEssentialDefaults)}},{key:"_getStaticNonEssentialDefaults",value:function(e){if(!g(e))return this._getStaticDefaults(this._nonEssentialDefaults)}},{key:"_withOwnDefaults",value:function(e){return Object.assign({},e,this._ownDefaults)}},{key:"_getDynamicDefaults",value:function(e){e=this._withOwnDefaults(e);var t=c(e,(function(e){return"function"==typeof e}));return s(t,(function(e){return e()}))}},{key:"_getStaticDefaults",value:function(e){return e=this._withOwnDefaults(e),c(e,(function(e){return"function"!=typeof e}))}},{key:"_getDefaults",value:function(e){var t=this;if(!(e=this._withOwnDefaults(e)))return Promise.resolve({});var n=s(e,(function(e,n){if("function"==typeof e)try{e=e()}catch(e){return t._handleDefaultsError(e)}return e&&"function"==typeof e.then?l.timedPromise(e,{message:"Cannot get default value '"+n+" for BI Event'",timeout:t._defaultValueTimeout}).catch((function(e){return t._handleDefaultsError(e)})):e}));return l.allAsObject(n)}},{key:"_encodePolicyValue",value:function(e,t){return e?"boolean"==typeof e[t]?e[t]?1:0:e[t]:1}},{key:"_getPolicyFields",value:function(e,t){return{_isca:this._encodePolicyValue(e,"analytics"),_iscf:this._encodePolicyValue(e,"functional"),_ispd:e.__default?1:0,_ise:"essential"===t?1:0}}}],[{key:"_defaultPublisherFailHandler",value:function(e,t){return t.publisherName}}]),e}();e.exports=h},9155:function(e){"use strict";var t={functional:!0,analytics:!0,__default:!0},n=function(e){return!1===e.functional||!1===e.analytics};e.exports={shouldMuteNonEssentials:n,shouldMuteByCategory:function(e,t){return"essential"!==t&&("functional"===t||"analytics"===t?!1===e[t]:n(e))},getPolicy:function(e){return"function"==typeof e&&e()||t}}},1746:function(e,t,n){"use strict";var o=n(619),i=n(7898),r=n(6374),a=n(7751);e.exports.BiLoggerFactory=o,e.exports.BiLogger=i,e.exports.BiLoggerManager=r.BiLoggerManager,e.exports.factory=function(){return new o},e.exports.manager=r.manager,e.exports.createBatchQueue=function(){return new a}},7751:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var a=n(5854),s=n(6959),c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initilized=!1}return o(e,[{key:"_reset",value:function(){var e=this;this._startTime=Date.now(),this._resolve=null,this._promise=new Promise((function(t){return e._resolve=t}))}},{key:"init",value:function(e,t){var n=this,o=e.delayMs,i=e.maxBatchSize,r=e.useThrottle,c=e.optimizeBatch;this._initilized||(this._maxBatchSize=i,this._optimizeBatch=c,this._queue=[],this._flushHandler=t,this._flushDebounced=r?s((function(){return n.flush()}),o):a((function(){return n.flush()}),o),this._initilized=!0,this._reset())}},{key:"flush",value:function(){if(!this._queue.length)return Promise.resolve();var e=this._queue.splice(0,this._queue.length),t=this._resolve,n=this._startTime;this._reset();var o=function(e,t){return{dt:Date.now()-t,e:e,g:{}}}(e,n);return this._optimizeBatch&&(o=function(e){var t={},n=e.e.length,o=e.e.map((function(e){var n=Object.keys(e.f).map((function(n){var o=e.f[n],i=n+"|"+o;return t[i]=t[i]||0,t[i]++,[n,o,i]}));return r({},e,{f:n})})),a={};return o=o.map((function(e){var o=e.f.reduce((function(e,o){var r=i(o,3),s=r[0],c=r[1],l=r[2];return t[l]===n?a[s]=c:e[s]=c,e}),{});return r({},e,{f:o})})),r({},e,{e:o,g:a})}(o)),this._flushHandler(o).then(t)}},{key:"feed",value:function(e,t){return this._queue.push(function(e,t,n){return{dt:Date.now()-n,f:e,context:t}}(e,t,this._startTime)),this._queue.length===this._maxBatchSize?this.flush():(this._flushDebounced(),this._promise)}}]),e}();e.exports=c},7532:function(e){"use strict";e.exports.mapValues=function(e,t){return e?Object.keys(e).reduce((function(n,o){return n[o]=t(e[o],o,e),n}),{}):{}},e.exports.filterValues=function(e,t){return e?Object.keys(e).reduce((function(n,o){return t(e[o],o,e)&&(n[o]=e[o]),n}),{}):{}}},5854:function(e){"use strict";e.exports=function(e,t,n){var o=void 0;return function(){var i=this,r=arguments,a=n&&!o;clearTimeout(o),o=setTimeout((function(){o=null,n||e.apply(i,r)}),t),a&&e.apply(i,r)}}},6756:function(e){"use strict";e.exports={error:function(){var e;console&&console.error&&(e=console).error.apply(e,arguments)}}},2603:function(e){"use strict";e.exports.timedPromise=function(e,t){var n=t.message,o=t.timeout,i=new Promise((function(e,t){setTimeout(t,o,n?"Timeout: "+n:"Timeout")}));return Promise.race([e,i])},e.exports.allAsObject=function(e){var t=Object.keys(e);return Promise.all(t.map((function(t){return e[t]}))).then((function(e){return e.reduce((function(e,n,o){return e[t[o]]=n,e}),{})}))}},6959:function(e){"use strict";e.exports=function(e,t){var n=void 0;return function(){for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];n||(n=setTimeout((function(){e.apply(void 0,i),n=null}),t))}}},8144:function(e,t,n){var o;/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */e=n.nmd(e),function(i){var r=t,a=(e&&e.exports,"object"==typeof n.g&&n.g);a.global!==a&&a.window;var s=function(e){this.message=e};(s.prototype=new Error).name="InvalidCharacterError";var c=function(e){throw new s(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,p={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,o,i,r=e.length%3,a="",s=-1,u=e.length-r;++s<u;)t=e.charCodeAt(s)<<16,n=e.charCodeAt(++s)<<8,o=e.charCodeAt(++s),a+=l.charAt((i=t+n+o)>>18&63)+l.charAt(i>>12&63)+l.charAt(i>>6&63)+l.charAt(63&i);return 2==r?(t=e.charCodeAt(s)<<8,n=e.charCodeAt(++s),a+=l.charAt((i=t+n)>>10)+l.charAt(i>>4&63)+l.charAt(i<<2&63)+"="):1==r&&(i=e.charCodeAt(s),a+=l.charAt(i>>2)+l.charAt(i<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(u,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var n,o,i=0,r="",a=-1;++a<t;)o=l.indexOf(e.charAt(a)),n=i%4?64*n+o:o,i++%4&&(r+=String.fromCharCode(255&n>>(-2*i&6)));return r},version:"1.0.0"};void 0===(o=function(){return p}.call(t,n,t,e))||(e.exports=o)}()},9456:function(e,t){var n="undefined"!=typeof self?self:this,o=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,o="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),r="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,o=f(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=g(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=l(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[l(e)]},d.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},d.prototype.set=function(e,t){this.map[l(e)]=u(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},o&&(d.prototype[Symbol.iterator]=d.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,o,i=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(n=t.method||this.method||"GET",o=n.toUpperCase(),b.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(i))}})),t}function P(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},P.error=function(){var e=new P(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];P.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new P(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function I(e,n){return new Promise((function(o,r){var a=new v(e,n);if(a.signal&&a.signal.aborted)return r(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),o=n.shift().trim();if(o){var i=n.join(":").trim();t.append(o,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;o(new P(i,n))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.onabort=function(){r(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}I.polyfill=!0,e.fetch||(e.fetch=I,e.Headers=d,e.Request=v,e.Response=P),t.Headers=d,t.Request=v,t.Response=P,t.fetch=I,Object.defineProperty(t,"__esModule",{value:!0})}({})}(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var i=o;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},3158:function(e){var t,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var s,c=[],l=!1,u=-1;function p(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&d())}function d(){if(!l){var e=a(p);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},4819:function(e,t,n){var o=n(8633),i=n(2516),r=i;r.v1=o,r.v4=i,e.exports=r},26:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var o=n||0,i=t;return i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+"-"+i[e[o++]]+i[e[o++]]+"-"+i[e[o++]]+i[e[o++]]+"-"+i[e[o++]]+i[e[o++]]+"-"+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]}},1814:function(e,t,n){var o,i=n.g.crypto||n.g.msCrypto;if(i&&i.getRandomValues){var r=new Uint8Array(16);o=function(){return i.getRandomValues(r),r}}if(!o){var a=new Array(16);o=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}e.exports=o},8633:function(e,t,n){var o=n(1814),i=n(26),r=o(),a=[1|r[0],r[1],r[2],r[3],r[4],r[5]],s=16383&(r[6]<<8|r[7]),c=0,l=0;e.exports=function(e,t,n){var o=t&&n||0,r=t||[],u=void 0!==(e=e||{}).clockseq?e.clockseq:s,p=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:l+1,f=p-c+(d-l)/1e4;if(f<0&&void 0===e.clockseq&&(u=u+1&16383),(f<0||p>c)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,l=d,s=u;var g=(1e4*(268435455&(p+=122192928e5))+d)%4294967296;r[o++]=g>>>24&255,r[o++]=g>>>16&255,r[o++]=g>>>8&255,r[o++]=255&g;var m=p/4294967296*1e4&268435455;r[o++]=m>>>8&255,r[o++]=255&m,r[o++]=m>>>24&15|16,r[o++]=m>>>16&255,r[o++]=u>>>8|128,r[o++]=255&u;for(var h=e.node||a,y=0;y<6;++y)r[o+y]=h[y];return t||i(r)}},2516:function(e,t,n){var o=n(1814),i=n(26);e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[r+s]=a[s];return t||i(a)}},9479:function(t){"use strict";t.exports=e},3213:function(e,t,n){var o=n(6174);e.exports=function(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},7662:function(e,t,n){var o=n(8114).default;e.exports=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6174:function(e,t,n){var o=n(8114).default,i=n(7662);e.exports=function(e){var t=i(e,"string");return"symbol"===o(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8114:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1404:function(e,t,n){var o;if("function"==typeof fetch&&(o=void 0!==n.g&&n.g.fetch?n.g.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),"undefined"==typeof window||void 0===window.document){var i=o||n(9456);i.default&&(i=i.default),t.default=i,e.exports=t.default}},2799:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var i=Object.create(null);r.r(i);var a={};t=t||[null,n({}),n([]),n(n)];for(var s=2&o&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((function(t){a[t]=function(){return e[t]}}));return a.default=function(){return e},r.d(i,a),i},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var a={};return function(){"use strict";r.r(a),r.d(a,{editorReady:function(){return nd},exports:function(){return Zp},getAppManifest:function(){return id},getControllerPresets:function(){return ed},onEvent:function(){return od}});var e={};r.r(e),r.d(e,{sP:function(){return Re},lB:function(){return Ge},o0:function(){return qe},APP_TOKEN:function(){return ae},pm:function(){return ue},EZ:function(){return le},a2:function(){return ce},iP:function(){return De},Tp:function(){return pe},$N:function(){return Oe},z3:function(){return de},oU:function(){return fe},PI:function(){return ze},bi:function(){return $e},p4:function(){return _e},pb:function(){return se},pW:function(){return ge},IF:function(){return me},FB:function(){return ye},rO:function(){return he},MENU_IDS:function(){return be},So:function(){return Ke},LG:function(){return Ue},zP:function(){return Ne},bV:function(){return je},j0:function(){return Fe},PROFILE_WIDGET_APP:function(){return Me},by:function(){return Le},Lg:function(){return Te},Tu:function(){return Ce},ae:function(){return Ee},Sr:function(){return ke},rC:function(){return xe},dM:function(){return Pe},wz:function(){return Be},js:function(){return Se},Bt:function(){return Ie},f8:function(){return We},Yx:function(){return ve},Uz:function(){return Ae},LP:function(){return we},P7:function(){return Ve},re:function(){return He}});var t={};r.r(t),r.d(t,{getDefinition:function(){return Fa},ids:function(){return Ua}});var n={};r.r(n),r.d(n,{getDefinition:function(){return Wa},ids:function(){return Ha}});var o={};r.r(o),r.d(o,{getDefinition:function(){return Ga},ids:function(){return Va}});var i={};r.r(i),r.d(i,{getDefinition:function(){return za},ids:function(){return qa}});var s={};r.r(s),r.d(s,{getDefinition:function(){return Ja},ids:function(){return $a}});var c={};r.r(c),r.d(c,{getDefinition:function(){return Qa},ids:function(){return Xa}});var l={};r.r(l),r.d(l,{getDefinition:function(){return Za},ids:function(){return Ya}});var u={};r.r(u),r.d(u,{getDefinition:function(){return ts},ids:function(){return es}});var p={};r.r(p),r.d(p,{getDefinition:function(){return os},ids:function(){return ns}});var d={};r.r(d),r.d(d,{getDefinition:function(){return rs},ids:function(){return is}});var f={};r.r(f),r.d(f,{getDefinition:function(){return ss},ids:function(){return as}});var g={};r.r(g),r.d(g,{getDefinition:function(){return ls},ids:function(){return cs}});var m={};r.r(m),r.d(m,{getDefinition:function(){return ps},ids:function(){return us}});var h={};r.r(h),r.d(h,{getDefinition:function(){return fs},ids:function(){return ds}});var y={};r.r(y),r.d(y,{getDefinition:function(){return ms},ids:function(){return gs}});var b={};r.r(b),r.d(b,{getDefinition:function(){return ys},ids:function(){return hs}});var v={};r.r(v),r.d(v,{getDefinition:function(){return vs},ids:function(){return bs}});var w={};r.r(w),r.d(w,{getDefinition:function(){return Ps},ids:function(){return ws}});var P={};r.r(P),r.d(P,{getDefinition:function(){return Is},ids:function(){return Ss}});var S={};r.r(S),r.d(S,{getDefinition:function(){return Ds},ids:function(){return _s}});var I={};r.r(I),r.d(I,{getDefinition:function(){return xs},ids:function(){return As}});var _={};r.r(_),r.d(_,{getDefinition:function(){return Ms},ids:function(){return Os}});var D={};r.r(D),r.d(D,{getDefinition:function(){return Ts},ids:function(){return Rs}});var A={};r.r(A),r.d(A,{getDefinition:function(){return Cs},ids:function(){return Es}});var x={};r.r(x),r.d(x,{getDefinition:function(){return Ls},ids:function(){return ks}});var O={};r.r(O),r.d(O,{getDefinition:function(){return Ns},ids:function(){return js}});var M,R,T,E=r(9186);!function(e){e.About="about",e.MyAccount="member_info",e.FollowingFollowers="following_followers",e.MyRewards="My Rewards",e.ForumPosts="member-posts-page",e.ForumComments="member-comments-page",e.Events="events_members_page",e.BlogComments="member-comments-page",e.BlogLikes="member-likes-page",e.BlogPosts="member-posts-page",e.BlogDrafts="member-drafts-page",e.MyPosts="My Posts",e.MyChallenges="My Challenges",e.MyPrograms="My Programs",e.MySubscriptions="My Subscriptions",e.MyBookings="bookings_member_area",e.Notifications="notifications_app",e.MyAddresses="my_addresses",e.MyOrders="order_history",e.MyWallet="my_wallet",e.Settings="settings",e.SharedGallery="Gallery",e.FileShare="wix_file_share_members_page",e.MyWishlist="wishlist",e.ContributorProfile="contributor-profile",e.TestPublic="test-vertical-public-widget",e.TestPrivate="test-vertical-private-widget",e.ProfilePageBob="test-profile-page-bob"}(M||(M={})),function(e){e.About="14dbef06-cc42-5583-32a7-3abd44da4908",e.MyAccount="14cffd81-5215-0a7f-22f8-074b0e2401fb",e.Members="14dbefd2-01b4-fb61-32a7-3abd44da4908",e.Blog="14bcded7-0066-7c35-14d7-466cb3f09103",e.FileShare="1537b24e-29d1-6d8f-b8e1-d6860f2f70b9",e.Followers="14ebe801-d78a-daa9-c9e5-0286a891e46f",e.Forum="14724f35-6794-cd1a-0244-25fd138f9242",e.Addresses="1505b775-e885-eb1b-b665-1e485d9bf90e",e.Bookings="13d21c63-b5ec-5912-8397-c3a5ddb27a97",e.Events="140603ad-af8d-84a5-2c80-a0f60cb47351",e.Stores="1380b703-ce81-ff05-f115-39571d94dfcd",e.Wallet="4aebd0cb-fbdb-4da7-b5d1-d05660a30172",e.Notifications="14f25924-5664-31b2-9568-f9c5ed98c9b1",e.Settings="14f25dc5-6af3-5420-9568-f9c5ed98c9b1",e.SharedGallery="476dc2dd-e16e-43b0-a0aa-1a486c78fbe2",e.Subscriptions="2bef2abe-7abe-43da-889c-53c1500a328c",e.ProfilePageBob="b976560c-3122-4351-878f-453f337b7245",e.Programs="2936472a-a1ed-4ae5-9f71-614313a9f4e7",e.Rewards="16ed1ac6-01cb-4fb6-a59e-c215cce8fdf6",e.TestVertical="567d5e7e-4224-4488-a24b-d1ee5f691e54",e.ContributorProfile="f9694946-7e53-4ab4-9cc7-21d275993d39"}(R||(R={})),function(e){e.About="14dbefb9-3b7b-c4e9-53e8-766defd30587",e.MyAccount="14dd1af6-3e02-63db-0ef2-72fbc7cc3136",e.MyRewards="c85a2896-9f7c-4cf1-9bf8-95852cc5219a",e.ForumPosts="14f0266c-e0a3-afc6-d07c-5be8e20949cd",e.ForumComments="14f51b00-3ada-272e-b6db-34d5da9dd623",e.Events="405eb115-a694-4e2b-abaa-e4762808bb93",e.FollowingFollowers="14ebe825-b273-0d5f-0fd1-e6293322b83b",e.BlogComments="14f260f9-c2eb-50e8-9b3c-4d21861fe58f",e.BlogLikes="14f26109-514f-f9a8-9b3c-4d21861fe58f",e.BlogPosts="14f26118-b65b-b1c1-b6db-34d5da9dd623",e.BlogDrafts="14f260e4-ea13-f861-b0ba-4577df99b961",e.MyPosts="e5a2773b-0e6b-4cbb-a012-3b4a69e92046",e.MyChallenges="384628b7-c716-4410-8fc5-4e2bd5aad178",e.MyPrograms="c88902a1-7fbf-4ff1-b19a-af39c48bc740",e.MySubscriptions="b29db04a-a8f2-4bfe-bbad-21c99c1054b5",e.MyBookings="14edb332-fdb9-2fe6-0fd1-e6293322b83b",e.Notifications="14f2595a-a352-3ff1-9b3c-4d21861fe58f",e.Settings="14f25dd2-f9b0-edc2-f38e-eded5da094aa",e.MyAddresses="151290e1-62a2-0775-6fbc-02182fad5dec",e.MyOrders="14e121c8-00a3-f7cc-6156-2c82a2ba8fcb",e.MyWallet="6467c15e-af3c-4e8d-b167-41bfb8efc32a",e.SharedGallery="11b7884b-eba1-4a47-b5c8-7afb395f966a",e.FileShare="35a4cb97-c8cd-4ee9-ac3c-89c13c8493d6",e.TestPublic="eed51e05-c783-4506-9fb3-0f5c47d6dea2",e.TestPrivate="cc87eeb5-95a9-4f49-b7c3-5246eb39fee0",e.MyWishlist="a63a5215-8aa6-42af-96b1-583bfd74cff5",e.ContributorProfile="",e.ProfileCard="14cefc05-d163-dbb7-e4ec-cd4f2c4d6ddd",e.ProfilePageBob="596a6688-3ad7-46f7-bb9c-00023225876d"}(T||(T={}));T.About,M.About,R.About,T.MyAccount,M.MyAccount,R.MyAccount,T.MyRewards,M.MyRewards,R.Rewards,T.ForumPosts,M.ForumPosts,R.Forum,T.ForumComments,M.ForumComments,R.Forum,T.Events,M.Events,R.Events,T.FollowingFollowers,M.FollowingFollowers,R.Followers,T.BlogComments,M.BlogComments,R.Blog,T.BlogLikes,M.BlogLikes,R.Blog,T.BlogPosts,M.BlogPosts,R.Blog,T.BlogDrafts,M.BlogDrafts,R.Blog,T.MyPosts,M.MyPosts,R.Blog,T.MyChallenges,M.MyChallenges,R.Programs,T.MyPrograms,M.MyPrograms,R.Programs,T.MySubscriptions,M.MySubscriptions,R.Subscriptions,T.MyBookings,M.MyBookings,R.Bookings,T.Notifications,M.Notifications,R.Notifications,T.MyAddresses,M.MyAddresses,R.Addresses,T.MyOrders,M.MyOrders,R.Stores,T.MyWishlist,M.MyWishlist,R.Stores,T.MyWallet,M.MyWallet,R.Wallet,T.Settings,M.Settings,R.Settings,T.SharedGallery,M.SharedGallery,R.SharedGallery,T.FileShare,M.FileShare,R.FileShare,T.TestPublic,M.TestPublic,R.TestVertical,T.TestPrivate,M.TestPrivate,R.TestVertical,T.ContributorProfile,M.ContributorProfile,R.ContributorProfile,T.ProfileCard,M.MyAccount,R.MyAccount,T.ProfilePageBob,M.ProfilePageBob,R.ProfilePageBob;const C={appDefinitionId:"14dbef06-cc42-5583-32a7-3abd44da4908",pageId:"about",widgetId:T.About},k={appDefinitionId:"14cffd81-5215-0a7f-22f8-074b0e2401fb",pageId:"member_info",widgetId:T.MyAccount},L={appDefinitionId:E.xA},j={appDefinitionId:E.dn,pageId:"member-likes-page",widgetId:T.BlogLikes},N={appDefinitionId:E.dn,pageId:"member-comments-page",widgetId:T.BlogComments},B={appDefinitionId:E.dn,pageId:"member-posts-page",widgetId:T.BlogPosts},K=(T.ContributorProfile,{appDefinitionId:"1537b24e-29d1-6d8f-b8e1-d6860f2f70b9",pageId:"wix_file_share_members_page",widgetId:T.FileShare}),U={appDefinitionId:"14ebe801-d78a-daa9-c9e5-0286a891e46f",pageId:"following_followers",widgetId:T.FollowingFollowers},F={appDefinitionId:E.tt,pageId:"member-comments-page",widgetId:T.ForumComments},H={appDefinitionId:E.tt,pageId:"member-posts-page",widgetId:T.ForumPosts},W={appDefinitionId:"1505b775-e885-eb1b-b665-1e485d9bf90e",pageId:"my_addresses",widgetId:T.MyAddresses},V={appDefinitionId:E.DI,pageId:"bookings_member_area",widgetId:T.MyBookings},G={appDefinitionId:E.dn,pageId:"member-drafts-page",widgetId:T.BlogDrafts},q={appDefinitionId:E.dn,pageId:"My Posts",widgetId:T.MyPosts},z={appDefinitionId:E.sV,pageId:"events_members_page",widgetId:T.Events},$={appDefinitionId:E.ZJ,pageId:"order_history",widgetId:T.MyOrders},J={appDefinitionId:"4aebd0cb-fbdb-4da7-b5d1-d05660a30172",pageId:"my_wallet",widgetId:T.MyWallet},X={appDefinitionId:E.ZJ,pageId:"wishlist",widgetId:T.MyWishlist},Q={appDefinitionId:E.wn,pageId:"notifications_app",widgetId:T.Notifications},Y={appDefinitionId:"14f25dc5-6af3-5420-9568-f9c5ed98c9b1",pageId:"settings",widgetId:T.Settings},Z={appDefinitionId:"476dc2dd-e16e-43b0-a0aa-1a486c78fbe2",pageId:"Gallery",widgetId:T.SharedGallery},ee={appDefinitionId:"2bef2abe-7abe-43da-889c-53c1500a328c",pageId:"My Subscriptions",widgetId:T.MySubscriptions},te={appDefinitionId:"2936472a-a1ed-4ae5-9f71-614313a9f4e7",pageId:"My Challenges",widgetId:T.MyChallenges},ne={appDefinitionId:"2936472a-a1ed-4ae5-9f71-614313a9f4e7",pageId:"My Programs",widgetId:T.MyPrograms},oe={appDefinitionId:"16ed1ac6-01cb-4fb6-a59e-c215cce8fdf6",pageId:"My Rewards",widgetId:T.MyRewards},ie={appDefinitionId:"567d5e7e-4224-4488-a24b-d1ee5f691e54",pageId:"test-vertical-public-widget",widgetId:T.TestPublic},re={appDefinitionId:"567d5e7e-4224-4488-a24b-d1ee5f691e54",pageId:"test-vertical-private-widget",widgetId:T.TestPrivate},ae="",se="7710f007-cbdb-4b77-bb8b-fd4d65424ab1",ce=980,le=["admin","blog_writer","blog_editor"],ue="blog_writer",pe={type:"Component",skin:"platform.components.skins.controllerSkin",layout:{width:40,height:40,x:20,y:15,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"platform.components.AppController",data:{type:"AppController",applicationId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",name:"Members controller",controllerType:"members"},style:{type:"TopLevelStyle",style:{groups:{},properties:{"alpha-bg":"1","alpha -bgh":"1","alpha - brd":"1","alpha - brdh":"1","alpha - txt":"1","alpha - txth":"1",bg:"#3D9BE9",bgh:"#2B689C","boxShadowToggleOn -shd":"false",brd:"#2B689C",brdh:"#3D9BE9",brw:"0px",fnt:"normal normal normal 14px/1.4em raleway",rd:"20px",shd:"0 1px 4px rgba(0, 0, 0, 0.6);",txt:"#FFFFFF",txth:"#FFFFFF"},propertiesSource:{bg:"value",bgh:"value",brd:"value",brdh:"value",brw:"value",fnt:"value",rd:"value",shd:"value",txt:"value",txth:"value"}},componentClassName:"platform.components.AppController",skin:"platform.components.skins.controllerSkin"}},de={type:"Component",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",layout:{width:120,height:40,x:850,y:24,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.LoginSocialBar",data:{type:"LoginSocialBar",loggedInMember:"avatarOnly",loggedOutText:"Log In",showLoggedInText:!1,loggedInText:"Hello",logOutText:"Log Out",menuItemsRef:null,iconItemsRef:null,language:"en",role:"members_login"},props:{type:"LoginSocialBarProperties",buttonsDirection:"ltr",iconSize:26,dropDownTextAlignment:"left",buttonsAlignment:"right"},style:{type:"TopLevelStyle",style:{properties:{"alpha-bg":"0","alpha-brd":"1","alpha-brd-dd":"0.2","badge-bg":"#E21C21","badge-txt":"color_11",bg:"color_11","bg-dd":"color_11","boxShadowToggleOn-shd":"false","boxShadowToggleOn-shd-dd":"false",brd:"color_15","brd-dd":"color_15",brw:"0","brw-dd":"1px",fillcolor:"color_18",fnt:"font_8","fnt-size-dd":"15px",rd:"0px","rd-dd":"0px",shd:"0 0 0 transparent","shd-dd":"0 0 0 transparent",txt:"color_18","txt-dd":"color_15",txth:"color_19","txth-dd":"color_19","txt-slct-dd":"color_19",avatarAndArrowStrokeWidth:"0",avatarCornerRadius:"100px"},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.LoginSocialBar",pageId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin"}},fe={layout:{x:818,y:24,fixedPosition:!1,width:120,height:40,scale:1,rotationInDegrees:0},componentType:"wysiwyg.viewer.components.LoginSocialBar",type:"Component",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",data:{type:"LoginSocialBar",loggedInMember:"avatarOnly",loggedOutText:"Log In",showLoggedInText:!1,loggedInText:"Hello",logOutText:"Log Out",menuItemsRef:null,iconItemsRef:null,language:"en",role:"members_login"},props:{type:"LoginSocialBarProperties",buttonsDirection:"ltr",iconSize:26,dropDownTextAlignment:"left",buttonsAlignment:"right"},style:{type:"TopLevelStyle",style:{properties:{"alpha-bg":"0","alpha-brd":"1","alpha-brd-dd":"0.2","badge-bg":"#E21C21","badge-txt":"color_11",bg:"color_11","bg-dd":"color_11","boxShadowToggleOn-shd":"false","boxShadowToggleOn-shd-dd":"false",brd:"color_15","brd-dd":"color_15",brw:"0","brw-dd":"1px",fillcolor:"color_18",fnt:"font_8","fnt-size-dd":"15px",rd:"0px","rd-dd":"0px",shd:"0 0 0 transparent","shd-dd":"0 0 0 transparent",txt:"color_18","txt-dd":"color_15",txth:"color_19","txth-dd":"color_19","txt-slct-dd":"color_19",avatarAndArrowStrokeWidth:"0",avatarCornerRadius:"100px"},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.LoginSocialBar",pageId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin"},connections:{type:"ConnectionList",items:[{type:"WixCodeConnectionItem",role:"loginSocialBar1"},{type:"ConnectionItem",role:"members_login",config:"{}",controllerId:"dataItem-j6gb4xg1"}]},activeModes:{"masterPage-mode-j6gb4xmc":{modeType:"SHOW_ON_SOME_PAGES"}}},ge={type:"Component",layout:{width:250,height:94,x:20,y:275,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu",data:{type:"CustomMenuDataRef",menuRef:"#MEMBERS_SUB_MENU",role:"members_menu"},props:{type:"VerticalMenuProperties",itemsAlignment:"left",subMenuOpenSide:"right",originalHeight:210,menuItemHeight:40},style:{type:"TopLevelStyle",style:{properties:{SKINS_bgSubmenu:"#FFFFFF",SKINS_fntSubmenu:"font_8",SKINS_submenuBR:"0",SKINS_submenuMargin:"0","alpha-SKINS_bgSubmenu":"1","alpha-bg":"1","alpha-bgh":"1","alpha-bgs":"1","alpha-brd":"0.2","alpha-sep":"1",bg:"color_11",bgh:"color_11",bgs:"color_11","boxShadowToggleOn-shd":"false",brd:"color_15",brw:"1px",fnt:"font_8",rd:"0",sep:"color_15",sepw:"0",shd:"0",textSpacing:"30",txt:"color_15",txth:"color_14",txts:"color_18"},propertiesSource:{SKINS_bgSubmenu:"theme",SKINS_fntSubmenu:"theme",SKINS_submenuBR:"value",SKINS_submenuMargin:"value","alpha-SKINS_bgSubmenu":"value","alpha-bg":"value","alpha-bgh":"value","alpha-bgs":"value","alpha-brd":"value","alpha-sep":"value",bg:"theme",bgh:"theme",bgs:"theme","boxShadowToggleOn-shd":"value",brd:"theme",brw:"value",fnt:"theme",rd:"value",sep:"theme",sepw:"value",shd:"value",textSpacing:"value",txt:"theme",txth:"value",txts:"value"},groups:{}},componentClassName:"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu",pageId:"",compId:"i765dc0m",styleType:"custom",skin:"wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuSolidColorSkin"},id:"i765dc0m"},me={...ge,componentType:"wysiwyg.viewer.components.menus.DropDownMenu",layout:{width:956,height:40,x:12,y:250,scale:1,rotationInDegrees:0,fixedPosition:!1},style:{type:"TopLevelStyle",style:{properties:{"boxShadowToggleOn-shd":"true","alpha-bgDrop":"1","alpha-brdh":"1","alpha-brd":"0","alpha-brds":"1",bgDrop:"color_11",bg:"color_11",brd:"color_15",brdh:"color_17",brds:"color_18",fnt:"font_8",menuTotalBordersX:"0",pad:"10",rd:"0px",shd:"0px 1px 4px 0px rgba(0,0,0,0.2)",txt:"color_15",txth:"color_17",txts:"color_18"},propertiesSource:{"boxShadowToggleOn-shd":"value","alpha-bgDrop":"value","alpha-brd":"value","alpha-brdh":"value","alpha-brds":"value",bgDrop:"theme",bg:"theme",brd:"theme",brdh:"theme",brds:"theme",fnt:"theme",menuTotalBordersX:"value",pad:"value",rd:"value",shd:"value",txt:"theme",txth:"theme",txts:"theme"}},styleType:"custom",componentClassName:"wysiwyg.viewer.components.menus.DropDownMenu",skin:"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin"},props:{type:"HorizontalMenuProperties",alignButtons:"left",alignText:"left",sameWidthButtons:!1,stretchButtonsToMenuWidth:!1,moreButtonLabel:"More",moreItemHeight:15}},he={...ge,props:{...ge.props,itemsAlignment:"right"}},ye={...me,props:{...me.props,itemsAlignment:"right",alignButtons:"right",alignText:"right"}},be={SUB_MENU_ID:"MEMBERS_SUB_MENU",LOGIN_MENU_ID:"MEMBERS_LOGIN_MENU",LOGIN_ICONS_MENU_ID:"MEMBERS_LOGIN_ICONS_MENU"},ve={componentType:"wysiwyg.viewer.components.SiteRegionContainer",layout:{x:0,y:0,fixedPosition:!1,width:291,height:451,scale:1,rotationInDegrees:0},type:"Container",components:[],style:{type:"TopLevelStyle",id:"c1",style:{properties:{"alpha-bg":0,"alpha-brd":"1",bg:"color_1","boxShadowToggleOn-shd":!1,brd:"color_15",brw:"0",rd:"0px",shd:"0px 0px 0px 0px rgba(0,0,0,0)"},propertiesSource:{bg:"theme",brd:"theme",brw:"value",rd:"value",shd:"value"},groups:{}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin"},activeModes:{}},we={...ve,layout:{x:0,y:0,fixedPosition:!1,width:ce,height:290,scale:1,rotationInDegrees:0},style:{type:"TopLevelStyle",style:{properties:{"alpha-bg":1,"alpha-brd":"1",bg:"color_11","boxShadowToggleOn-shd":!1,brd:"color_15",brw:"0",rd:"0px",shd:"0px 0px 0px 0px rgba(0,0,0,0)"},propertiesSource:{"alpha-bg":"value","alpha-brd":"value",bg:"theme",brd:"theme",brw:"value",rd:"value",shd:"value","boxShadowToggleOn-shd":"value"},groups:{}},componentClassName:"wysiwyg.viewer.components.menus.DropDownMenu",styleType:"system",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin"}},Pe={PRIVATE:{prefix:"account",group:"members",config:{type:"private"},patterns:{}},SOCIAL:{prefix:"profile",group:"members",config:{type:"public"},patterns:{}}},Se={x:300,y:60,width:660,height:600},Ie={x:0,y:290,width:ce,height:600},_e="members_pages_group",De="CONTROLLER_COMP_CUSTOM_ID",Ae="SOSP_CONTAINER_CUSTOM_ID",xe=395,Oe=2,Me={appDefinitionId:"14ce28f7-7eb0-3745-22f8-074b0e2401fb"},Re="1518f596-5744-ae33-0524-4fe42c3ee64e",Te={type:"LayoutData",componentLayouts:[{type:"ComponentLayout",height:{type:"px",value:250},width:{type:"auto"}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"stretch",alignSelf:"stretch",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:0}}}],containerLayouts:[]},Ee=60,Ce=30,ke={x:20,y:Ee,width:250,height:183},Le={x:0,y:0,width:ce,height:250},je={NONE:"none",PASSWORD:"password",MEMBERS:"members"},Ne="new-page",Be="14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",Ke="14cffd81-5215-0a7f-22f8-074b0e2401fb",Ue="14dd1af6-3e02-63db-0ef2-72fbc7cc3136",Fe="b976560c-3122-4351-878f-453f337b7245",He=function(e){return void 0===e&&(e={}),{...Se,...k,menuOrder:3,social:!1,shouldNavigate:"EDITOR"===e.initiator,showInLoginMenu:!0,showInMemberMenu:!0,urlOverride:"my-account",method:"addApplication"}},We=[E.dn,E.tt,E.sV,E.qq,"14dbef06-cc42-5583-32a7-3abd44da4908","14ebe801-d78a-daa9-c9e5-0286a891e46f"],Ve=["member_info","notifications_app","settings","wishlist"],Ge=[C],qe=[U],ze=L.appDefinitionId,$e="all_members",Je=async(e,t)=>e.document.transactions.runAndWaitForApproval(ae,t);let Xe,Qe;function Ye(e){try{Xe.interactionStarted(e)}catch(e){var t;const n="Failed to start fedops interaction, reason: "+e;null==(t=Qe)||t.captureException(n)}}function Ze(e){try{Xe.interactionEnded(e)}catch(e){var t;const n="Failed to end fedops interaction, reason: "+e;null==(t=Qe)||t.captureException(n)}}function et(e,t){var n;null==(n=Qe)||n.captureException(t,{tags:{interactionName:e}})}async function tt(e,t){try{Ye(e);const n=await t();return Ze(e),n}catch(t){throw et(e,t),t}}function nt(e,t){var n;void 0===t&&(t={}),null==(n=Qe)||n.captureMessage(e,{level:"info",...t})}function ot(e){return(t,n)=>tt(t,(t=>function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Je(e,(()=>t(...o)))})(n))}var it=function(e,t){return it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},it(e,t)};function rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}it(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var at=function(){return at=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},at.apply(this,arguments)};function st(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))}function ct(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}Object.create;function lt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ut(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var pt;!function(e){e.Default="",e.OwnerAccount="owner-account"}(pt||(pt={}));var dt="__WIXEXP_USE_NEW_API",ft="__WIXEXP_CONDUCTION_METHOD_",gt="__WIXEXP_OWNER_ACCOUNT_ID_",mt="__WIXEXP_LOGGED_IN_USER_ID_";function ht(e,t,n){var o,i;if("undefined"!=typeof self)if("function"==typeof n){if(void 0!==n(self[t]))return(o={})[e]=n(self[t]),o}else if(typeof self[t]===n)return(i={})[e]=self[t],i;return{}}var yt=function(e){return Object.keys(pt).filter((function(t){return pt[t]===e})).length>0?e:void 0};function bt(e){return function(e){return e.conductionMethod===pt.OwnerAccount&&e.siteOwnerId&&e.loggedInUserId}(e)?{forSiteOwner:{siteOwnerId:e.siteOwnerId,loggedInUserId:e.loggedInUserId}}:{}}var vt=function(e){return"string"==typeof e&&""!==e};function wt(e){void 0===e&&(e={});var t=e.forSiteOwner,n=e.forSiteVisitors,o=e.overrideCriteria,i="";if(["forSiteOwner","forSiteVisitors"].reduce((function(t,n){return e[n]?t+1:t}),0)>1)throw new Error('Only one of "forSiteOwner" or "forSiteVisitors" is accepted.');return t&&(i+=function(e){return vt(e.loggedInUserId)&&vt(e.siteOwnerId)?"&"+"requestContext.forSiteOwner.loggedInUserId=".concat(e.loggedInUserId,"&")+"requestContext.forSiteOwner.siteOwnerId=".concat(e.siteOwnerId):""}(t)),n&&(i+=function(e){return vt(e.visitorId)&&vt(e.siteOwnerId)?"&"+"requestContext.forSiteVisitors.visitorId=".concat(e.visitorId,"&")+"requestContext.forSiteVisitors.siteOwnerId=".concat(e.siteOwnerId):""}(n)),o&&(i+=function(e){return vt(e.entityId)?"&requestContext.overrideCriteria.entityId=".concat(e.entityId):""}(o)),i}function Pt(e){if("string"==typeof e)try{return JSON.parse(e)}catch(e){}return e}var St={conductAllInScope:"/_api/wix-laboratory-server/v1/laboratory/platform/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/v1/laboratory/platform/conductExperiment"},It={conductAllInScope:"/_api/wix-laboratory-server/laboratory/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/laboratory/conductExperiment"};function _t(e,t){return-1!==e.indexOf(t?St.conductAllInScope:It.conductAllInScope)}var Dt=function(e,t,n){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=!1),n?"".concat(St.conductExperiment,"?key=").concat(encodeURIComponent(e),"&fallbackValue=").concat(encodeURIComponent(t)):"".concat(It.conductExperiment,"?key=").concat(encodeURIComponent(e),"&fallback=").concat(encodeURIComponent(t))};function At(e,t,n){var o="".concat(Dt(t,"",n));return e.includes(o)}var xt=function(){function e(){this.urlMap=new Map,this.pendingUrlMap=new Map}return e.prototype.addUrlRequest=function(e,t){return st(this,void 0,void 0,(function(){var n=this;return ct(this,(function(o){switch(o.label){case 0:return this.pendingUrlMap.set(e,t),[4,t.then((function(t){return n.addUrlResponse(e,t)}))];case 1:return o.sent(),[2]}}))}))},e.prototype.addUrlResponse=function(e,t){this.urlMap.set(e,t)},e.prototype.getUrlResponse=function(e){return this.urlMap.get(e)},e.prototype.getUrlRequest=function(e){return this.pendingUrlMap.get(e)},e.prototype.getExperimentValue=function(e,t){var n,o;try{for(var i=lt(this.urlMap.keys()),r=i.next();!r.done;r=i.next()){var a=r.value;if(At(a,e,t))return this.urlMap.get(a);if(_t(a,t)){var s=Pt(this.urlMap.get(a));if("object"==typeof s&&e in s)return s[e]}}}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},e}();!function(){function e(){}e.prototype.addUrlRequest=function(){},e.prototype.addUrlResponse=function(){},e.prototype.getUrlResponse=function(){},e.prototype.getUrlRequest=function(){},e.prototype.getExperimentValue=function(){}}();function Ot(){return void 0===self.experimentsCacheV2&&(self.experimentsCacheV2=new xt),self.experimentsCacheV2}function Mt(){return"object"==typeof self?self:r.g}function Rt(e){var t=function(e){return function(){var e=function(){if("object"==typeof document)return document}();if(e&&e.cookie)return decodeURIComponent(e.cookie).split(";");return[]}().filter((function(t){return e===t.split("=")[0].trim()}))[0]}(e);return t?t.split("=")[1]:""}var Tt="XSRF-TOKEN",Et="x-xsrf-token";var Ct="x-wix-brand";function kt(){var e,t=function(){var e=Mt();if(e&&e.commonConfig&&"string"==typeof e.commonConfig.brand)return e.commonConfig.brand;return""}();return(e={})[Ct]=t,e}function Lt(){return function(){var e=Mt();if(e&&e.consentPolicyManager&&"function"==typeof e.consentPolicyManager._getConsentPolicyHeader)return e.consentPolicyManager._getConsentPolicyHeader();return}()||function(){var e=Mt();if(e&&e.Wix&&e.Wix.Utils&&"function"==typeof e.Wix.Utils._getConsentPolicyHeader)return e.Wix.Utils._getConsentPolicyHeader();return}()||{}}var jt=r(3158);function Nt(){return!!function(){var e;return void 0!==jt&&null!=(null===(e=jt.versions)||void 0===e?void 0:e.node)}()&&(!!jt.env.TEAMCITY_VERSION||!!jt.env.BUILDKITE)}var Bt=r(3158);function Kt(e){var t,n,o=null!==(n=null!==(t="santa-members-editor-app")?t:Bt.env.APP_NAME)&&void 0!==n?n:"";return{"X-Wix-Client-Artifact-Id":null!=e?e:Nt()?"":o}}var Ut=["consentPolicy","consentPolicyHeader"],Ft={bsi:"BSI"};var Ht=function(){var e,t=function(){var e=Mt(),t=null==e?void 0:e.commonConfig;if(!t)return null;var n={},o=!1;return Object.keys(t).forEach((function(e){var i=Ft[e];i?(n[i]=t[e],o=!0):Ut.indexOf(e)<0&&"function"!=typeof t[e]&&(n[e]=t[e],o=!0)})),o?n:null}(),n=t?JSON.stringify(t):"";return(e={}).commonConfig=encodeURIComponent(n),e},Wt=r(8144),Vt=r.n(Wt),Gt="x-wix-linguist";function qt(e){var t,n=e.lang,o=e.locale,i=e.isPrimaryLanguage,r=e.signedInstance;if(function(e){var t=e.lang,n=e.locale,o=e.isPrimaryLanguage;return t&&n&&/^(true|false)$/.test((null==o?void 0:o.toString())||"")}({lang:n,locale:o,isPrimaryLanguage:i})){var a=function(e){try{var t=(null==e?void 0:e.startsWith("wixcode"))?null==e?void 0:e.split(".")[2]:null==e?void 0:e.split(".")[1];if(t)return JSON.parse(Vt().decode(t)).instanceId}catch(e){}}(r);if(void 0!==a)return(t={})[Gt]=[n,o,null==i?void 0:i.toString(),a].join("|"),t}return{}}!function(e){function t(t,n){return e.call(this,"WixHeadersParsingError: ".concat(t," evaluated with ").concat(JSON.stringify(n)," but should be a string!"))||this}rt(t,e)}(Error);var zt=function(e){function t(t,n,o){return e.call(this,"WixHeadersValidationError: expected ".concat(n," to be ").concat(t," but got ").concat(JSON.stringify(o)))||this}return rt(t,e),t}(Error);function $t(e){void 0===e&&(e={}),function(e){(function(e,t){if("boolean"!=typeof t)throw new zt("boolean",e,t)})("opts.csrf",e.csrf),function(e,t){if("string"!=typeof t)throw new zt("string",e,t)}("opts.signedInstance",e.signedInstance)}(e=at({csrf:!0,signedInstance:""},e));var t,n=[kt(),Lt(),(t=e.signedInstance,{authorization:t}),Kt(e.artifactId),Ht(),qt(at({signedInstance:e.signedInstance},e.multilingualOptions))];return e.csrf&&n.push(function(){var e,t=Rt(Tt);return(e={})[Et]=t,e}()),n.filter((function(e){return Object.values(e).every((function(e){return e}))})).reduce((function(e,t){return at(at({},e),t)}),{})}var Jt=function(){function e(e){var t;this.experiments=null!==(t=e.experiments)&&void 0!==t?t:{}}return e.prototype.get=function(e){return this.experiments[e]},e.prototype.enabled=function(e){return"true"===this.get(e)},e.prototype.pending=function(){return!1},e.prototype.ready=function(){return Promise.resolve()},e.prototype.all=function(){return this.experiments},e}(),Xt=function(){},Qt=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this,o=at(at(at(at({},ht("useNewApi",dt,"boolean")),ht("conductionMethod",ft,yt)),ht("siteOwnerId",gt,"string")),ht("loggedInUserId",mt,"string"));return n.useNewApi=void 0!==t.useNewApi?t.useNewApi:o.useNewApi||!1,n.experiments=t.experiments||{},n.loaders=new Map,n.baseUrl=(n.useNewApi,t.baseUrl||""),n.requestContext=t.requestContext||bt(o),n.onError=t.onError||Xt,t.scope&&n.load(t.scope),t.scopes&&t.scopes.forEach(n.load.bind(n)),n}return rt(t,e),t.prototype.add=function(e){this.experiments=at(at({},this.experiments),e)},t.prototype._addLoader=function(e,t){var n=this;return this.loaders.set(e,t),t.then((function(){n.loaders.delete(e)})),t},t.prototype._getUrlWithFallback=function(e,t){var n=this,o=Ot().getUrlResponse(e);if(void 0!==o)return Promise.resolve(o);var i=Ot().getUrlRequest(e);if(void 0!==i)return i;var r=this.loaders.get(e);if(void 0!==r)return r;var a=function(e){return new Promise((function(t,n){var o=$t(),i=new XMLHttpRequest;i.open("GET",e,!0),Object.keys(o).forEach((function(e){return i.setRequestHeader(e,o[e])})),i.responseType="text",i.withCredentials=!0,i.onload=function(){i.status>=200&&i.status<400?t(i.responseText):n(new Error("Failed to load ".concat(e,", status ").concat(i.status)))},i.onerror=function(){return n(new Error("Failed to load ".concat(e)))},i.send()}))}(e).catch((function(e){return n.onError(e),t}));return Ot().addUrlRequest(e,a),a},t.prototype.load=function(e){var t=this,n=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),t?"".concat(St.conductAllInScope,"?scope=").concat(encodeURIComponent(e)):"".concat(It.conductAllInScope,"?scope=").concat(encodeURIComponent(e))}(e,this.useNewApi),o=this.useNewApi?wt(this.requestContext):"",i="".concat(this.baseUrl).concat(n).concat(o),r=this._getUrlWithFallback(i,"{}").then((function(e){return Pt(e)})).then((function(e){return t.useNewApi?e.values:e})).then((function(e){return t.add(e),e}));return this._addLoader(i,r)},t.prototype.conduct=function(e,t){var n=this,o=Ot().getExperimentValue(e,this.useNewApi);if(void 0!==o)return this._addConductResult(e,o);var i=Dt(e,t,this.useNewApi),r=this.useNewApi?wt(this.requestContext):"",a="".concat(this.baseUrl).concat(i).concat(r),s=this._getUrlWithFallback(a,null!=t?t:"").then((function(t){return n._addConductResult(e,t)}));return this._addLoader(a,s)},t.prototype.pending=function(){return!!this.loaders.size},t.prototype.ready=function(){return Promise.all(Array.from(this.loaders.values()))},t.prototype._addConductResult=function(e,t){var n,o=this.useNewApi?JSON.parse(t).value:t;return this.add(((n={})[e]=o,n)),Promise.resolve(o)},t}(Jt);let Yt,Zt;async function en(){Yt||(Yt=new Qt({scope:"members-area"})),await Yt.ready()}async function tn(){Zt||(Zt=new Qt({scope:"members-area-v2"})),await Zt.ready()}async function nn(){return await en(),"true"===Yt.get("specs.membersArea.ADIHorizontalLayout")}async function on(){return await en(),"true"===Yt.get("specs.ident.EnableSignUpPrivacyNoteType")}async function rn(){try{await en()}catch(e){}return"true"===Yt.get("specs.membersArea.UseNewAppInstallCheck")}async function an(){return await en(),"true"===Yt.get("specs.membersArea.v2UninstallUnsuccessfulInstall")}async function sn(){return await en(),"true"===Yt.get("specs.membersAreaV2.enableCustomPages")}async function cn(){return await en(),"true"===Yt.get("specs.membersArea.UseNewRoutesService")}let ln={isDeletingSinglePage:!1,isClassicEditor:!1,isResponsiveEditor:!1,isADI:!1,integratedAppsMap:{},staticsBaseUrl:"",blogWriterProfilesOnly:!1,isUninstalling:!1,editorSDK:void 0,isSuccessfulEditorReady:!0};const un=e=>{ln={...ln,integratedAppsMap:e}},pn=e=>{ln={...ln,isUninstalling:e}},dn=e=>{ln={...ln,editorSDK:e}},fn=()=>ln.isResponsiveEditor,gn=()=>ln.isADI,mn=()=>ln.staticsBaseUrl,hn=()=>ln.integratedAppsMap||{},yn=e=>ln.integratedAppsMap[e]||[],bn=()=>ln.blogWriterProfilesOnly,vn=e=>{ln.isSuccessfulEditorReady=e},wn=e=>"utils.timeoutMonitor."+e,Pn=(e,t)=>"Timeout monitor: "+e+" - "+t;async function Sn(e,t,n,o){void 0===o&&(o={});const i=await async function(){return await en(),"true"===Yt.get("specs.membersArea.enableTimeoutLogs")}(),r=wn(e);return Ye(r),new Promise((async(a,s)=>{let c=!1;i&&nt(Pn(e,"Invocation"));const l=setTimeout((()=>{i&&nt(Pn(e,"Timeout"),o),console.log("Members Area: Timeout of promise "+e),c=!0}),t);try{const t=await n();c&&i&&nt(Pn(e,"Resolved"),o),clearInterval(l),Ze(r),a(t)}catch(t){var u;if(c)i&&nt(Pn(e,"Rejected"),{...o,extra:{...(null==(u=o)?void 0:u.extra)||{},error:t}});clearInterval(l),Ze(r),s(t)}}))}var In=r(3213),_n=r.n(In);const Dn=(e,t)=>{const n="undefined"==typeof atob?An:atob,o=t.split(".").pop();if(!o)return;const i=n(o);return JSON.parse(i)[e]};function An(e){return r.g.Buffer.from(e,"base64").toString()}var xn=r(6832),On=r.n(xn),Mn=function(e){return{evid:904,src:69,endpoint:"members-app-users",params:e}};let Rn=function(e){return e.ShowPublicOn="show_public_on",e.ShowPublicOff="show_public_off",e.Profile="profile",e.ProfileAll="profile_all",e.ProfileBlogWriters="profile_blog_writers",e.Followers="followers",e.Members="members",e.BackToOverviewCTA="back_to_overview_cta",e.FindMorePagesCTA="find_more_pages_cta",e}({}),Tn=function(e){return e.Editor="editor",e}({}),En=function(e){return e.ManageMemberPages="manage_member_pages",e.AddTabs="add_tabs",e}({}),Cn=function(e){return e.ManageMemberPages="manage_member_pages",e.ActionsMenu="actions_menu",e.EditorProfileSettings="editor_profile_settings",e.ProfileManageMemberPages="editor_profile_manage_member_pages",e.GeneralSettingsPanel="general-settings-panel",e}({}),kn=function(e){return e.ALL="all",e.BWP_ONLY="bwp-only",e.BWP_ALL="bwp-all",e}({});const Ln=(e,t)=>e.appDefinitionId===t.appDefinitionId&&e.pageId===t.pageId,jn=e=>e.reduce(((e,t)=>((e,t)=>!t.some((t=>t.appDefinitionId===e.appDefinitionId&&t.pageId===e.pageId)))(t,e)?[...e,t]:e),[]),Nn={[C.appDefinitionId]:Rn.Profile,[U.appDefinitionId]:Rn.Followers,[L.appDefinitionId]:Rn.Members},Bn=async e=>{var t;let{editorSDK:n,withClientId:o,options:i}=e;const r=new Kn,a=null==i||null==(t=i.origin.info)?void 0:t.type;return await r.init(n,o,a),r};class Kn{constructor(){var e=this;_n()(this,"logger",void 0),_n()(this,"baseProps",{}),_n()(this,"init",(async function(t,n,o){void 0===n&&(n=!0);const i=await t.info.getAppInstance("");i||nt("missing instance in platform however the editor script will proceed");const r=i?Dn("instanceId",i):void 0,a=i?Dn("biToken",i):void 0;e.baseProps={app_id:Be,instance_id:r,biToken:a,originInfo:o},n&&(e.baseProps.client_id=i?Dn("uid",i):void 0)})),_n()(this,"logMembersMenuToggle",(e=>{let{pageId:t,pageName:n,toggle_status:o,is_social:i}=e;const r={...this.baseProps,pageId:t,pageName:n,toggleName:"Members Menu",toggle_status:o,is_social:i};return this.logger.report(Mn(r))})),_n()(this,"logLoginMenuToggle",(e=>{let{pageId:t,pageName:n,toggle_status:o,is_social:i}=e;const r={...this.baseProps,pageId:t,pageName:n,toggleName:"Login Menu",toggle_status:o,is_social:i};return this.logger.report(Mn(r))})),_n()(this,"logInstallationFailure",(e=>{const t={...this.baseProps,errorMsg:e,appInstanceId:this.baseProps.app_id};return delete t.app_id,this.logger.report({evid:821,src:69,endpoint:"members-app-users",params:t})})),_n()(this,"addPageButtonClick",(e=>{let{origin:t,pageName:n,pageId:o,appId:i,context:r}=e;return this.logger.report({evid:907,src:69,endpoint:"members-app-users",params:{...this.baseProps,origin:t,pageName:n,pageId:o,appId:i,context:r}})})),_n()(this,"loadMembersCustomPages",(e=>{let{pageName:t,pageId:n,appId:o,context:i}=e;return this.logger.report({evid:906,src:69,endpoint:"members-app-users",params:{...this.baseProps,pageName:t,pageId:n,appId:o,context:i}})})),_n()(this,"verticalTriggeredMaInstallInitiated",(e=>{let{originAppId:t}=e;return this.logger.report({evid:822,src:69,endpoint:"members-app-users",params:{...this.baseProps,originAppId:t}})})),_n()(this,"verticalTriggeredMaInstallSuccess",(e=>{let{originAppId:t}=e;return this.logger.report({evid:823,src:69,endpoint:"members-app-users",params:{...this.baseProps,originAppId:t}})})),_n()(this,"maPageInstalled",(e=>{let{originAppId:t,pageName:n}=e;return this.logger.report({evid:824,src:69,endpoint:"members-app-users",params:{...this.baseProps,originAppId:t,pageName:n}})})),_n()(this,"managePagesActionDelete",(e=>{let{pageId:t,pageName:n,value:o,appId:i}=e;return this.logger.report({evid:825,src:69,endpoint:"members-app-users",params:{...this.baseProps,pageId:t,pageName:n,value:o,appId:i}})})),_n()(this,"managePagesAddMemberPagesClick",(e=>{let{origin:t,context:n,referralInfo:o}=e;return this.logger.report({evid:826,src:69,endpoint:"members-app-users",params:{...this.baseProps,origin:t,referralInfo:o,context:n}})})),_n()(this,"managesPagesModalTabNavigation",(e=>{let{tabName:t}=e;return this.logger.report({evid:827,src:69,endpoint:"members-app-users",params:{...this.baseProps,tabName:t,context:En.ManageMemberPages}})})),_n()(this,"membersProfileSelection",(e=>{let{value:t}=e;return this.logger.report({evid:829,src:69,endpoint:"members-app-users",params:{...this.baseProps,value:t}})})),_n()(this,"memberPagesSettingsOpen",(e=>this.logger.report({evid:908,src:69,endpoint:"members-app-users",params:{...this.baseProps,referralinfo:e}}))),_n()(this,"togglePublicPageAvailability",(e=>{const t=e?Rn.ShowPublicOn:Rn.ShowPublicOff;return this.memberPagesSettingsAction({value:t})})),_n()(this,"onProfilePageTypeChange",(e=>{const t=e===kn.BWP_ONLY?Rn.ProfileBlogWriters:Rn.ProfileAll;return this.memberPagesSettingsAction({value:t})})),_n()(this,"onFindMorePagesClick",(()=>this.memberPagesSettingsAction({value:Rn.FindMorePagesCTA}))),_n()(this,"onBackToOverviewClick",(()=>this.memberPagesSettingsAction({value:Rn.BackToOverviewCTA}))),_n()(this,"onPageToggle",(e=>this.memberPagesSettingsAction({value:Nn[e]}))),_n()(this,"memberPagesSettingsSaveConfirm",((e,t,n)=>{if(!n)return this.pagesSettingsSaveConfirm({selection:void 0});const{appsToRemove:o,appsToInstall:i}=e,r=t.filter((e=>e.isInstalled?!o.some((t=>{let{integrationApplication:n}=t;return Ln(n,e.integrationApplication)})):i.some((t=>{let{integrationApplication:n}=t;return Ln(n,e.integrationApplication)})))).map((e=>{let{integrationApplication:t}=e;return Nn[t.appDefinitionId]})).toString();return this.pagesSettingsSaveConfirm({selection:r})})),_n()(this,"pagesSettingsSaveConfirm",(e=>{let{selection:t,modalName:n}=e;return this.logger.report({evid:910,src:69,endpoint:"members-app-users",params:{...this.baseProps,origin:Tn.Editor,selection:t,modalName:n}})})),_n()(this,"memberPagesSettingsAction",(e=>{let{value:t}=e;return this.logger.report({evid:909,src:69,endpoint:"members-app-users",params:{...this.baseProps,value:t,origin:Tn.Editor}})})),this.logger=On().factory().logger()}}let Un;let Fn,Hn=new Promise((e=>{Un=e}));const Wn=()=>{vn(!0),Un()},Vn=e=>{Fn=e,vn(!1),Un()};async function Gn(e,t){return new Promise(((n,o)=>{Hn=Hn.then((async()=>{if(ln.isSuccessfulEditorReady)try{n(await t())}catch(t){nt("Rejected promise in enforceSequentiality",{tags:{methodName:e},extra:{error:JSON.stringify(t),stack:JSON.stringify(t&&t.stack)}}),o(t)}else{var i;const t="Error occurred in members area platform. "+e+" was not executed.";nt(t,{extra:{error:"object"==typeof Fn?JSON.stringify(Fn):Fn,...Fn?{stack:JSON.stringify(Fn&&(null==(i=Fn)?void 0:i.stack))}:{}}}),o(new Error(t))}}))}))}var qn=r(9479),zn=r.n(qn);const $n={type:"BasicMenuItem",items:[],isVisible:!0,isVisibleMobile:!0},{SUB_MENU_ID:Jn,LOGIN_MENU_ID:Xn,LOGIN_ICONS_MENU_ID:Qn}=be;function Yn(e){return e.menu.create(ae,{menuData:{name:"Login Menu",items:[]},customId:Xn})}function Zn(e){return e.menu.create(ae,{menuData:{name:"Login Icons",items:[]},customId:Qn})}async function eo(e,t){const n=await e.menu.getById(ae,{menuId:t});n.items=[],await e.menu.update(ae,{menuId:t,menuData:n})}async function to(e){const[t,n,o]=await Promise.all([e.menu.getById(ae,{menuId:Jn}),e.menu.getById(ae,{menuId:Xn}),e.menu.getById(ae,{menuId:Qn})]),i=[t&&eo(e,Jn),n&&eo(e,Xn),o&&eo(e,Qn)].filter((e=>!!e));await Promise.all(i);const r=[t&&e.menu.remove(ae,{menuId:Jn}),n&&e.menu.remove(ae,{menuId:Xn}),o&&e.menu.remove(ae,{menuId:Qn})].filter((e=>!!e));await Promise.all(r)}function no(){return{members:Jn,login:Xn,icons:Qn}}async function oo(e){let{editorSDK:t,pageRouterData:n,updatedData:o}=e;const i=no(),r=io({editorSDK:t,pageRouterData:n,updatedData:o,menuId:i.members}),a=io({editorSDK:t,pageRouterData:n,updatedData:o,menuId:i.login}),s=io({editorSDK:t,pageRouterData:n,updatedData:o,menuId:i.icons});return Promise.all([r,a,s])}async function io(e){let{editorSDK:t,pageRouterData:n,updatedData:o,menuId:i}=e;const r=n.innerRoute,a=await t.menu.getById(ae,{menuId:i}),s=a.items.find((e=>{var t;return"/"+(null==(t=e.link)?void 0:t.innerRoute)===r}));s&&(zn().merge(s,o),await t.menu.update(ae,{menuId:i,menuData:a}))}async function ro(e){let{editorSDK:t,menuId:n}=e;const o=await t.menu.getById(ae,{menuId:n});if(!o)throw new Error("Could not retrieve the menu "+n);return o.items}function ao(e){let{editorSDK:t,menuId:n}=e;return t.menu.getById(ae,{menuId:n})}async function so(e){let{editorSDK:t,menuId:n,pattern:o}=e;const i=await t.menu.getById(ae,{menuId:n}),r=[];for(const e of i.items){var a;(null==(a=e.link)?void 0:a.innerRoute)!==o&&r.push(e)}i.items=r,await t.menu.update(ae,{menuId:n,menuData:i})}async function co(e){let{editorSDK:t,pattern:n}=e;const o=no();for(const e of Object.values(o))await so({editorSDK:t,menuId:e,pattern:n})}async function lo(e){const{editorSDK:t,menuId:n,items:o}=e,i=await t.menu.getById(ae,{menuId:n});i.items=o,await t.menu.update(ae,{menuId:n,menuData:i}),setTimeout((()=>async function(e){let{editorSDK:t,menuId:n,items:o}=e;const i=await t.menu.getById(ae,{menuId:n}),r=i.items.length<o.length;if(r){nt("Menu items did not update, items count is less than it was provided",{tags:{menuId:n},extra:{beforeItemsCount:o.length,afterItemsCount:i.items.length}})}}(e)),5e3)}async function uo(e,t,n,o){const i=await e.routers.getByPage(ae,{pageRef:t}),r=await e.routers.get(ae,{routerRef:i}),a=zn().find(r.pages,(e=>e.pageRef.id===t.id)),s=null==a?void 0:a.pageRoles[0],c=zn().findKey(r.config.patterns,(e=>e.page===s)),l=zn().find(r.config.patterns,(e=>e.page===s));l[n]="string"==typeof o?o:zn().assign({},l[n],o);const u=r.config;return zn().set(u,"patterns["+c+"]",l),await e.routers.update(ae,{routerRef:i,config:u}),i}async function po(e){return await e.routers.getAll(ae)}async function fo(e,t,n,o){if(void 0===n&&(n=0),n>3)throw new Error("Can not add router, failed after 3 retries, reason: "+o&&(null==o?void 0:o.toString()));const i=async o=>{const i=await e.routers.getByPrefix(ae,{prefix:t.prefix});if(i)return i;let{prefix:r}=t;return r=r.replace(/\-[0-9]$/,""),r+="-"+ ++n,t.prefix=r,fo(e,t,n,o)},r=await e.routers.add(ae,t).catch(i);return await e.routers.get(ae,{routerRef:r})?r:i("Router was not added although the installation was successful")}async function go(e){const t=await e.routers.getAll(ae);for(const n of t){const t=await e.routers.getByPrefix(ae,{prefix:n.prefix});await e.routers.remove(ae,{routerRef:t})}}async function mo(e){const t=await po(e);for(const n of t){const t=await e.routers.getByPrefix(ae,{prefix:n.prefix});for(const o of n.pages)await e.routers.pages.remove(ae,{routerRef:t,pageRef:o.pageRef})}}const ho=(e,t)=>{var n;const o=null==(n=t.pages.find((t=>{var n;return(null==(n=t.pageRef)?void 0:n.id)===e.id})))?void 0:n.pageRoles;if(null==o||!o.length||!t.config.patterns)return;return Object.keys(t.config.patterns).find((e=>{var n;return o.includes(null==(n=t.config.patterns[e])?void 0:n.page)}))};function yo(e,t){void 0===t&&(t=Ne);let n="/"+t,o=1;for(;e.includes(n);)n="/"+t+"-"+o,o++;return n.substring(1)}function bo(e){let{editorSDK:t,prefix:n}=e;return t.routers.getByPrefix(ae,{prefix:n})}function vo(e){let{editorSDK:t,config:n,routerRef:o}=e;return t.routers.update(ae,{config:n,routerRef:o})}const{APP_TOKEN:wo}=e;async function Po(e,t){const n=pe;return e.components.add(wo,{pageRef:t,componentDefinition:n,customId:De})}async function So(e){const t=(await e.controllers.listControllers(wo,{})).find((e=>(null==e?void 0:e.controllerRef.id)===De));return null==t?void 0:t.controllerRef}async function Io(e){return async function(e,t){const n=await ta({editorSDK:e,id:t});if(n)return(await e.controllers.getData(wo,{controllerRef:n})).config}(e,De)}async function _o(e){return e.controllers.listAllControllers(wo)}async function Do(e,t){const n=await e.controllers.listConnectedComponents(wo,t);for(const t of n)await e.components.remove(wo,{componentRef:t})}async function Ao(e,t){await e.components.remove(wo,{componentRef:t.controllerRef})}async function xo(e){const t=await async function(e){const t=await _o(e),n=await Promise.all(t.map((async t=>{let{controllerRef:n}=t;return n.id.includes("_r_")?{controllerRef:await e.components.refComponents.getTemplateComponent(wo,{componentRef:n})}:{controllerRef:n}}))),o=n.filter(((e,t,n)=>n.findIndex((t=>t.controllerRef.id===e.controllerRef.id))===t));return o}(e);for(const n of t)if(fn())try{await Do(e,n),await Ao(e,n)}catch(e){nt("An error occured when deleting controllers in EditorX. However they are expected to be deleted by the platform",{extra:{e:e}})}else await Do(e,n),await Ao(e,n);const n=[Me.appDefinitionId,Re];await async function(e,t){const n=await e.components.getAllComponents(Nr);for(const o of n){const n=await Yr({editorSDK:e,componentRef:o});n&&(-1!==t.indexOf(n.appDefinitionId)&&await Jr({editorSDK:e,componentRef:o}))}}(e,n)}async function Oo(e){let{editorSDK:t,connectToRef:n,controllerRef:o,role:i,connectionConfig:r={},isPrimary:a=!0}=e;try{await t.controllers.connect(wo,{connectToRef:n,controllerRef:o,connectionConfig:r,role:i,isPrimary:a})}catch(e){throw nt("Failed to connect to controller",{tags:{platformMessage:e.toString()},extra:{args:JSON.stringify({connectToRef:n,controllerRef:o,role:i,connectionConfig:r,isPrimary:a})}}),e}}function Mo(e,t){return e.tpa.add.application(ae,t)}function Ro(e){let{editorSDK:t,appDefinitionId:n}=e;return t.tpa.isApplicationInstalled(ae,{appDefinitionId:n})}function To(e){let{editorSDK:t,appDefinitionId:n,sectionId:o}=e;return t.tpa.isAppSectionInstalled(ae,{appDefinitionId:n,sectionId:o})}function Eo(e){let{editorSDK:t,appDefinitionId:n}=e;return t.tpa.app.getDataByAppDefId(ae,n)}function Co(e){let{editorSDK:t,applicationId:n}=e;return t.tpa.app.getAllCompsByApplicationId(ae,n)}const ko={componentType:"wysiwyg.viewer.components.SiteRegionContainer",type:"Container",components:[],activeModes:{},layoutResponsive:{type:"LayoutData",componentLayouts:[{type:"ComponentLayout",width:{type:"auto"},height:{type:"auto"}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"stretch",alignSelf:"stretch",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:30}}}],containerLayouts:[{type:"GridContainerLayout",rows:[{type:"fr",value:1},{type:"px",value:40}],columns:[{type:"fr",value:1}]}]},layout:{x:0,y:0,fixedPosition:!1,width:ce,height:290,scale:1,rotationInDegrees:0},style:{type:"StylesInBreakpoint",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin",stylesInBreakpoints:[{styleType:"custom",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin",type:"ComponentStyle",style:{properties:{"alpha-bg":"1","alpha-brd":"1",bg:"color_11","boxShadowToggleOn-shd":"false",brd:"color_15",brw:"0",rd:"0px",shd:"0px 0px 0px 0px rgba(0,0,0,0)"},propertiesSource:{bg:"theme",brd:"theme",brw:"value",rd:"value",shd:"value"},groups:{}}}]}},Lo={"alpha-bg":"0","alpha-brd":"1","alpha-brd-dd":"0.2","badge-bg":"#E21C21","badge-txt":"color_11",bg:"color_11","bg-dd":"color_11","boxShadowToggleOn-shd":"false","boxShadowToggleOn-shd-dd":"false",brd:"color_15","brd-dd":"color_15",brw:"0","brw-dd":"1px",fillcolor:"color_18",fnt:"font_8","fnt-size-dd":"15px",rd:"0px","rd-dd":"0px",shd:"0 0 0 transparent","shd-dd":"0 0 0 transparent",txt:"color_18","txt-dd":"color_15",txth:"color_19","txth-dd":"color_19","txt-slct-dd":"color_19",avatarAndArrowStrokeWidth:"0",avatarCornerRadius:"100px"},jo={type:"LoginSocialBar",loggedInMember:"avatarOnly",loggedOutText:"Log In",showLoggedInText:!1,loggedInText:"Hello",logOutText:"Log Out",menuItemsRef:{menuRef:"#"+be.LOGIN_MENU_ID,type:"CustomMenuDataRef"},iconItemsRef:{menuRef:"#"+be.LOGIN_ICONS_MENU_ID,type:"CustomMenuDataRef"},language:"en",role:"members_login"},No={type:"LoginSocialBar",loggedInMember:"avatarOnly",loggedOutText:"Log In",showLoggedInText:!1,loggedInText:"Hello",logOutText:"Log Out",menuItemsRef:null,iconItemsRef:null,language:"en",role:"members_login"},Bo={type:"ConnectionList",items:[{type:"ConnectionItem",controllerId:"login-bar-controller-id",isPrimary:!0,config:"{}",role:"members-login-bar"}]},Ko={type:"ConnectionList",items:[{type:"ConnectionItem",controllerId:"login-bar-controller-id",isPrimary:!0,config:'{"isMembersAreaV2": true}',role:"members-login-bar"}]},Uo={type:"LoginSocialBarProperties",buttonsDirection:"ltr",iconSize:26,dropDownTextAlignment:"left",buttonsAlignment:"right"},Fo={componentType:"platform.components.AppWidget",style:{skin:"platform.components.skins.AppWidgetSkin",style:{}},type:"Container",layout:{width:120,height:40,x:850,y:24,scale:1,rotationInDegrees:0,fixedPosition:!1},layoutResponsive:{type:"LayoutData",componentLayouts:[{type:"ComponentLayout",width:{type:"px",value:120},height:{type:"px",value:40},minHeight:{type:"px",value:40}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"end",alignSelf:"center",margins:{left:{type:"percentage",value:0},top:{type:"px",value:0},right:{type:"px",value:70},bottom:{type:"px",value:0}}}],containerLayouts:[{type:"GridContainerLayout",rows:[{type:"fr",value:1}],columns:[{type:"fr",value:1}]}]},data:{type:"AppController",applicationId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",name:"login-bar-controller",controllerType:"members-login-bar",id:"login-bar-controller-id"}},Ho={width:{type:"percentage",value:100},height:{type:"percentage",value:100}},Wo=[{type:"Component",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",componentType:"wysiwyg.viewer.components.LoginSocialBar",data:No,props:Uo,style:{type:"StylesInBreakpoint",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",stylesInBreakpoints:[{type:"ComponentStyle",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",componentClassName:"wysiwyg.viewer.components.LoginSocialBar",styleType:"custom",style:{properties:Lo,propertiesSource:{},groups:{}}}]},layout:{width:120,height:40,scale:1,rotationInDegrees:0,fixedPosition:!1,x:0,y:0},layoutResponsive:{type:"LayoutData",componentLayouts:[{...Ho,type:"ComponentLayout",minHeight:{type:"px",value:40}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"stretch",alignSelf:"start",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:0}}}],containerLayouts:[]},connections:Bo}],Vo=[{...Wo[0],connections:Ko}],Go={...Fo,components:Wo},qo={...Fo,components:Vo},zo="members-menu",$o={type:"ConnectionList",items:[{type:"ConnectionItem",controllerId:"members-menu-controller-id",isPrimary:!0,config:"{}",role:"members-menu"}]},Jo={type:"Component",data:{type:"CustomMenuDataRef",menuRef:"#MEMBERS_SUB_MENU",role:"members_menu"},componentType:"wysiwyg.viewer.components.menus.DropDownMenu",layout:{width:956,height:40,scale:1,rotationInDegrees:0,fixedPosition:!1,x:0,y:0},props:{type:"HorizontalMenuProperties",alignButtons:"left",alignText:"left",sameWidthButtons:!1,stretchButtonsToMenuWidth:!1,moreButtonLabel:"More",moreItemHeight:15},style:{styleType:"custom",type:"ComponentStyle",skin:"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin",componentClassName:"wysiwyg.viewer.components.menus.DropDownMenu",style:{properties:{"boxShadowToggleOn-shd":"true","alpha-bgDrop":"1","alpha-brdh":"1","alpha-brd":"0","alpha-brds":"1",bgDrop:"color_11",brd:"color_15",brdh:"color_17",brds:"color_18",fnt:"font_8",menuTotalBordersX:"0",pad:"10",rd:"0px",shd:"0px 1px 4px 0px rgba(0,0,0,0.2)",txt:"color_15",txth:"color_17",txts:"color_18"},propertiesSource:{"boxShadowToggleOn-shd":"value","alpha-bgDrop":"value","alpha-brd":"value","alpha-brdh":"value","alpha-brds":"value",bgDrop:"theme",brd:"theme",brdh:"theme",brds:"theme",fnt:"theme",menuTotalBordersX:"value",pad:"value",rd:"value",shd:"value",txt:"theme",txth:"theme",txts:"theme"}}}},Xo={...Jo,props:{...Jo.props,itemsAlignment:"right",alignButtons:"right",alignText:"right"}},Qo={componentType:"platform.components.AppWidget",type:"Container",style:{skin:"platform.components.skins.AppWidgetSkin",style:{}},layout:{width:ce,height:40,x:12,y:250,scale:1,rotationInDegrees:0,fixedPosition:!1},data:{type:"AppController",applicationId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",name:"members-menu-controller",controllerType:zo,id:"members-menu-controller-id"}},Yo={type:"LayoutData",componentLayouts:[{type:"ComponentLayout",height:{type:"px",value:40},width:{type:"percentage",value:100},minHeight:{type:"px",value:40},maxWidth:{type:"px",value:974}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:2,columnStart:1,rowEnd:3,columnEnd:2},justifySelf:"center",alignSelf:"start",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:0}}}],containerLayouts:[{type:"GridContainerLayout",rows:[{type:"fr",value:1}],columns:[{type:"fr",value:1}]}]},Zo={type:"LayoutData",componentLayouts:[{type:"ComponentLayout",height:{type:"px",value:40},minHeight:{type:"px",value:40}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"stretch",alignSelf:"start",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:0}}}],containerLayouts:[]},ei={type:"StylesInBreakpoint",skin:"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin",stylesInBreakpoints:[{styleType:"custom",type:"ComponentStyle",skin:"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin",componentClassName:"wysiwyg.viewer.components.menus.DropDownMenu",style:{properties:{"boxShadowToggleOn-shd":"true","alpha-bgDrop":"1","alpha-brdh":"1","alpha-brd":"0","alpha-brds":"1",bgDrop:"color_11",brd:"color_15",brdh:"color_17",brds:"color_18",fnt:"font_8",menuTotalBordersX:"0",pad:"10",rd:"0px",shd:"0px 1px 4px 0px rgba(0,0,0,0.2)",txt:"color_15",txth:"color_17",txts:"color_18"},propertiesSource:{"boxShadowToggleOn-shd":"value","alpha-bgDrop":"value","alpha-brd":"value","alpha-brdh":"value","alpha-brds":"value",bgDrop:"theme",brd:"theme",brdh:"theme",brds:"theme",fnt:"theme",menuTotalBordersX:"value",pad:"value",rd:"value",shd:"value",txt:"theme",txth:"theme",txts:"theme"}}}]},ti={...Qo,layoutResponsive:Yo,components:[{...Jo,layoutResponsive:Zo,style:ei,connections:$o}]},ni={...Qo,layoutResponsive:Yo,components:[{...Xo,layoutResponsive:Zo,style:ei,connections:$o}]},oi=["he","ar"],ii=e=>oi.includes(e),ri=async e=>(e=e||window.editorSDK,await e&&e.info&&e.info.getLanguage());var ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var si={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}},ci=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init(t,n)}return e.prototype.init=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||si,this.options=t,this.debug=t.debug},e.prototype.setDebug=function(e){this.debug=e},e.prototype.log=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)},e.prototype.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)},e.prototype.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")},e.prototype.deprecate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)},e.prototype.forward=function(e,t,n,o){return o&&!this.debug?null:("string"==typeof e[0]&&(e[0]=""+n+this.prefix+" "+e[0]),this.logger[t](e))},e.prototype.create=function(t){return new e(this.logger,ai({prefix:this.prefix+":"+t+":"},this.options))},e}(),li=new ci;var ui=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observers={}}return e.prototype.on=function(e,t){var n=this;e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)}))},e.prototype.off=function(e,t){var n=this;this.observers[e]&&this.observers[e].forEach((function(){if(t){var o=n.observers[e].indexOf(t);o>-1&&n.observers[e].splice(o,1)}else delete n.observers[e]}))},e.prototype.emit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){var o;t.apply(t,(o=[e]).concat.apply(o,n))}))},e}(),pi=ui;function di(e){return null==e?"":""+e}function fi(e,t,n){function o(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var r="string"!=typeof t?[].concat(t):t.split(".");r.length>1;){if(i())return{};var a=o(r.shift());!e[a]&&n&&(e[a]=new n),e=e[a]}return i()?{}:{obj:e,k:o(r.shift())}}function gi(e,t,n){var o=fi(e,t,Object);o.obj[o.k]=n}function mi(e,t){var n=fi(e,t),o=n.obj,i=n.k;if(o)return o[i]}function hi(e,t,n){for(var o in t)o in e?"string"==typeof e[o]||e[o]instanceof String||"string"==typeof t[o]||t[o]instanceof String?n&&(e[o]=t[o]):hi(e[o],t[o],n):e[o]=t[o];return e}function yi(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var bi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function vi(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return bi[e]})):e}var wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function Pi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var Si=function(e){function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i.data=n||{},i.options=o,i}return Pi(t,e),t.prototype.addNamespaces=function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)},t.prototype.removeNamespaces=function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)},t.prototype.getResource=function(e,t,n){var o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).keySeparator||this.options.keySeparator;void 0===o&&(o=".");var i=[e,t];return n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(i=e.split(".")),mi(this.data,i)},t.prototype.addResource=function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=this.options.keySeparator;void 0===r&&(r=".");var a=[e,t];n&&(a=a.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(o=t,t=(a=e.split("."))[1]),this.addNamespaces(t),gi(this.data,a,o),i.silent||this.emit("added",e,t,n,o)},t.prototype.addResources=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"==typeof n[i]&&this.addResource(e,t,i,n[i],{silent:!0});o.silent||this.emit("added",e,t,n)},t.prototype.addResourceBundle=function(e,t,n,o,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(o=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=mi(this.data,a)||{};o?hi(s,n,i):s=wi({},s,n),gi(this.data,a,s),r.silent||this.emit("added",e,t,n)},t.prototype.removeResourceBundle=function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)},t.prototype.hasResourceBundle=function(e,t){return void 0!==this.getResource(e,t)},t.prototype.getResourceBundle=function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?wi({},this.getResource(e,t)):this.getResource(e,t)},t.prototype.toJSON=function(){return this.data},t}(pi),Ii=Si,_i={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,o,i){var r=this;return e.forEach((function(e){r.processors[e]&&(t=r.processors[e].process(t,n,o,i))})),t}},Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function xi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var Oi=function(e){function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],n,i),i.options=o,i.logger=li.create("translator"),i}return xi(t,e),t.prototype.changeLanguage=function(e){e&&(this.language=e)},t.prototype.exists=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res},t.prototype.extractFromKey=function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var o=t.keySeparator||this.options.keySeparator||".",i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var r=e.split(n);(n!==o||n===o&&this.options.ns.indexOf(r[0])>-1)&&(i=r.shift()),e=r.join(o)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}},t.prototype.translate=function(e,t){var n=this;if("object"!==(void 0===t?"undefined":Ai(t))&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var o=t.keySeparator||this.options.keySeparator||".",i=this.extractFromKey(e[e.length-1],t),r=i.key,a=i.namespaces,s=a[a.length-1],c=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(l){var u=t.nsSeparator||this.options.nsSeparator;return s+u+r}return r}var p=this.resolve(e,t),d=p&&p.res,f=p&&p.usedKey||r,g=Object.prototype.toString.apply(d),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays;if(d&&("string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(g)<0&&(!m||"[object Array]"!==g)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,d,t):"key '"+r+" ("+this.language+")' returned an object instead of string.";if(t.keySeparator||this.options.keySeparator){var h="[object Array]"===g?[]:{};for(var y in d)if(Object.prototype.hasOwnProperty.call(d,y)){var b=""+f+o+y;h[y]=this.translate(b,Di({},t,{joinArrays:!1,ns:a})),h[y]===b&&(h[y]=d[y])}d=h}}else if(m&&"[object Array]"===g)(d=d.join(m))&&(d=this.extendTranslation(d,e,t));else{var v=!1,w=!1;this.isValidLookup(d)||void 0===t.defaultValue||(v=!0,d=t.defaultValue),this.isValidLookup(d)||(w=!0,d=r);var P=t.defaultValue&&t.defaultValue!==d&&this.options.updateMissing;if(w||v||P){this.logger.log(P?"updateKey":"missingKey",c,s,r,P?t.defaultValue:d);var S=[],I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&I&&I[0])for(var _=0;_<I.length;_++)S.push(I[_]);else"all"===this.options.saveMissingTo?S=this.languageUtils.toResolveHierarchy(t.lng||this.language):S.push(t.lng||this.language);var D=function(e,o){n.options.missingKeyHandler?n.options.missingKeyHandler(e,s,o,P?t.defaultValue:d,P,t):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(e,s,o,P?t.defaultValue:d,P,t),n.emit("missingKey",e,s,o,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&t.count?S.forEach((function(e){n.pluralResolver.getPluralFormsOfKey(e,r).forEach((function(t){return D([e],t)}))})):D(S,r))}d=this.extendTranslation(d,e,t),w&&d===r&&this.options.appendNamespaceToMissingKey&&(d=s+":"+r),w&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(d))}return d},t.prototype.extendTranslation=function(e,t,n){var o=this;n.interpolation&&this.interpolator.init(Di({},n,{interpolation:Di({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=Di({},this.options.interpolation.defaultVariables,i)),e=this.interpolator.interpolate(e,i,n.lng||this.language),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){return o.translate.apply(o,arguments)}),n)),n.interpolation&&this.interpolator.reset();var r=n.postProcess||this.options.postProcess,a="string"==typeof r?[r]:r;return null!=e&&a&&a.length&&!1!==n.applyPostProcessor&&(e=_i.handle(a,e,t,n,this)),e},t.prototype.resolve=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=void 0,i=void 0;return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!t.isValidLookup(o)){var r=t.extractFromKey(e,n),a=r.key;i=a;var s=r.namespaces;t.options.fallbackNS&&(s=s.concat(t.options.fallbackNS));var c=void 0!==n.count&&"string"!=typeof n.count,l=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,u=n.lngs?n.lngs:t.languageUtils.toResolveHierarchy(n.lng||t.language);s.forEach((function(e){t.isValidLookup(o)||u.forEach((function(i){if(!t.isValidLookup(o)){var r=a,s=[r],u=void 0;c&&(u=t.pluralResolver.getSuffix(i,n.count)),c&&l&&s.push(r+u),l&&s.push(r+=""+t.options.contextSeparator+n.context),c&&s.push(r+=u);for(var p=void 0;p=s.pop();)t.isValidLookup(o)||(o=t.getResource(i,e,p,n))}}))}))}})),{res:o,usedKey:i}},t.prototype.isValidLookup=function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)},t.prototype.getResource=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(e,t,n,o)},t}(pi),Mi=Oi;function Ri(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Ti=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=li.create("languageUtils")}return e.prototype.getScriptPartFromCode=function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))},e.prototype.getLanguagePartFromCode=function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])},e.prototype.formatLanguageCode=function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ri(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ri(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Ri(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e},e.prototype.isWhitelisted=function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1},e.prototype.getFallbackCodes=function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]},e.prototype.toResolveHierarchy=function(e,t){var n=this,o=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],r=function(e){e&&(n.isWhitelisted(e)?i.push(e):n.logger.warn("rejecting non-whitelisted language code: "+e))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),o.forEach((function(e){i.indexOf(e)<0&&r(n.formatLanguageCode(e))})),i},e}();var Ei=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],Ci={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}};var ki=function(){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.languageUtils=t,this.options=o,this.logger=li.create("pluralResolver"),this.rules=(n={},Ei.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:Ci[e.fc]}}))})),n)}return e.prototype.addRule=function(e,t){this.rules[e]=t},e.prototype.getRule=function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]},e.prototype.needsPlural=function(e){var t=this.getRule(e);return t&&t.numbers.length>1},e.prototype.getPluralFormsOfKey=function(e,t){var n=this,o=[],i=this.getRule(e);return i?(i.numbers.forEach((function(i){var r=n.getSuffix(e,i);o.push(""+t+r)})),o):o},e.prototype.getSuffix=function(e,t){var n=this,o=this.getRule(e);if(o){var i=o.noAbs?o.plurals(t):o.plurals(Math.abs(t)),r=o.numbers[i];this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var a=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_"+r.toString():a():"v2"===this.options.compatibilityJSON||2===o.numbers.length&&1===o.numbers[0]||2===o.numbers.length&&1===o.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: "+e),""},e}(),Li=ki,ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var Ni=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.logger=li.create("interpolator"),this.init(t,!0)}return e.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.escape=e.interpolation&&e.interpolation.escape||vi),e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.prefix=t.prefix?yi(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?yi(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?yi(t.nestingPrefix):t.nestingPrefixEscaped||yi("$t("),this.nestingSuffix=t.nestingSuffix?yi(t.nestingSuffix):t.nestingSuffixEscaped||yi(")"),this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.resetRegExp()},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.resetRegExp=function(){var e=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(e,"g");var t=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(t,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},e.prototype.interpolate=function(e,t,n){var o=this,i=void 0,r=void 0,a=void 0;function s(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(o.formatSeparator)<0)return mi(t,e);var i=e.split(o.formatSeparator),r=i.shift().trim(),a=i.join(o.formatSeparator).trim();return o.format(mi(t,r),a,n)};for(this.resetRegExp(),a=0;(i=this.regexpUnescape.exec(e))&&(r=c(i[1].trim()),e=e.replace(i[0],r),this.regexpUnescape.lastIndex=0,!(++a>=this.maxReplaces)););for(a=0;i=this.regexp.exec(e);){if("string"!=typeof(r=c(i[1].trim()))&&(r=di(r)),!r)if("function"==typeof this.options.missingInterpolationHandler){var l=this.options.missingInterpolationHandler(e,i);r="string"==typeof l?l:""}else this.logger.warn("missed to pass in variable "+i[1]+" for interpolating "+e),r="";if(r=this.escapeValue?s(this.escape(r)):s(r),e=e.replace(i[0],r),this.regexp.lastIndex=0,++a>=this.maxReplaces)break}return e},e.prototype.nest=function(e,t){var n=void 0,o=void 0,i=ji({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});function r(e,t){if(e.indexOf(",")<0)return e;var n=e.split(",");e=n.shift();var o=n.join(",");o=(o=this.interpolate(o,i)).replace(/'/g,'"');try{i=JSON.parse(o),t&&(i=ji({},t,i))}catch(t){this.logger.error("failed parsing options string in nesting for key "+e,t)}return e}for(i.applyPostProcessor=!1;n=this.nestingRegexp.exec(e);){if((o=t(r.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof o)return o;"string"!=typeof o&&(o=di(o)),o||(this.logger.warn("missed to resolve "+n[1]+" for nesting "+e),o=""),e=e.replace(n[0],o),this.regexp.lastIndex=0}return e},e}(),Bi=Ni,Ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ui=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Fi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var Hi=function(e){function t(n,o,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return a.backend=n,a.store=o,a.languageUtils=i.languageUtils,a.options=r,a.logger=li.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,r.backend,r),a}return Fi(t,e),t.prototype.queueLoad=function(e,t,n){var o=this,i=[],r=[],a=[],s=[];return e.forEach((function(e){var n=!0;t.forEach((function(t){var a=e+"|"+t;o.store.hasResourceBundle(e,t)?o.state[a]=2:o.state[a]<0||(1===o.state[a]?r.indexOf(a)<0&&r.push(a):(o.state[a]=1,n=!1,r.indexOf(a)<0&&r.push(a),i.indexOf(a)<0&&i.push(a),s.indexOf(t)<0&&s.push(t)))})),n||a.push(e)})),(i.length||r.length)&&this.queue.push({pending:r,loaded:{},errors:[],callback:n}),{toLoad:i,pending:r,toLoadLanguages:a,toLoadNamespaces:s}},t.prototype.loaded=function(e,t,n){var o=this,i=e.split("|"),r=Ui(i,2),a=r[0],s=r[1];t&&this.emit("failedLoading",a,s,t),n&&this.store.addResourceBundle(a,s,n),this.state[e]=t?-1:2,this.queue.forEach((function(n){var i,r,c,l,u,p;i=n.loaded,r=s,l=fi(i,[a],Object),u=l.obj,p=l.k,u[p]=u[p]||[],c&&(u[p]=u[p].concat(r)),c||u[p].push(r),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(o.emit("loaded",n.loaded),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.queue=this.queue.filter((function(e){return!e.done}))},t.prototype.read=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,a=arguments[5];return e.length?this.backend[n](e,t,(function(s,c){s&&c&&o<5?setTimeout((function(){i.read.call(i,e,t,n,o+1,2*r,a)}),r):a(s,c)})):a(null,{})},t.prototype.load=function(e,t,n){var o=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var i=Ki({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var r=this.queueLoad(e,t,n);if(!r.toLoad.length)return r.pending.length||n(),null;i.allowMultiLoading&&this.backend.readMulti?this.read(r.toLoadLanguages,r.toLoadNamespaces,"readMulti",null,null,(function(e,t){e&&o.logger.warn("loading namespaces "+r.toLoadNamespaces.join(", ")+" for languages "+r.toLoadLanguages.join(", ")+" via multiloading failed",e),!e&&t&&o.logger.log("successfully loaded namespaces "+r.toLoadNamespaces.join(", ")+" for languages "+r.toLoadLanguages.join(", ")+" via multiloading",t),r.toLoad.forEach((function(n){var i=n.split("|"),r=Ui(i,2),a=r[0],s=r[1],c=mi(t,[a,s]);if(c)o.loaded(n,e,c);else{var l="loading namespace "+s+" for language "+a+" via multiloading failed";o.loaded(n,l),o.logger.error(l)}}))})):r.toLoad.forEach((function(e){o.loadOne(e)}))},t.prototype.reload=function(e,t){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var o=Ki({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]),o.allowMultiLoading&&this.backend.readMulti?this.read(e,t,"readMulti",null,null,(function(o,i){o&&n.logger.warn("reloading namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading failed",o),!o&&i&&n.logger.log("successfully reloaded namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading",i),e.forEach((function(e){t.forEach((function(t){var r=mi(i,[e,t]);if(r)n.loaded(e+"|"+t,o,r);else{var a="reloading namespace "+t+" for language "+e+" via multiloading failed";n.loaded(e+"|"+t,a),n.logger.error(a)}}))}))})):e.forEach((function(e){t.forEach((function(t){n.loadOne(e+"|"+t,"re")}))}))},t.prototype.loadOne=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.split("|"),i=Ui(o,2),r=i[0],a=i[1];this.read(r,a,"read",null,null,(function(o,i){o&&t.logger.warn(n+"loading namespace "+a+" for language "+r+" failed",o),!o&&i&&t.logger.log(n+"loaded namespace "+a+" for language "+r,i),t.loaded(e,o,i)}))},t.prototype.saveMissing=function(e,t,n,o,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(e,t,n,o,null,Ki({},r,{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,o)},t}(pi),Wi=Hi,Vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function Gi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var qi=function(e){function t(n,o,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return a.cache=n,a.store=o,a.services=i,a.options=r,a.logger=li.create("cacheConnector"),a.cache&&a.cache.init&&a.cache.init(i,r.cache,r),a}return Gi(t,e),t.prototype.load=function(e,t,n){var o=this;if(!this.cache)return n&&n();var i=Vi({},this.cache.options,this.options.cache),r="string"==typeof e?this.services.languageUtils.toResolveHierarchy(e):e;i.enabled?this.cache.load(r,(function(e,t){if(e&&o.logger.error("loading languages "+r.join(", ")+" from cache failed",e),t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))for(var a in t[i])if(Object.prototype.hasOwnProperty.call(t[i],a)&&"i18nStamp"!==a){var s=t[i][a];s&&o.store.addResourceBundle(i,a,s)}n&&n()})):n&&n()},t.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},t}(pi),zi=qi;function $i(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e}var Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function Qi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Yi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}function Zi(){}var er=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=Qi(this,e.call(this));if(i.options=$i(n),i.services={},i.logger=li,i.modules={external:[]},o&&!i.isInitialized&&!n.isClone){var r;if(!i.options.initImmediate)return r=i.init(n,o),Qi(i,r);setTimeout((function(){i.init(n,o)}),0)}return i}return Yi(t,e),t.prototype.init=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];function o(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),this.options=Xi({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};return e[1]&&(t.defaultValue=e[1]),e[2]&&(t.tDescription=e[2]),t},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,$i(t)),this.format=this.options.interpolation.format,n||(n=Zi),!this.options.isClone){this.modules.logger?li.init(o(this.modules.logger),this.options):li.init(null,this.options);var i=new Ti(this.options);this.store=new Ii(this.options.resources,this.options);var r=this.services;r.logger=li,r.resourceStore=this.store,r.resourceStore.on("added removed",(function(e,t){r.cacheConnector.save()})),r.languageUtils=i,r.pluralResolver=new Li(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),r.interpolator=new Bi(this.options),r.backendConnector=new Wi(o(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",(function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.emit.apply(e,[t].concat(o))})),r.backendConnector.on("loaded",(function(e){r.cacheConnector.save()})),r.cacheConnector=new zi(o(this.modules.cache),r.resourceStore,r,this.options),r.cacheConnector.on("*",(function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.emit.apply(e,[t].concat(o))})),this.modules.languageDetector&&(r.languageDetector=o(this.modules.languageDetector),r.languageDetector.init(r,this.options.detection,this.options)),this.translator=new Mi(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.emit.apply(e,[t].concat(o))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var a=function(){e.changeLanguage(e.options.lng,(function(t,o){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),n(t,o)}))};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),this},t.prototype.loadResources=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi;if(this.options.resources)t(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return t();var n=[],o=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(e){n.indexOf(e)<0&&n.push(e)}))};if(this.language)o(this.language);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return o(e)}));this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.cacheConnector.load(n,this.options.ns,(function(){e.services.backendConnector.load(n,e.options.ns,t)}))}},t.prototype.reloadResources=function(e,t){e||(e=this.languages),t||(t=this.options.ns),this.services.backendConnector.reload(e,t)},t.prototype.use=function(e){return"backend"===e.type&&(this.modules.backend=e),"cache"===e.type&&(this.modules.cache=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"postProcessor"===e.type&&_i.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this},t.prototype.changeLanguage=function(e,t){var n=this,o=function(e){e&&(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.translator.language||n.translator.changeLanguage(e),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(e)),n.loadResources((function(o){!function(e,o){n.translator.changeLanguage(o),o&&(n.emit("languageChanged",o),n.logger.log("languageChanged",o)),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(o,e)}))};e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect())},t.prototype.getFixedT=function(e,t){var n=this,o=function e(t,o){for(var i=arguments.length,r=Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];var s=Xi({},o);return"object"!==(void 0===o?"undefined":Ji(o))&&(s=n.options.overloadTranslationOptionHandler([t,o].concat(r))),s.lng=s.lng||e.lng,s.lngs=s.lngs||e.lngs,s.ns=s.ns||e.ns,n.t(t,s)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o},t.prototype.t=function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)},t.prototype.exists=function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)},t.prototype.setDefaultNamespace=function(e){this.options.defaultNS=e},t.prototype.loadNamespaces=function(e,t){var n=this;if(!this.options.ns)return t&&t();"string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources(t)},t.prototype.loadLanguages=function(e,t){"string"==typeof e&&(e=[e]);var n=this.options.preload||[],o=e.filter((function(e){return n.indexOf(e)<0}));if(!o.length)return t();this.options.preload=n.concat(o),this.loadResources(t)},t.prototype.dir=function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"},t.prototype.createInstance=function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},t.prototype.cloneInstance=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zi,i=Xi({},this.options,n,{isClone:!0}),r=new t(i);return["store","services","language"].forEach((function(t){r[t]=e[t]})),r.translator=new Mi(r.services,r.options),r.translator.on("*",(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r.emit.apply(r,[e].concat(n))})),r.init(i,o),r.translator.options=r.options,r},t}(pi),tr=new er,nr=tr,or=(tr.changeLanguage.bind(tr),tr.cloneInstance.bind(tr),tr.createInstance.bind(tr));tr.dir.bind(tr),tr.exists.bind(tr),tr.getFixedT.bind(tr),tr.init.bind(tr),tr.loadLanguages.bind(tr),tr.loadNamespaces.bind(tr),tr.loadResources.bind(tr),tr.off.bind(tr),tr.on.bind(tr),tr.setDefaultNamespace.bind(tr),tr.t.bind(tr),tr.use.bind(tr);function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}var rr=[],ar=rr.forEach,sr=rr.slice;function cr(e){return ar.call(sr.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function lr(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":ir(XMLHttpRequest))}var ur,pr,dr,fr=r(1404),gr=r.t(fr,2);function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}"function"==typeof fetch&&(ur="undefined"!=typeof global&&global.fetch?global.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),lr()&&("undefined"!=typeof global&&global.XMLHttpRequest?pr=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(pr=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?dr=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(dr=window.ActiveXObject)),ur||!gr||pr||dr||(ur=fr||gr),"function"!=typeof ur&&(ur=void 0);var hr=function(e,t){if(t&&"object"===mr(t)){var n="";for(var o in t)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(t[o]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},yr=function(e,t,n){ur(e,t).then((function(e){if(!e.ok)return n(e.statusText||"Error",{status:e.status});e.text().then((function(t){n(null,{status:e.status,data:t})})).catch(n)})).catch(n)},br=!1,vr=function(e,t,n,o){return"function"==typeof n&&(o=n,n=void 0),o=o||function(){},ur?function(e,t,n,o){e.queryStringParams&&(t=hr(t,e.queryStringParams));var i=cr({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(i["Content-Type"]="application/json");var r="function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions,a=cr({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},br?{}:r);try{yr(t,a,o)}catch(e){if(!r||0===Object.keys(r).length||!e.message||e.message.indexOf("not implemented")<0)return o(e);try{Object.keys(r).forEach((function(e){delete a[e]})),yr(t,a,o),br=!0}catch(e){o(e)}}}(e,t,n,o):lr()||"function"==typeof ActiveXObject?function(e,t,n,o){n&&"object"===mr(n)&&(n=hr("",n).slice(1)),e.queryStringParams&&(t=hr(t,e.queryStringParams));try{var i;(i=pr?new pr:new dr("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var r=e.customHeaders;if(r="function"==typeof r?r():r)for(var a in r)i.setRequestHeader(a,r[a]);i.onreadystatechange=function(){i.readyState>3&&o(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(e){console&&console.log(e)}}(e,t,n,o):void o(new Error("No fetch and no xhr implementation found!"))};function wr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Pr=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},request:vr,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Sr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=n,this.allOptions=o,this.type="backend",this.init(t,n,o)}var t,n,o;return t=e,n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=cr(n,this.options||{},Pr()),this.allOptions=o,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,o,i){var r,a=this,s=this.options.loadPath;"function"==typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"==typeof e.then}(r=s)?r:Promise.resolve(r)).then((function(r){if(!r)return i(null,{});var s=a.services.interpolator.interpolate(r,{lng:e.join("+"),ns:n.join("+")});a.loadUrl(s,i,t,o)}))}},{key:"loadUrl",value:function(e,t,n,o){var i=this;this.options.request(this.options,e,void 0,(function(r,a){if(a&&(a.status>=500&&a.status<600||!a.status))return t("failed loading "+e+"; status code: "+a.status,!0);if(a&&a.status>=400&&a.status<500)return t("failed loading "+e+"; status code: "+a.status,!1);if(!a&&r&&r.message&&r.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+r.message,!0);if(r)return t(r,!1);var s,c;try{s="string"==typeof a.data?i.options.parse(a.data,n,o):a.data}catch(t){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,o,i){var r=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var a=this.options.parsePayload(t,n,o),s=0,c=[],l=[];e.forEach((function(n){var o=r.options.addPath;"function"==typeof r.options.addPath&&(o=r.options.addPath(n,t));var u=r.services.interpolator.interpolate(o,{lng:n,ns:t});r.options.request(r.options,u,a,(function(t,n){s+=1,c.push(t),l.push(n),s===e.length&&i&&i(c,l)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,o=t.languageUtils,i=t.logger,r=n.language;if(!r||"cimode"!==r.toLowerCase()){var a=[],s=function(e){o.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};s(r),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),a.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(o,r){o&&i.warn("loading namespace ".concat(e," for language ").concat(t," failed"),o),!o&&r&&i.log("loaded namespace ".concat(e," for language ").concat(t),r),n.loaded("".concat(t,"|").concat(e),o,r)}))}))}))}}}],n&&wr(t.prototype,n),o&&wr(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();Sr.type="backend";var Ir=Sr;async function _r(e,t){return new Promise(((n,o)=>{nr.use(Ir).init({lng:t,fallbackLng:"en",keySeparator:"$",interpolation:{escapeValue:!1},backend:{loadPath:e+"assets/locale/Members/Members_{{lng}}.json",crossDomain:!0},react:{wait:!0}},(e=>e?o(e):n(nr)))}))}var Dr=_r;const Ar=async(e,t)=>{const n=t?await(async e=>(e=e||window.editorSDK,await e&&e.environment&&e.environment.getLocale()))(e):await ri(e),o=await _r(mn(),n);return o.t.bind(o)},xr="members-login-bar",Or={componentType:"platform.components.AppWidget",style:{skin:"platform.components.skins.AppWidgetSkin",style:{}},type:"Container",layout:{width:120,height:40,x:850,y:56,scale:1,rotationInDegrees:0,fixedPosition:!1},data:{type:"AppController",applicationId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",name:"login-bar-controller",controllerType:xr,id:"login-bar-controller-id"}},Mr={...Or,layout:{x:818,y:56,fixedPosition:!1,width:120,height:40,scale:1,rotationInDegrees:0}},Rr=[{type:"Component",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",componentType:"wysiwyg.viewer.components.LoginSocialBar",data:No,props:Uo,style:{type:"TopLevelStyle",style:{properties:Lo,propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.LoginSocialBar",pageId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin"},layout:{width:120,height:40,scale:1,rotationInDegrees:0,fixedPosition:!1,x:0,y:0},connections:Bo}],Tr=[{...Rr[0],connections:Ko}],Er={...Or,components:Rr},Cr={...Or,components:Tr},kr={...Mr,components:Rr},Lr={...Mr,components:Tr},jr=e=>{let t,n,{isHorizontal:o,isRtl:i}=e;return o?(t=i?Xo:Jo,n={...Qo,layout:{width:956,height:40,x:12,y:250,scale:1,rotationInDegrees:0,fixedPosition:!1}}):(t=i?he:ge,n={...Qo,layout:{x:20,y:275,width:250,height:94,scale:1,rotationInDegrees:0,fixedPosition:!1}}),{...n,components:[{...t,connections:$o}]}},{APP_TOKEN:Nr}=e;async function Br(e,t){const n=fn(),o=await nn(),i=!gn()||o,{appDefinitionId:r}=Me;if(await Ro({editorSDK:e,appDefinitionId:r})){const t=await Eo({editorSDK:e,appDefinitionId:r});if(null!=t&&t.applicationId){const n=await Co({editorSDK:e,applicationId:t.applicationId});if(n&&n.length>0){const t=await async function(e){let{editorSDK:t,ids:n}=e;const o=e=>t.components.getById(Nr,{id:e});return Promise.all(n.map(o))}({editorSDK:e,ids:n.map((e=>e.id))});await async function(e){let{editorSDK:t,componentsRefs:n}=e;return Promise.all(n.map((e=>t.components.remove(Nr,{componentRef:e}))))}({editorSDK:e,componentsRefs:t})}}else nt("Invalid getDataByAppDefId",{extra:{appDefinitionId:r,source:"addProfileWidget"}})}await e.tpa.add.application(Nr,{appDefinitionId:r,...i?Le:ke,containerRef:t,cancelSave:!0});try{if(i){const{applicationId:t}=await e.tpa.app.getDataByAppDefId(Nr,Me.appDefinitionId),n=await e.tpa.app.getAllCompsByApplicationId(Nr,t),o=await e.components.getById(Nr,{id:n[0].id});await e.components.layout.update(Nr,{componentRef:o,layout:Le})}}catch(e){nt("An error occured when resizing PW to horizontal layout, the MA installation will most likely look broken",{tags:{error:e.toString()}})}if(n){const{applicationId:t}=await e.tpa.app.getDataByAppDefId(Nr,Me.appDefinitionId),n=(await e.tpa.app.getAllCompsByApplicationId(Nr,t))[0].id,o=await e.components.getById(Nr,{id:n});await e.document.responsiveLayout.update(Nr,{componentRef:o,responsiveLayout:Te})}}async function Kr(e,t,n,o){void 0===o&&(o=!0);const i=fn(),r=!gn(),a=o?fe:de,s=e.info.getLanguage(Nr),c=await e.components.layout.get(Nr,{componentRef:n});let l;a.layout.y=(c.height-a.layout.height)/2,a.data.language=await s;let u=t;if(r){const t=i?Go:o?kr:Er;u=await e.components.add(Nr,{pageRef:n,componentDefinition:t,showAddToHeaderPanel:!1}),l=(await e.document.components.getChildren(Nr,{componentRef:u}))[0]}else l=await e.components.add(Nr,{pageRef:n,componentDefinition:i?a:{...a,layoutResponsive:void 0},showAddToHeaderPanel:!1});await Ur(e,l,!r)}async function Ur(e,t,n){const o=no(),i={menuItemsRef:{menuRef:"#"+o.login,type:"CustomMenuDataRef"},iconItemsRef:{menuRef:"#"+o.icons,type:"CustomMenuDataRef"}};if(await e.components.data.update(Nr,{componentRef:t,data:i}),n){const n=await So(e);await Oo({editorSDK:e,controllerRef:n,connectToRef:t,role:"members_login"})}}async function Fr(e,t,n,o,i,r){void 0===i&&(i=!1);const a=fn(),s=gn(),c=await nn(),l=(!gn()||c)&&i,u=a||l,p=!s,d=await ri(e),f=ii(d),g=await Dr(mn(),d);if(p){let o;a?(o=f?ni:ti,o.components[0].props.moreButtonLabel=g.t("Members_Subpages_Horizontal_Menu")):(o=jr({isHorizontal:i,isRtl:f}),o.components[0].props.moreButtonLabel=g.t("Members_Subpages_Horizontal_Menu"));const r=await e.components.add(Nr,{pageRef:n,componentDefinition:o,showAddToHeaderPanel:!1}),s=(await e.document.components.getChildren(Nr,{componentRef:r}))[0];return Wr(e,s,t)}let m;if(u){const e={...ye,layout:{...ye.layout,y:r||ye.layout.y}},t={...me,layout:{...me.layout,y:r||me.layout.y}};m=f?e:t,m.props.moreButtonLabel=g.t("Members_Subpages_Horizontal_Menu")}else m=f?he:ge;const h=await e.components.add(Nr,{pageRef:n,componentDefinition:m,showAddToHeaderPanel:!1});await Promise.all([Hr(e,h,o),Wr(e,h,t)])}async function Hr(e,t,n){await Oo({editorSDK:e,controllerRef:n,connectToRef:t,role:"members_menu"})}async function Wr(e,t,n){await e.menu.connect(Nr,{menuCompPointer:t,menuId:n})}async function Vr(e,t){var n;const o=t.id!==De&&"AppController"===(null==(n=await e.components.data.get(Nr,{componentRef:t}))?void 0:n.type);let i=t;if(o){var r;if(i=null==(r=(await e.controllers.getControllerConnections("",{controllerRef:t}))[0])?void 0:r.componentRef,!i)return}const a=await e.components.data.get(Nr,{componentRef:i}),s=await ri(e);(function(e){if(!e)return!1;switch(e.type){case"LoginSocialBar":return!0;case"CustomMenuDataRef":case"MenuDataRef":return"#MEMBERS_SUB_MENU"===e.menuRef;default:return!1}})(a)&&(await e.components.properties.update(Nr,{componentRef:i,props:{itemsAlignment:ii(s)?"right":"left"}}),"LoginSocialBar"===a.type?await Ur(e,i,!o):"MenuDataRef"!==a.type&&"CustomMenuDataRef"!==a.type||o||await async function(e,t){const n=no(),o=await So(e);await Promise.all([Hr(e,t,o),Wr(e,t,n.members)])}(e,i))}async function Gr(e){const t=await qr(e);t&&await e.components.remove(Nr,{componentRef:t})}async function qr(e){const t=await e.components.getById(Nr,{id:Ae});return t||e.components.getById(Nr,{id:Ae+"_1"})}function zr(e){let{editorSDK:t,componentRef:n}=e;return t.components.layout.get("",{componentRef:n})}function $r(e){let{editorSDK:t,componentRef:n,layout:o}=e;return t.document.components.layout.update("",{componentRef:n,layout:o})}function Jr(e){let{editorSDK:t,componentRef:n}=e;return t.document.components.remove("",{componentRef:n})}function Xr(e){let{editorSDK:t,componentRef:n}=e;return t.document.components.getChildren("",{componentRef:n})}async function Qr(e){let{editorSDK:t,parentComponentRef:n}=e;const o=await t.document.components.getChildren(Nr,{componentRef:n}),i=await Promise.all(o.map((e=>Qr({editorSDK:t,parentComponentRef:e}))));return zn().flatten(o.concat(i))}function Yr(e){let{editorSDK:t,componentRef:n}=e;return t.document.components.data.get("",{componentRef:n})}async function Zr(e){let{editorSDK:t}=e;const n=await qr(t),o=await Xr({editorSDK:t,componentRef:n}),i=await Promise.all(o.map((e=>Yr({editorSDK:t,componentRef:e})))),r=i.find((e=>e.appDefinitionId===Me.appDefinitionId));return o[i.indexOf(r)]}async function ea(e){let{editorSDK:t,pwComponentRef:n,sospContainerRef:o,menuRef:i}=e;const r=n||await Zr({editorSDK:t}),a=o||await qr(t),s=i||await async function(e){let{editorSDK:t,sospContainerRef:n}=e;const o=await Xr({editorSDK:t,componentRef:n}),i=await Promise.all(o.map((e=>Yr({editorSDK:t,componentRef:e})))),r=i.find((e=>e.menuRef==="#"+be.SUB_MENU_ID));return o[i.indexOf(r)]}({editorSDK:t,sospContainerRef:a});if(!s||!a||!r)return;const c=await zr({editorSDK:t,componentRef:r}),l=await zr({editorSDK:t,componentRef:s}),u=c.y+c.height+Ce,p=c.height+l.height+Ee+2*Ce;await $r({editorSDK:t,componentRef:a,layout:{height:p}}),await $r({editorSDK:t,componentRef:s,layout:{y:u}})}function ta(e){let{editorSDK:t,id:n}=e;return t.document.components.getById("",{id:n})}function na(e){let{editorSDK:t,componentRef:n,style:o}=e;return t.document.components.style.updateFull("",{componentRef:n,style:o})}async function oa(e){const t=await e.siteSegments.getHeader(Nr);return Qr({editorSDK:e,parentComponentRef:t})}async function ia(e){const t=(await oa(e)).map((t=>async function(e){let{editorSDK:t,componentRef:n}=e;return t.components.getType(Nr,{componentRef:n})}({editorSDK:e,componentRef:t})));return(await Promise.all(t)).includes("wysiwyg.viewer.components.LoginSocialBar")}function ra(e){return e.document.application.registerToCustomEvents(Nr,{eventTypes:["componentAddedToStage"]})}const aa=async e=>{const t=[],n=no(),[o,i,r,a]=await Promise.all([qr(e),e.pagesGroup.getAll(ae),po(e),e.controllers.listControllers(ae,{})]);for(const o of Object.values(n)){const n=await e.menu.getById(ae,{menuId:o});n&&t.push(n)}return{_routers:r,controllers:a,_menus:t,sospContainer:o,pagesGroupsRefs:i}};async function sa(e,t){return async function(e,t){let{shouldLog:n=!1}=void 0===t?{}:t;const{_routers:o,_menus:i,sospContainer:r,pagesGroupsRefs:a}=await aa(e);n&&2===o.length&&i.length>=2&&!r&&nt("SOSP container is not apparent when checking whether the application is properly installed",{extra:{pagesGroupsRefs:JSON.stringify(a)}});const s=2===o.length&&(o[0].pages.length>0||o[1].pages.length>0);return 2===o.length&&i.length>=2&&(r?1===a.length:s)}(e,t)}var ca;!function(e){e.IntegrationStart="integrationStart",e.IntegrationFinish="integrationFinish",e.MembersAreaInstallStart="membersAreaInstallStart",e.MembersAreaInstallFinish="membersAreaInstallFinish",e.IntegratedAppsInstallStart="integratedAppsInstallStart",e.IntegratedAppsInstallFinish="integratedAppsInstallFinish"}(ca||(ca={}));class la{static setEditorSDK(e){la.editorSDK=e}static getEditorSDK(){return la.editorSDK}static setEditorReadyOptions(e){la.editorReadyOptions=e}static getEditorReadyOptions(){return la.editorReadyOptions}static setAppDefinitionId(e){la.appDefinitionId=e}static getAppDefinitionId(){return la.appDefinitionId}static getIntegrationOptions(){return la.integrationOptions}static setIntegrationOptions(e){la.integrationOptions=e}static setInstallationEnabled(e){la.installationEnabled=e}static getInstallationEnabled(){return la.installationEnabled}static setWasMembersAreaInstalledInitially(e){la.wasMembersAreaInstalledInitially=e}static getWasMembersAreaInstalledInitially(){return la.wasMembersAreaInstalledInitially}static setFlowApi(e){la.flowApi=e}static getFlowApi(){return la.flowApi}static isErrorReportEnabled(){return la.integrationOptions.reportErrors}}la.installationEnabled=!0,la.wasMembersAreaInstalledInitially=!1;var ua=r(4819),pa=r.n(ua);async function da(e){const t=await po(e);if(0===t.length)throw new Error("Could not find both routers in #getMembersAreaRouters");const n=t.find((e=>"public"===e.config.type));if(!n)throw new Error("Could not find the public router in #getMembersAreaRouters");const o=t.find((e=>"private"===e.config.type));if(!o)throw new Error("Could not find the private router in #getMembersAreaRouters");return{publicRouter:n,privateRouter:o}}function fa(e){let{editorSDK:t,pages:n,pagesUids:o,routerRef:i}=e;const r=n.map(((e,n)=>function(e){let{editorSDK:t,pageRef:n,pageRoles:o,routerRef:i}=e;return t.routers.pages.connect(ae,{pageRef:n,routerRef:i,pageRoles:o})}({editorSDK:t,pageRef:e.pageData.pageRef,pageRoles:[o[n]],routerRef:i})));return Promise.all(r)}async function ga(e){let{editorSDK:t,pages:n,router:o}=e;const i=new Array(n.length).fill(null).map((()=>pa().v4())),r=await bo({editorSDK:t,prefix:o.prefix}),a=function(e){let{pages:t,pagesUids:n}=e;return t.reduce(((e,t,o)=>{const{title:i,isPrivate:r,pageUriSEO:a}=t.pageData,s=t.urlOverride||a,c=r?"/"+s:"/{userName}/"+s,{appData:l,socialHome:u}=t.routerConfig||{},p=function(e,t,n){return void 0===n&&(n=!1),{title:t?e:"{userName} | "+e,description:"",keywords:"",noIndex:(t||n).toString()}}(i,r,!0);return e[c]={socialHome:u,appData:l,page:n[o],seoData:p,title:i,pageId:t.routerConfig.pageId},e}),{})}({pages:n,pagesUids:i}),s={...o.config.patterns||{},...a},c={...o.config,patterns:s};await fa({editorSDK:t,pages:n,pagesUids:i,routerRef:r}),await vo({editorSDK:t,config:c,routerRef:r});try{const e=(await po(t)).find((e=>e.id===o.id));Object.keys(e.config.patterns).length!==e.pages.length&&nt("Router config got out of sync",{extra:{updatedRouter:e}})}catch(e){nt("An error occured when confirming router configuration",{extra:{e:e}})}}const ma=async e=>{let{editorSDK:t,router:n,patternKey:o}=e;const i=await bo({editorSDK:t,prefix:n.prefix});return delete n.config.patterns[o],vo({editorSDK:t,routerRef:i,config:n.config})};function ha(e,t){var n;if(null!=e&&null!=(n=e.config)&&n.patterns)return Object.values(e.config.patterns).find((e=>e.appData.appPageId===t))}const{SUB_MENU_ID:ya,LOGIN_MENU_ID:ba,LOGIN_ICONS_MENU_ID:va}=be;const wa=(e,t,n,o)=>{const i=t.filter((e=>(e=>{var t,n;let{item:o,privateRouter:i,publicRouter:r}=e;const a=r.config.patterns||{},s=i.config.patterns||{};return!!a["/"+(null==(t=o.link)?void 0:t.innerRoute)]||!!s["/"+(null==(n=o.link)?void 0:n.innerRoute)]})({item:e,privateRouter:n,publicRouter:o})));if(i.length<t.length){nt("Fixing menu "+e+": removing items which are not apparent in any router",{tags:{removedItems:t.filter((e=>i.indexOf(e)<0)).map((e=>e.label)).join(", ")}})}return i},Pa=e=>{let{items:t,menuId:n}=e;const o=[];return t.forEach((e=>{!o.find((t=>t.link.innerRoute===e.link.innerRoute))?o.push(e):nt("Fixing menu "+n+": removing item duplication",{tags:{removedItem:e.label}})})),o};async function Sa(e){const t=!!e.document.menu.getDefaultMenuId&&!!await function(e){let{editorSDK:t}=e;return t.document.menu.getDefaultMenuId(ae)}({editorSDK:e});return Ia({editorSDK:e,shouldDisableHorizontalMenuFixing:t&&!gn(),shouldDisableLoginMenuFixing:t&&!fn()&&!gn()})}async function Ia(e){let{editorSDK:t,shouldDisableHorizontalMenuFixing:n,shouldDisableLoginMenuFixing:o}=e;const[{publicRouter:i,privateRouter:r},a,s,c]=await Promise.all([da(t),ro({editorSDK:t,menuId:ya}),ro({editorSDK:t,menuId:ba}),ro({editorSDK:t,menuId:va})]),l=n?a:wa(ya,a,r,i),u=o?s:wa(ba,s,r,i),p=wa(va,c,r,i),d=n?l:Pa({items:l,menuId:ya}),f=o?u:Pa({items:u,menuId:ba}),g=Pa({items:p,menuId:va}),m=[];d.length<a.length&&m.push(lo({editorSDK:t,menuId:ya,items:d})),f.length<s.length&&m.push(lo({editorSDK:t,menuId:ba,items:f})),g.length<c.length&&m.push(lo({editorSDK:t,menuId:va,items:g})),m.length>0&&await Promise.all(m)}function _a(e){let{page:t,urlOverride:n,publicRouter:o,privateRouter:i}=e;const{pageData:r}=t,a=t.pageData.isPrivate?i.id:o.id;let s=n||r.pageUriSEO;s=r.isPrivate?s:"{userName}/"+s;const c={type:"DynamicPageLink",routerId:a,innerRoute:s};return{type:"BasicMenuItem",items:[],label:r.title,link:c}}function Da(e){let{menuItems:t,publicRouter:n,privateRouter:o}=e;return[n,o].forEach((e=>e.config&&e.config.patterns&&Object.keys(e.config.patterns).forEach((n=>{const o=t.filter((t=>{var o;return(null==(o=t.link)?void 0:o.routerId)===e.id&&"/"+t.link.innerRoute===n})).pop();o&&(o.order=e.config.patterns[n].appData.menuOrder||Oe)})))),zn().sortBy(t,(e=>e.order||Oe))}async function Aa(e){let{editorSDK:t,pages:n}=e;const[{publicRouter:o,privateRouter:i},r,a,s]=await Promise.all([da(t),ro({editorSDK:t,menuId:ya}),ro({editorSDK:t,menuId:ba}),ro({editorSDK:t,menuId:va})]),c=function(e){let{pages:t,publicRouter:n,privateRouter:o}=e;return t.filter((e=>e.showInMemberMenu||void 0===e.showInMemberMenu)).map((e=>_a({page:e,urlOverride:e.urlOverride,publicRouter:n,privateRouter:o})))}({pages:n,publicRouter:o,privateRouter:i}),l=function(e){let{pages:t,publicRouter:n,privateRouter:o}=e;return t.filter((e=>e.showInLoginMenu)).map((e=>({..._a({page:e,urlOverride:e.urlOverride,publicRouter:n,privateRouter:o}),label:e.loginMenuTitle||e.pageData.title})))}({pages:n,publicRouter:o,privateRouter:i}),u=function(e){let{pages:t,publicRouter:n,privateRouter:o}=e;return t.filter((e=>e.showInIconsMenu)).map((e=>({..._a({page:e,urlOverride:e.urlOverride,publicRouter:n,privateRouter:o}),iconRef:{svgId:"2c36dc006cb94853a49daee7e821f642.svg",type:"VectorImage"}})))}({pages:n,publicRouter:o,privateRouter:i}),p=c.length>0,d=l.length>0,f=u.length>0,g=Da({menuItems:r.concat(c),publicRouter:o,privateRouter:i}),m=Da({menuItems:a.concat(l),publicRouter:o,privateRouter:i}),h=Da({menuItems:s.concat(u),publicRouter:o,privateRouter:i});return Promise.all([p&&lo({editorSDK:t,menuId:ya,items:g}),d&&lo({editorSDK:t,menuId:ba,items:m}),f&&lo({editorSDK:t,menuId:va,items:h})].filter((e=>!!e)))}async function xa(e){let{editorSDK:t,pageRef:n,pageData:o}=e;await t.pages.data.update(ae,{pageRef:n,data:{...o,indexable:!1}})}async function Oa(e){let{editorSDK:t,pageTitle:n,pageUriSEO:o,pageSecurity:i,shouldAddMenuItem:r=!0}=e;return t.pages.add(ae,{title:n,shouldAddMenuItem:r,definition:{data:{hidePage:!1,managingAppDefId:Be,pageUriSEO:o,pageSecurity:i}}})}async function Ma(e){let{editorSDK:t,pageRef:n}=e;await t.pages.navigateTo(ae,{pageRef:n})}function Ra(e){let{editorSDK:t,pageRef:n}=e;return t.pages.data.get(ae,{pageRef:n})}function Ta(e){let{editorSDK:t}=e;return t.pages.getCurrent(ae)}function Ea(e){let{editorSDK:t,pageRef:n,shouldShowEditorRemovePanel:o,pageToNavigateAfterRemove:i}=e;return t.document.pages.remove(ae,{pageRef:n,shouldShowEditorRemovePanel:o,pageToNavigateAfterRemove:i})}function Ca(e){let{editorSDK:t}=e;return t.document.pages.data.getAll(ae)}async function ka(e){const t=(await e.document.pages.data.getAll(ae)).find((e=>{let{tpaPageId:t}=e;return"member_page"===t}));if(!t)throw new Error("Members Area main page is not found");return t}async function La(e){const t=await e.pagesGroup.getAll(ae);for(const n of t)await e.pagesGroup.remove(ae,{pagesGroupPointer:n})}async function ja(e,t){let{triesCount:n=1,maxTries:o=2,delayMs:i=0,delayConditionCheckMs:r=0,condition:a=(()=>Promise.resolve(!0)),message:s,previousError:c}=void 0===t?{}:t;try{const t=await e();r&&await new Promise((e=>setTimeout(e,r)));if(!await a(t))throw new Error('Condition in "'+s+'" was not satisfied');return n>1&&nt("Retry suceeded at "+n+" time, message: "+s,{tags:{previousError:c&&c.toString()}}),t}catch(t){if(o<=1)throw"string"==typeof t?new Error("Failed after multiple retries: "+t):(t.message="Failed after multiple retries: "+t.message,t);return i>0&&await new Promise((e=>setTimeout(e,i))),ja(e,{maxTries:o-1,delayMs:i,triesCount:n+1,condition:a,message:s,previousError:t})}}function Na(e){let t;const n=e=>{t||(t=e)};return Promise.all(e.map((e=>Promise.resolve(e).catch(n)))).then((function(e){if(t)throw t;return e}))}async function Ba(e,t){if(!e)return;const n=await Promise.all(e.map(t));return e.filter(((e,t)=>n[t]))}const Ka=({text:e="",bulletPoints:t=[]}={})=>`${e}<ul>${t.map((e=>`<li>${e}</li>`)).join("")}</ul>`,Ua=C,Fa=(e,t)=>Object.assign(Object.assign({},C),{method:"addApplication",loginMenuTitle:"Profile",showInLoginMenu:!0,menuOrder:1,social:!0,socialHome:!0,urlOverride:"profile",page:{name:t("member-pages.about.name"),shortDescription:t("member-pages.about.short-description"),description:Ka({text:t("member-pages.about.description.text"),bulletPoints:[t("member-pages.about.description.bullet-point-1"),t("member-pages.about.description.bullet-point-2"),t("member-pages.about.description.bullet-point-3"),t("member-pages.about.description.bullet-point-4"),t("member-pages.about.description.bullet-point-5")]}),iconURL:`${e}assets/images/icons/members-area-icon.svg`,origin:t("member-pages.about.origin"),screenshots:[`${e}assets/images/about/profile.png`,`${e}assets/images/about/mobile-profile.png`]}}),Ha=L,Wa=()=>Object.assign({method:"addApplicationToSite",social:!0},L),Va=U,Ga=(e,t)=>Object.assign(Object.assign({},U),{social:!0,method:"addApplication",showInMemberMenu:!1,menuOrder:2,urlOverride:"followers",page:{name:t("member-pages.followers.name"),shortDescription:t("member-pages.followers.short-description"),description:Ka({text:t("member-pages.followers.description.text"),bulletPoints:[t("member-pages.followers.description.bullet-point-1"),t("member-pages.followers.description.bullet-point-2"),t("member-pages.followers.description.bullet-point-3"),t("member-pages.followers.description.bullet-point-4")]}),iconURL:`${e}assets/images/icons/members-area-icon.svg`,origin:t("member-pages.followers.origin"),screenshots:[`${e}assets/images/followers/followers.png`,`${e}assets/images/followers/mobile-followers.png`]}}),qa=F,za=(e,t)=>Object.assign(Object.assign({},qa),{social:!0,numbers:{key:"createdCommentsCount",default:0},method:"addSection",urlOverride:"forum-comments",menuOrder:2,page:{name:t("comments_page_name"),shortDescription:t("comments_page_short_description"),description:t("comments_page_description"),iconURL:`${e}assets/images/icons/forum-icon.png`,origin:t("forum_origin"),screenshots:[`${e}assets/images/forum-comments/forum-comments.png`,`${e}assets/images/forum-comments/mobile-forum-comments.png`]}}),$a=H,Ja=(e,t)=>Object.assign(Object.assign({},$a),{social:!0,numbers:{key:"postsCount",default:0},method:"addSection",urlOverride:"forum-posts",menuOrder:2,page:{name:t("posts_page_name"),shortDescription:t("posts_page_short_description"),description:t("posts_page_description"),iconURL:`${e}assets/images/icons/forum-icon.png`,origin:t("forum_origin"),screenshots:[`${e}assets/images/forum-posts/forum-posts.png`,`${e}assets/images/forum-posts/mobile-forum-posts.png`]}}),Xa=Q,Qa=()=>Object.assign(Object.assign({},Xa),{numbers:{key:"notificationsCount",default:0},method:"addApplication",menuOrder:4,social:!1,urlOverride:"notifications"}),Ya=Y,Za=()=>Object.assign(Object.assign({},Ya),{method:"addApplication",menuOrder:4,social:!1,urlOverride:"settings"}),es=N,ts=(e,t)=>Object.assign(Object.assign({},N),{social:!0,numbers:{key:"commentsCount",default:0},method:"addSection",urlOverride:"blog-comments",menuOrder:2,page:{name:t("member-pages.comments.name"),shortDescription:t("member-pages.comments.short-description"),description:Ka({text:t("member-pages.comments.description.text"),bulletPoints:[t("member-pages.comments.description.bullet-point-1"),t("member-pages.comments.description.bullet-point-2"),t("member-pages.comments.description.bullet-point-3")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!1,screenshots:[`${e}assets/images/blog-comments/blog-comments.png`,`${e}assets/images/blog-comments/mobile-blog-comments.png`]}}),ns=j,os=(e,t)=>Object.assign(Object.assign({},j),{social:!0,numbers:{key:"likesCount",default:0},method:"addSection",urlOverride:"blog-likes",menuOrder:2,page:{name:t("member-pages.likes.name"),shortDescription:t("member-pages.likes.short-description"),description:Ka({text:t("member-pages.likes.description.text"),bulletPoints:[t("member-pages.likes.description.bullet-point-1"),t("member-pages.likes.description.bullet-point-2")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!1,screenshots:[`${e}assets/images/blog-likes/blog-likes.png`,`${e}assets/images/blog-likes/mobile-blog-likes.png`]}}),is=B,rs=(e,t)=>Object.assign(Object.assign({},B),{social:!0,numbers:{key:"postsCount",default:0},method:"addSection",urlOverride:"blog-posts",visibleForRoles:["admin","blog_writer","blog_editor"],page:{name:t("member-pages.posts.name"),shortDescription:t("member-pages.posts.short-description"),description:Ka({text:t("member-pages.posts.description.text"),bulletPoints:[t("member-pages.posts.description.bullet-point-1"),t("member-pages.posts.description.bullet-point-2"),t("member-pages.posts.description.bullet-point-3"),t("member-pages.posts.description.bullet-point-4")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!1,screenshots:[`${e}assets/images/blog-posts/blog-posts.png`,`${e}assets/images/mobile-blog-posts/mobile-blog-posts.png`]}}),as=K,ss=(e,t)=>Object.assign(Object.assign({},K),{method:"addSection",urlOverride:"my-files",social:!0,menuOrder:2,page:{name:t("fileshare_page_name"),shortDescription:t("fileshare_page_short_description"),description:t("fileshare_page_description"),origin:t("fileshare_origin"),iconURL:`${e}assets/images/icons/file-share-icon.png`,screenshots:[`${e}assets/images/file-share/file-share.png`,`${e}assets/images/file-share/mobile-file-share.png`]}}),cs=W,ls=(e,t)=>Object.assign(Object.assign({},cs),{social:!1,showInLoginMenu:!0,method:"addApplication",urlOverride:"my-addresses",page:{name:t("memberPages.addModal.memberPagesTab.addresses.title"),shortDescription:t("memberPages.addModal.memberPagesTab.addresses.body"),origin:t("memberPages.addModal.memberPagesTab.by.stores.label"),description:Ka({text:t("memberPages.addModal.memberPagesTab.addresses.description.body"),bulletPoints:[t("memberPages.addModal.memberPagesTab.addresses.description.bullet1"),t("memberPages.addModal.memberPagesTab.addresses.description.bullet2")]}),iconURL:`${e}assets/images/icons/stores-icon.png`,screenshots:[`${e}assets/images/my-addresses/my-addresses.png`,`${e}assets/images/my-addresses/my-addresses-2.png`,`${e}assets/images/my-addresses/my-addresses-3.png`,`${e}assets/images/my-addresses/mobile-my-addresses.png`,`${e}assets/images/my-addresses/mobile-my-addresses-2.png`]}}),us=V,ps=(e,t)=>Object.assign(Object.assign({},us),{showInMemberMenu:!0,showInLoginMenu:!0,menuOrder:2,social:!1,shouldNavigate:!1,shouldInstallInitially:!0,urlOverride:"my-bookings",page:{name:t("members-area.my-bookings.page.title"),shortDescription:t("members-area.my-bookings.page.subtitle"),description:t("members-area.my-bookings.page.description"),origin:t("members-area.bookings.author"),iconURL:`${e}assets/images/icons/bookings-icon.png`,screenshots:[`${e}assets/images/my-bookings/my-bookings.png`,`${e}assets/images/my-bookings/my-bookings-2.png`,`${e}assets/images/my-bookings/mobile-my-bookings.png`,`${e}assets/images/my-bookings/mobile-my-bookings-2.png`]}}),ds=G,fs=(e,t)=>Object.assign(Object.assign({},ds),{numbers:{key:"draftsCount",default:0},method:"addSection",social:!1,showInLoginMenu:!0,urlOverride:"my-drafts",menuOrder:2,visibleForRoles:["admin","blog_writer","blog_editor"],page:{name:t("member-pages.drafts.name"),shortDescription:t("member-pages.drafts.short-description"),description:Ka({text:t("member-pages.drafts.description.text"),bulletPoints:[t("member-pages.drafts.description.bullet-point-1"),t("member-pages.drafts.description.bullet-point-2"),t("member-pages.drafts.description.bullet-point-3")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!1,screenshots:[`${e}assets/images/my-drafts/my-drafts.png`,`${e}assets/images/my-drafts/mobile-my-drafts.png`]}}),gs=q,ms=(e,t)=>Object.assign(Object.assign({},gs),{method:"addSection",social:!1,showInLoginMenu:!0,urlOverride:"my-posts",menuOrder:2,visibleForRoles:["admin","blog_writer","blog_editor","blog_guest_writer"],page:{name:t("member-pages.my-posts.name"),shortDescription:t("member-pages.my-posts.short-description"),description:Ka({text:t("member-pages.my-posts.description.text"),bulletPoints:[t("member-pages.my-posts.description.bullet-point-1"),t("member-pages.my-posts.description.bullet-point-2"),t("member-pages.my-posts.description.bullet-point-3")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!0,screenshots:[`${e}assets/images/my-posts/my-posts.png`,`${e}assets/images/my-posts/mobile-my-posts.png`]}}),hs=z,ys=(e,t)=>Object.assign(Object.assign({},hs),{showInLoginMenu:!1,showInMemberMenu:!0,social:!0,socialHome:!1,method:"addSection",menuOrder:2,urlOverride:"events",page:{name:t("membersEventsPageName"),shortDescription:t("membersEventsPageShortDescription"),description:t("membersEventsPageDescription"),origin:t("membersEventsPageOrigin"),iconURL:`${e}assets/images/icons/events-icon.png`,screenshots:[`${e}assets/images/my-events/my-events.png`,`${e}assets/images/my-events/my-events-2.png`,`${e}assets/images/my-events/mobile-my-events.png`,`${e}assets/images/my-events/mobile-my-events-2.png`]}}),bs=$,vs=(e,t)=>Object.assign(Object.assign({},bs),{social:!1,showInLoginMenu:!0,method:"addSection",urlOverride:"my-orders",page:{name:t("memberPages.addModal.memberPagesTab.orders.title"),shortDescription:t("memberPages.addModal.memberPagesTab.orders.body"),description:Ka({text:t("memberPages.addModal.memberPagesTab.orders.description.body"),bulletPoints:[t("memberPages.addModal.memberPagesTab.orders.description.bullet1"),t("memberPages.addModal.memberPagesTab.orders.description.bullet2")]}),origin:t("memberPages.addModal.memberPagesTab.by.stores.label"),iconURL:`${e}assets/images/icons/stores-icon.png`,screenshots:[`${e}assets/images/my-orders/my-orders.png`,`${e}assets/images/my-orders/my-orders-2.png`]}}),ws=J,Ps=(e,t)=>Object.assign(Object.assign({},ws),{social:!1,showInLoginMenu:!0,method:"addApplication",urlOverride:"my-wallet",page:{name:t("members-area.my-wallet.page.title"),shortDescription:t("members-area.my-wallet.page.subtitle"),description:t("members-area.my-wallet.page.description"),origin:t("members-area.my-wallet.author"),iconURL:`${e}assets/images/icons/stores-icon.png`,screenshots:[`${e}assets/images/my-wallet/my-wallet.png`,`${e}assets/images/my-wallet/my-wallet-2.png`,`${e}assets/images/my-wallet/mobile-my-wallet.png`,`${e}assets/images/my-wallet/mobile-my-wallet-2.png`]}}),Ss=X,Is=(e,t)=>Object.assign(Object.assign({},Ss),{social:!1,showInLoginMenu:!0,method:"addSection",shouldInstallInitially:!1,urlOverride:"my-wishlist",page:{name:t("memberPages.addModal.memberPagesTab.wishlist.title"),shortDescription:t("memberPages.addModal.memberPagesTab.wishlist.body"),description:Ka({text:t("memberPages.addModal.memberPagesTab.wishlist.description.body"),bulletPoints:[t("memberPages.addModal.memberPagesTab.wishlist.description.bullet1"),t("memberPages.addModal.memberPagesTab.wishlist.description.bullet2")]}),iconURL:`${e}assets/images/icons/stores-icon.png`,origin:t("memberPages.addModal.memberPagesTab.by.stores.label"),screenshots:[`${e}assets/images/my-wishlist/my-wallet.png`]}}),_s=Z,Ds=(e,t)=>Object.assign(Object.assign({},_s),{method:"addSection",urlOverride:"gallery",social:!0,menuOrder:2,page:{name:t("gallery_page_name"),shortDescription:t("gallery_page_short_description"),description:t("gallery_page_description"),origin:t("shared_gallery_origin"),iconURL:`${e}assets/images/icons/shared-gallery-icon.png`,screenshots:[`${e}assets/images/shared-gallery/shared-gallery.png`,`${e}assets/images/shared-gallery/mobile-shared-gallery.png`]}}),As=ee,xs=(e,t)=>Object.assign(Object.assign({},As),{method:"addApplication",social:!1,showInLoginMenu:!0,urlOverride:"my-subscriptions",page:{name:t("editor.my-subscriptions-page.name"),shortDescription:t("editor.my-subscriptions-page.short-description"),description:t("editor.my-subscriptions-page.description"),iconURL:`${e}/assets/images/icons/pricing-plans.png`,origin:t("editor.my-subscriptions-page.origin"),isNew:!0,screenshots:[`${e}/assets/images/my-subscriptions/my-subscriptions.png`,`${e}/assets/images/my-subscriptions/my-subscriptions-2.png`,`${e}/assets/images/my-subscriptions/mobile-my-subscriptions.png`,`${e}/assets/images/my-subscriptions/mobile-my-subscriptions-2.png`]}}),Os=te,Ms=(e,t)=>Object.assign(Object.assign({},Os),{showInLoginMenu:!0,showInMemberMenu:!0,social:!1,socialHome:!1,method:"addSection",menuOrder:2,urlOverride:"challenges",page:{name:t("members-area.challenges.name"),shortDescription:t("members-area.challenges.short-description"),description:t("members-area.challenges.description"),origin:t("members-area.challenges.origin"),iconURL:`${e}assets/images/icons/challenges-icon.png`,screenshots:[`${e}assets/images/my-challenges/my-challenges.png`,`${e}assets/images/my-challenges/my-challenges-2.png`,`${e}assets/images/my-challenges/mobile-my-challenges.png`]}}),Rs=ne,Ts=(e,t)=>Object.assign(Object.assign({},Rs),{showInLoginMenu:!0,showInMemberMenu:!0,social:!1,socialHome:!1,method:"addSection",menuOrder:2,urlOverride:"challenges",page:{name:t("members-area.challenges.name"),shortDescription:t("members-area.challenges.short-description"),description:t("members-area.challenges.description"),origin:t("members-area.challenges.origin"),iconURL:`${e}assets/images/icons/challenges-icon.png`,screenshots:[`${e}assets/images/my-challenges/my-challenges.png`,`${e}assets/images/my-challenges/my-challenges-2.png`,`${e}assets/images/my-challenges/mobile-my-challenges.png`]}}),Es=oe,Cs=(e,t)=>Object.assign(Object.assign({},Es),{method:"addApplication",social:!1,showInLoginMenu:!0,urlOverride:"my-rewards",page:{name:t("editor.my-rewards-page.name"),shortDescription:t("editor.my-rewards-page.short-description"),description:t("editor.my-rewards-page.description"),iconURL:`${e}/assets/images/icons/loyalty.png`,origin:t("editor.my-rewards-page.origin"),isNew:!0,screenshots:[`${e}/assets/images/my-rewards/my-rewards.jpg`,`${e}/assets/images/my-rewards/my-rewards-mobile.jpg`,`${e}/assets/images/my-rewards/my-rewards-mobile-2.jpg`]}}),ks=ie,Ls=e=>Object.assign(Object.assign({},ie),{method:"addSection",loginMenuTitle:"Test Public Widget",showInLoginMenu:!0,social:!0,socialHome:!0,urlOverride:"test-public-widget",shouldInstallInitially:!1,page:{name:"Test Public Widget",shortDescription:"Test Public Widget",description:"Test Public Widget",iconURL:`${e}/assets/images/icons/pricing-plans.png`,origin:"Test Public Widget",isNew:!0,screenshots:[`${e}/assets/images/my-subscriptions/my-subscriptions.png`,`${e}/assets/images/my-subscriptions/my-subscriptions-2.png`,`${e}/assets/images/my-subscriptions/mobile-my-subscriptions.png`,`${e}/assets/images/my-subscriptions/mobile-my-subscriptions-2.png`]}}),js=re,Ns=()=>Object.assign(Object.assign({},re),{method:"addApplication",loginMenuTitle:"Test Private Widget",showInLoginMenu:!0,social:!1,urlOverride:"test-private-widget",shouldInstallInitially:!0}),Bs=[t,n,o,i,s,c,l,u,p,d,f,g,m,h,y,b,v,w,P,S,I,_,D,A,x,O],Ks=({locale:e,baseUrl:t,i18next:n})=>new Promise(((o,i)=>{const r=((e,t,n,o)=>e.use(Ir).init({lng:t,fallbackLng:"en",keySeparator:"$",interpolation:{escapeValue:!1},backend:{loadPath:`${n}assets/translations/messages_{{lng}}.json`,crossDomain:!0}},o))(n,e,t,((e,t)=>e?i(e):o({t:t,i18nInstance:r})))}));const Us=new class{constructor(){this.init=(e,t,n)=>{if(!this._t)return Ks({i18next:e,locale:t,baseUrl:n}).catch((()=>Ks({i18next:e,locale:"en",baseUrl:n}))).catch((()=>({t:e=>e}))).then((({t:e})=>{this._t=e}))},this.t=(e,t={})=>{if(!this._t)throw new Error("Translation service was not initialized yet!");return this._t(e,t)}}},Fs=async({i18next:e,application:t,editorSDK:n,applicationsOptions:o})=>{var i,r,a;if("page"in t)return t;const s=null!==(r=await(null===(i=null==n?void 0:n.info)||void 0===i?void 0:i.getLanguage()))&&void 0!==r?r:"en",c=await(async e=>{var t;const n=await(null===(t=null==e?void 0:e.info)||void 0===t?void 0:t.getArtifactsUrls("",["members-area-app-definitions"])),o=null==n?void 0:n["members-area-app-definitions"];return o?`${o}/`:"https://static.parastorage.com/services/members-area-app-definitions/1.322.0/"})(n);await Us.init(e,s,c);const l=Bs.find((e=>{var n,o;return(null===(n=e.ids)||void 0===n?void 0:n.appDefinitionId)===t.appDefinitionId&&(null===(o=e.ids)||void 0===o?void 0:o.pageId)===t.pageId})),u=null==o?void 0:o.find((e=>{var n,o;return(null===(n=null==e?void 0:e.id)||void 0===n?void 0:n.appDefinitionId)===t.appDefinitionId&&(null===(o=null==e?void 0:e.id)||void 0===o?void 0:o.pageId)===t.pageId})),p=null!==(a=null==l?void 0:l.getDefinition(c,Us.t))&&void 0!==a?a:t,d=Object.assign(Object.assign({},p),null==u?void 0:u.options);return f=d,Object.assign({numbers:{},showInLoginMenu:!1,showInMemberMenu:!0,social:!1,socialHome:!1,urlOverride:null},f);var f},Hs=async({i18next:e,applications:t,editorSDK:n,applicationsOptions:o})=>{const i=[];for(const r of t){const t=await Fs({i18next:e,application:r,editorSDK:n,applicationsOptions:o});i.push(t)}return i};var Ws=r(439),Vs=r.n(Ws),Gs=r(1410),qs=r.n(Gs),zs="www.wix.com",$s="http",Js=r(3158);function Xs(){return"undefined"!=typeof window}function Qs(){var e;return void 0!==Js&&null!=(null===(e=null==Js?void 0:Js.versions)||void 0===e?void 0:e.node)}var Ys=r(3158);function Zs(e){if("string"!=typeof e)throw new TypeError("Expected a `string`, got `".concat(typeof e,"`"));return/(^https?:)|(^\/\/)/.test(e)}function ec(e,t){return t.split(".").filter((function(e){return e})).reduce((function(e,t){return e[t]}),e)}function tc(e){try{return new URL(e).protocol}catch(t){return oc(e).protocol}}function nc(e){var t;try{t=new URL(e)}catch(n){t=new URL("http:".concat(e))}try{return t.host}catch(t){return oc(e).host}}function oc(e){var t=new RegExp("^(.*:)//([A-Za-z0-9-.]+)(:[0-9]+)?(.*)$");try{var n=t.exec(e);return{protocol:n[1],host:n[2]}}catch(e){return{protocol:"http:",host:""}}}function ic(e,t){var n;try{(n=new URL(e)).host=t,n.protocol="http"}catch(o){(n=new URL("http://".concat(t))).pathname=e}return n.toString()}function rc(){var e;if(Qs()&&Ys.env.HTTP_CLIENT_GLOBAL_CONFIG)try{e=JSON.parse(Ys.env.HTTP_CLIENT_GLOBAL_CONFIG)}catch(e){}return e||(Xs()?e=window._httpClientGlobalConfig:function(){var e;"object"==typeof self&&(null===(e=null===self||void 0===self?void 0:self.constructor)||void 0===e||e.name)}()),e||{httpMockServer:{enabled:!1}}}var ac=JSON.parse('["wix.com","editorx.com","wix-code.com","wixapps.net","wixprod.net"]');function sc(e){var t;return(null===(t=null==e?void 0:e.headers)||void 0===t?void 0:t["x-wix-request-id"])||""}function cc(e){if(!Zs(e))return!0;var t=".".concat(nc(e));return!!ac.find((function(e){return t.endsWith(".".concat(e))}))}var lc=["code","stack","config","request","response","toJSON","__CANCEL__"],uc=function(e){function t(n){var o=e.call(this,n.message)||this;return o.isWixHttpError=!0,Object.setPrototypeOf(o,t.prototype),lc.forEach((function(e){o[e]=n[e]})),o}return rt(t,e),Object.defineProperty(t.prototype,"requestId",{get:function(){return sc(this.response)},enumerable:!1,configurable:!0}),t}(Error);var pc=function(e){var t=e.requestOptions,n=(e.urlObject,e.headers),o=e.globalConfig,i=void 0===o?{httpMockServer:{enabled:!1}}:o,r=t.url,a=t.params;if(a&&"object"!=typeof a)throw new Error("Search params must be an object");var s=function(e,t){if(t.httpMockServer.enabled){return{url:ic(e,new URL(t.httpMockServer.mockServerUrl).host)}}return{}}(r,i);return at(at(at({},t),s),{headers:n})},dc=function(e,t,n,o){void 0===n&&(n={httpMockServer:{enabled:!1}});var i=e.url,r=e.disableWixHeaders,a=e.headers,s=function(e){var t=e.url,n=e.disableWixHeaders,o=e.wixHeadersOpts;return!n&&cc(t)?$t(o):{}}({url:i,disableWixHeaders:r,wixHeadersOpts:t}),c=fc(n,e,o);return at(at(at({},s),function(e){e=e||{};var t=Object.keys(e).reduce((function(t,n){var o;return at(at({},t),((o={})[n.toLowerCase()]=e[n],o))}),{});return t}(a)),c)},fc=function(e,t,n){var o,i=t.url,r=t.params,a=n.host,s=n.protocol,c=e.httpMockServer.enabled?((o={})["x-wix-metro-original-url"]=function(e,t){var n=new URL(e,"http://unused.com"),o=n.pathname,i=n.searchParams;if(t=t||i){var r=function(e){return Object.entries(e).map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(encodeURIComponent(n))})).flat().join("&")}(t)||t.toString(),a=r?"?".concat(r):"";return"".concat(o).concat(a)}return o}(i,r),o["x-wix-metro-original-host"]=Zs(i)?nc(i):a,o["x-wix-metro-original-protocol"]=Zs(i)?tc(i):s,o):{};return c};var gc=function(){function e(e){void 0===e&&(e={}),this.opts=e,this.opts=function(e){var t=e.adapter;t||(t=qs(),Qs()&&(t=function(){return require("axios/lib/adapters/http");return r(1410)}()));return at({adapter:t,isSSR:!1},e)}(this.opts),this.client=Vs().create(this.opts),this.flags={sanitizerPocEnabled:mc()}}return e.isHttpError=function(e){return!!(null==e?void 0:e.isWixHttpError)},e.prototype.request=function(e,t){var n,o;return st(this,void 0,void 0,(function(){var i,r,a,s,c,l,u,p=this;return ct(this,(function(d){var f;return f=this.opts,i=f.baseURL?nc(f.baseURL):f.isSSR?zs:"undefined"!=typeof self&&self.location?self.location.host:"",r=function(e){return e.baseURL?tc(e.baseURL):e.isSSR?$s:"undefined"!=typeof self&&self.location?self.location.protocol:""}(this.opts),a={protocol:r,host:i},s="function"==typeof e?e({isSSR:this.opts.isSSR,host:i}):e,c=(null==t?void 0:t.signedInstance)||(null===(o=(n=this.opts).getAppToken)||void 0===o?void 0:o.call(n))||"",l=this.getHeaders(s,c,a),u=pc({requestOptions:s,urlObject:a,headers:l,globalConfig:rc()}),this.opts.isSSR&&(u.baseURL=this.opts.baseURL?this.opts.baseURL:"".concat($s,"://").concat(zs)),[2,this.client.request(u).catch((function(e){return p.maybeFallbackRequest(e,s,a,c)})).catch((function(e){return p.handleRequestError(e,u)})).then((function(e){return p.transformResponse(e,s)}))]}))}))},e.prototype.get=function(e,t){return st(this,void 0,void 0,(function(){var n;return ct(this,(function(o){return n=at(at({},t),{url:e,method:"GET"}),[2,this.request(n)]}))}))},e.prototype.delete=function(e,t){return st(this,void 0,void 0,(function(){var n;return ct(this,(function(o){return n=at(at({},t),{url:e,method:"DELETE"}),[2,this.request(n)]}))}))},e.prototype.head=function(e,t){return st(this,void 0,void 0,(function(){var n;return ct(this,(function(o){return n=at(at({},t),{url:e,method:"HEAD"}),[2,this.request(n)]}))}))},e.prototype.options=function(e,t){return st(this,void 0,void 0,(function(){var n;return ct(this,(function(o){return n=at(at({},t),{url:e,method:"OPTIONS"}),[2,this.request(n)]}))}))},e.prototype.post=function(e,t,n){return st(this,void 0,void 0,(function(){var o;return ct(this,(function(i){return o=at(at({},n),{url:e,data:t,method:"POST"}),[2,this.request(o)]}))}))},e.prototype.put=function(e,t,n){return st(this,void 0,void 0,(function(){var o;return ct(this,(function(i){return o=at(at({},n),{url:e,data:t,method:"PUT"}),[2,this.request(o)]}))}))},e.prototype.patch=function(e,t,n){return st(this,void 0,void 0,(function(){var o;return ct(this,(function(i){return o=at(at({},n),{url:e,data:t,method:"PATCH"}),[2,this.request(o)]}))}))},Object.defineProperty(e.prototype,"CancelToken",{get:function(){return Vs().CancelToken},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCancel",{get:function(){return Vs().isCancel},enumerable:!1,configurable:!0}),e.prototype.getHeaders=function(e,t,n){if("function"==typeof this.opts.createHeaders)return this.getCustomHeaders(e,t,n);var o={signedInstance:t,artifactId:this.opts.artifactId,csrf:!1,multilingualOptions:this.opts.multilingualOptions};return dc(e,o,rc(),n)},e.prototype.getCustomHeaders=function(e,t,n){var o=e.url,i=t&&cc(o)?{authorization:t}:{},r=this.opts.createHeaders(),a=fc(rc(),e,n);return at(at(at({},a),r),i)},e.prototype.handleRequestError=function(e,t){var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(uc.bind.apply(uc,ut([void 0],e,!1)))}(e);throw function(e){st(this,void 0,void 0,(function(){return ct(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e()];case 1:case 2:return t.sent(),[3,3];case 3:return[2]}}))}))}((function(){var e;return null===(e=t.onError)||void 0===e?void 0:e.call(t,n)})),n},e.prototype.maybeFallbackRequest=function(e,t,n,o){var i,r,a;if(rc().httpMockServer.enabled&&rc().httpMockServer.allowUnmocked&&404===(null===(i=e.response)||void 0===i?void 0:i.status)&&"NO_SCENARIO_FOUND"===(null===(a=null===(r=e.response)||void 0===r?void 0:r.data)||void 0===a?void 0:a.msg)){var s=this.getHeaders(t,o,n),c=pc({requestOptions:t,urlObject:n,headers:s});return this.client.request(c)}throw e},e.prototype.transformResponse=function(e,t){var n=sc(e),o=function(e,t,n){var o=function(e,t){try{if(t.sanitizerPocEnabled){var n=performance.now(),o=new Sanitizer;if(e.headers["content-type"].includes("application/json")){console.log("[+] JSON Response detected, sanitizing data");var i=function(e){try{return Object.keys(e).forEach((function(t){"string"==typeof e[t]?e[t]=o.sanitizeFor("span",e[t]).innerHTML:"object"==typeof e[t]&&(e[t]=i(e[t]))})),e}catch(e){console.log(e)}},r=performance.now();return console.log("Time taken: ".concat(r-n," milliseconds.")),i(e.data)}}}catch(e){console.log("[+] Sanitizer API not supported: %o",e)}return e.data}(e,n);t._pickResponseBody&&(o=ec(e.data,t._pickResponseBody));if(t._logs){var i=ec(e.data,t._logs);(null==i?void 0:i.length)&&i.map((function(e){return console.log.apply(console,e)}))}return o}(e,t,this.flags);return at(at({},e),{data:o,requestId:n})},e.CancelToken=Vs().CancelToken,e.isCancel=Vs().isCancel,e}();function mc(){var e;try{return Xs()&&"true"===new URLSearchParams((null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.hash)||"").get("sanitizerPOC")}catch(e){return!1}}const hc=async(e,t)=>{const n=await e.document.info.getAppInstance(ae);return new gc({baseURL:t,getAppToken:()=>n})},yc="https://members.wixapps.net/_api/members-area/_api",bc=async e=>{const t=await hc(e,yc);await t.post("/settings/publish",{})},vc=e=>"wishlist"===e.pageId;async function wc(e){try{if(await async function(e){const t=await po(e);if(2!==t.length){const n=await aa(e);nt("Missing routers when they should be apparent ",{extra:{routers:JSON.stringify(t),applicationState:JSON.stringify(n)}})}}(e),!await async function(e){const t=no();return 3===(await Promise.all([ao({editorSDK:e,menuId:t.members}),ao({editorSDK:e,menuId:t.login}),ao({editorSDK:e,menuId:t.icons})])).filter(Boolean).length}(e))return;const t=await async function(e){const t=await po(e);let n=!1;for(const r of t){var o,i;const t=Object.entries(null!=(o=null==(i=r.config)?void 0:i.patterns)?o:{});for(const[o,i]of t){const t=i.appData,a=i.page;if(null==t||!t.appDefinitionId||null==t||!t.appPageId)continue;const s=await To({editorSDK:e,appDefinitionId:t.appDefinitionId,sectionId:t.appPageId}),c=r.pages.find((e=>e.pageRoles.includes(a)));s&&c||(nt("MA-260 - Deleting incorrect router pattern",{extra:{router:r,patternKey:o},tags:{isAppSectionInstalled:s,pageRefExistsInRouter:c}}),await ma({editorSDK:e,router:r,patternKey:o}),n=!0)}}return n}(e);t?await Ia({editorSDK:e,shouldDisableHorizontalMenuFixing:!1,shouldDisableLoginMenuFixing:!1}):await Sa(e)}catch(e){nt("An error was thrown while fixing a broken installation",{extra:e})}}async function Pc(e){const t=await po(e),n=t.find((e=>"private"===e.config.type)),o=null==n?void 0:n.pages[0];if(!o||!o.pageRef){const e=new Error("Could not retrieve a private page when navigating to first private page");throw i=e,void 0===(r={extra:{allRouters:JSON.stringify(t)}})&&(r={}),null==(a=Qe)||a.captureException(i,r),e}var i,r,a;await Ma({editorSDK:e,pageRef:o.pageRef})}async function Sc(e){const t=await e.pages.getCurrent(ae);return!!(await Qc({editorSDK:e})).find((e=>e.id===t.id))}async function Ic(e){const t=await function(e){let{editorSDK:t}=e;return t.pages.getHomePage(ae)}({editorSDK:e});return Ma({editorSDK:e,pageRef:t})}async function _c(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!1),n){if(t){const t=await aa(e),n=await async function(e){const{_routers:t,controllers:n,_menus:o,sospContainer:i,pagesGroupsRefs:r}=await aa(e);return 0===t.length&&0===n.length&&0===o.length&&!i&&0===r.length}(e),o={state:JSON.stringify(t)};nt(n?"Removing components for empty installation":"Removing components for broken installation",{extra:o})}try{await Pc(e)}catch(e){}await Gr(e),await La(e);try{await Sc(e)&&await Ic(e)}catch(e){nt("Failed to check if MA is in the home page, continuing broken MA uninstallation",{extra:e})}await mo(e),await go(e),await xo(e),await to(e)}}const Dc=async(e,t)=>{var n,o;const i=await e.responsiveLayout.get("",{componentRef:t}),r=i.componentLayouts[0],a=null==(n=r.height)?void 0:n.type,s=null==(o=r.width)?void 0:o.type;if("percentage"===a&&"percentage"===s)return;const c=[{...i.componentLayouts[0],...Ho}],l={...i,componentLayouts:c};await e.responsiveLayout.update("",{componentRef:t,responsiveLayout:l})},Ac=async e=>{try{const t=fn(),n=await async function(){return await en(),"true"===Yt.get("specs.membersArea.fixLoginBarResponsiveLayout")}();if(t&&n){const t=await e.components.findAllByType("",{componentType:"wysiwyg.viewer.components.LoginSocialBar"});for(const n of t)await Dc(e,n)}}catch(e){nt("An error was thrown while fixing a login bar responsive layout",{extra:e})}},xc=C.pageId,Oc=async e=>{const t=await Bc(e);return t[E.dn]&&1===Object.values(((e,t)=>{const{[t]:n,...o}=e;return o})(t,"14cffd81-5215-0a7f-22f8-074b0e2401fb")).flat().filter((e=>e.pageId===xc)).length},Mc=async e=>{const{publicRouter:t}=await da(e),n=ha(t,xc);return null==n?void 0:n.appData},Rc=async e=>{let t=kn.ALL;const n=await Mc(e);var o;n&&await Oc(e)&&(t=null!=(o=n.visibleForRoles)&&o.includes(ue)?kn.BWP_ONLY:kn.BWP_ALL);return t},Tc=async(e,t)=>{const n=await Mc(e);var o;n&&(n.visibleForRoles=null!=(o=n.visibleForRoles)?o:[],t===kn.BWP_ONLY?n.visibleForRoles=n.visibleForRoles.filter((e=>!le.includes(e))).concat(le):t===kn.BWP_ALL&&(n.visibleForRoles=n.visibleForRoles.filter((e=>!le.includes(e)))),await(async(e,t)=>{const{publicRouter:n}=await da(e);ha(n,xc).appData=t;const o=await bo({editorSDK:e,prefix:n.prefix});await vo({editorSDK:e,config:n.config,routerRef:o})})(e,n))},Ec=e=>"addApplication"===e.method,Cc=async e=>{const t=await rn();return n=>t?e.application.isApplicationInstalled(ae,{appDefinitionId:n}):e.document.tpa.isApplicationInstalled(ae,{appDefinitionId:n})},kc=async(e,t,n,o)=>{const i=await rn()?"editorApi.registerMembersAreaApps.newIsAppInstalled":"editorApi.registerMembersAreaApps";return Gn(i,(()=>tt(i,(async()=>{var i;const r=await Hs({i18next:or(),applications:e,editorSDK:n,applicationsOptions:o}),a=hn(),s=jn([...null!=(i=a[t])?i:[],...r]);un({...a,[t]:s});try{await(async(e,t,n)=>{if((await Bc(e))[E.dn]&&t!==E.dn&&n.some((e=>e.pageId===xc))){var o;const t=await Mc(e);null!=t&&null!=(o=t.visibleForRoles)&&o.length&&await Tc(e,kn.BWP_ALL)}})(n,t,s)}catch(e){nt("resetRolesOnSocialVertical failed in registerMembersAreaApps",{extra:{error:e}})}(async(e,t)=>{try{const n=(await Promise.all(t.map((t=>Eo({editorSDK:e,appDefinitionId:t.appDefinitionId}).then((e=>({applicationId:e?e.applicationId:null,appDefinitionId:t.appDefinitionId,pageId:t.pageId}))))))).filter((e=>!!e.applicationId)),o=await Ca({editorSDK:e}),i=await Qc({editorSDK:e}),r=o.filter((e=>!!n.find((t=>e.tpaPageId===t.pageId&&e.tpaApplicationId===t.applicationId)))).filter((e=>!i.find((t=>t.id===e.id)))),a=r.filter((e=>!e.managingAppDefId||e.managingAppDefId===Be));a.length!==r.length&&nt("Could not delete loose pages because it is already managed by some application",{extra:{alreadyManagedPages:r.filter((e=>!!e.managingAppDefId&&e.managingAppDefId!==Be))}}),await Promise.all(a.filter((e=>!e.managingAppDefId)).map((t=>zc({editorSDK:e,pageRef:{id:t.id,type:"DESKTOP"}})))),await Promise.all(a.map((t=>e.pages.remove("",{pageRef:{id:t.id||"",type:"DESKTOP"},shouldShowEditorRemovePanel:!1})))),a.length>0&&nt("Succesfully removed loose MA pages outside MA routers",{extra:{registeredApplications:t,loosePages:r}})}catch(e){nt("An error has occured when searching for loose MA pages outside MA routers",{extra:{error:e,registeredApplications:t}})}})(n,e)}))))},Lc=async(e,t,n)=>{const o=await Bn({editorSDK:t});o.verticalTriggeredMaInstallInitiated({originAppId:e});const i=yn(e).filter((e=>!1!==e.shouldInstallInitially));i.length>0&&await(async(e,t,n)=>await sa(t,{shouldLog:!1})?tt("editorApi.addApplications",(()=>sl({editorSDK:t,applications:e,forceHorizontalLayout:!1,biData:null==n?void 0:n.biData}))):(console.warn("Members Area installation was corrupted so the integrations pages will not be added"),void nt("Skipping addApplications as the application is not ready and probably already deleted")))(i,t,n),await jc(t,e),o.verticalTriggeredMaInstallSuccess({originAppId:e})},jc=async(e,t)=>{try{if(t===E.dn&&!gn()&&await Oc(e)){const t=bn()?kn.BWP_ONLY:kn.BWP_ALL;t!==await Rc(e)&&await Tc(e,t)}}catch(e){nt("Failed to set Blog Profile type",{extra:{error:e}})}},Nc=async e=>{if(gn())return;const t=await Yc(e),n=await Hs({applications:Ge.concat(t?qe:[]),editorSDK:e,i18next:or()});un({...hn(),[Ke]:n})},Bc=async e=>{const t=hn();return(await Ba(Object.keys(t),await Cc(e))).reduce(((e,n)=>({...e,[n]:t[n]})),{})},Kc=async(e,t)=>{if(ln.isUninstalling)return;const n=await da(e),{patternKey:o,router:i}=(e=>{let{routers:t,pageRole:n}=e;const{privateRouter:o,publicRouter:i}=t,r=o.config.patterns||{},a=i.config.patterns||{},s=Object.entries(r).find((e=>e[1].page===n)),c=Object.entries(a).find((e=>e[1].page===n));return s?{patternKey:s[0],router:o}:c?{patternKey:c[0],router:i}:{}})({routers:n,pageRole:t});if(o){if(i)try{await ma({editorSDK:e,router:i,patternKey:o})}catch(e){nt("Failed to remove pattern from router when handling vertical section deletion",{extra:{patternKey:o,router:i,stack:null==e?void 0:e.stack}})}try{const t=o.replace(/\/?(.*)/,"$1");await co({editorSDK:e,pattern:t})}catch(e){nt("Failed to remove pattern from menus when handling vertical section deletion",{extra:{patternKey:o,router:i,stack:null==e?void 0:e.stack}})}}},Uc=(e,t)=>{try{return(async(e,t)=>{const n=await hc(e,yc);await n.put("/settings/merge/global?viewMode=Editor",t)})(e,{showFollowers:t})}catch(e){nt("Failed to set showFollowers setting to false for blog writers profile integration",{extra:{error:e.toString()}})}},Fc=async e=>{await tt("removePage.platform",(()=>Vc(e))),await Nc(e.editorSDK),await(async e=>{1===(await e.document.pages.getApplicationPages(ae)).length&&await e.document.application.reloadManifest()})(e.editorSDK)},Hc=async e=>{let{pageId:t,appDefinitionId:n,editorSDK:o,shouldDisableTransaction:i}=e;const r=await Xc({editorSDK:o,app:{pageId:t,appDefinitionId:n}});return Fc({editorSDK:o,id:null==r?void 0:r.id,shouldDisableTransaction:i})},Wc=async(e,t)=>{let{id:n}=t;const o=await Ca({editorSDK:e}),i=await Ta({editorSDK:e});let r=i;const a=o.find((e=>e.id===n));return i.id===(null==a?void 0:a.id)&&(r=await async function(e){let{editorSDK:t}=e;const n=(await t.document.pages.data.getAll(ae)).find((e=>"member_info"===e.tpaPageId));return n&&{id:n.id,type:"DESKTOP"}}({editorSDK:e})),r},Vc=async e=>{let{editorSDK:t,id:n,shouldDisableTransaction:o}=e;const i=await ta({editorSDK:t,id:n});if(!i)return void nt("removeMembersAreaPagePlatform - componentRef not found");const r=await t.components.getPage(ae,{componentRef:i});if(!r)return void nt("removeMembersAreaPagePlatform - pageRef not found");const a=async()=>{const e=await po(t);for(const n of Object.values(e)){const e=ho(r,n);if(e){const o=null==e?void 0:e.replace(/\/?(.*)/,"$1");await co({editorSDK:t,pattern:o}),await ma({editorSDK:t,router:n,patternKey:e})}}await Ea({editorSDK:t,pageRef:r,shouldShowEditorRemovePanel:!1,pageToNavigateAfterRemove:await Wc(t,{id:n}).catch((e=>{nt("getPageToNavigateAfterRemove failed in removeMembersAreaPagePlatform",{extra:e})}))})};o?await a():await Je(t,a)};function Gc(e){let{editorSDK:t,pages:n}=e;return Promise.all(n.map((e=>async function(e){let{editorSDK:t,page:n}=e;const o=await Ra({editorSDK:t,pageRef:n.pageData.pageRef});o&&o.pageSecurity&&!o.pageSecurity.requireLogin&&await xa({editorSDK:t,pageRef:n.pageData.pageRef,pageData:{pageSecurity:{requireLogin:!0}}})}({editorSDK:t,page:e}))))}function qc(e){let{editorSDK:t,pages:n}=e;return Promise.all(n.map((e=>ja((()=>{var n;return async function(e,t,n){const o=await e.pagesGroup.getByGroupName(ae,{groupName:t});await e.pagesGroup.addPageToPagesGroup(ae,{pagesGroupPointer:o,pageId:n})}(t,_e,null==(n=e.pageData.pageRef)?void 0:n.id)}),{delayMs:200,message:"Retry adding page to a pages group"}))))}function zc(e){let{editorSDK:t,pageRef:n}=e;return xa({editorSDK:t,pageRef:n,pageData:{managingAppDefId:Be}})}async function $c(e){let{editorSDK:t,pages:n}=e;const{publicRouter:o,privateRouter:i}=await da(t),r=n.filter((e=>e.pageData.isPrivate)),a=n.filter((e=>!e.pageData.isPrivate)),s=r.length>0,c=a.length>0;await Promise.all([s&&ga({editorSDK:t,pages:r,router:i}),c&&ga({editorSDK:t,pages:a,router:o}),s&&Gc({editorSDK:t,pages:r})].filter((e=>!!e)));try{await qc({editorSDK:t,pages:n})}catch(e){nt("Failed to add new page to the pages group, SOSP will not be visible in the page",{extra:{error:e.toString(),stack:null==e?void 0:e.stack}})}return Aa({editorSDK:t,pages:n})}async function Jc(e){const t=await e.document.pages.getApplicationPages(ae),n=[],o=[];return t.forEach((e=>{const t={id:e.id,type:"DESKTOP"};Ve&&Ve.includes(e.tpaPageId)?n.push(t):o.push(t)})),await e.document.pages.setState("",{state:{readOnly:n,deletable:o}}),e.document.application.reloadManifest()}async function Xc(e){let{editorSDK:t,app:n}=e;const{pageId:o,appDefinitionId:i}=n,r=await Ca({editorSDK:t});let a,s;if(i){const e=await Eo({editorSDK:t,appDefinitionId:i});s=null==e?void 0:e.applicationId,s||nt("Invalid getDataByAppDefId",{extra:{appDefinitionId:i,source:"getPageByIntegrationApp",app:n}})}return a=s?r.find((e=>e.tpaPageId===o&&e.tpaApplicationId===s)):r.find((e=>e.tpaPageId===o)),a}async function Qc(e){let{editorSDK:t}=e;const{publicRouter:n={},privateRouter:o={}}=await da(t);return[...n.pages||[],...o.pages||[]].map((e=>e.pageRef))}async function Yc(e){var t,n;for(const t of We)if(await Ro({editorSDK:e,appDefinitionId:t}))return!0;const{publicRouter:o}=await da(e);return Object.keys(null!=(t=null==o||null==(n=o.config)?void 0:n.patterns)?t:{}).length>0}const Zc=async(e,t)=>{const n=await Xc({editorSDK:e,app:{pageId:$e,appDefinitionId:ze}});await zc({editorSDK:e,pageRef:{id:null==n?void 0:n.id,type:"DESKTOP"}}),await Hc({appDefinitionId:ze,pageId:$e,editorSDK:e,shouldDisableTransaction:t})},el=async e=>{let{editorSDK:t}=e;if(gn())return!1;try{const e=await Eo({editorSDK:t,appDefinitionId:Ke}),n=null==e?void 0:e.applicationId;if(!n)throw nt("Invalid getDataByAppDefId",{extra:{appDefinitionId:Ke,source:"isMyAccountLayoutHorizontal"}}),new Error("No applicationId received in getDataByAppDefId");const o=await Co({editorSDK:t,applicationId:n}),i=await ta({editorSDK:t,id:o[0].id}),r=await zr({editorSDK:t,componentRef:i});return r.x<100}catch(e){return!gn()}},tl=async e=>{let{editorSDK:t,applications:n,shouldNavigate:o}=e;const i=n.map((e=>Ro({editorSDK:t,appDefinitionId:e.appDefinitionId}).then((t=>!t&&e))));return Na((await Promise.all(i).then((e=>e.filter(Boolean)))).map((e=>{let{appDefinitionId:n}=e;return Mo(t,{appDefinitionId:n,shouldNavigate:o})})))},nl=async e=>{let{editorSDK:t,applications:n,shouldNavigate:o}=e;const i=await Bn({editorSDK:t});let r=[];const a=async e=>{const n="addApplication"===e.method;delete e.method;const o=n?"sdk.tpa.add.application":"sdk.tpa.add.component",i={extra:{definition:e},tags:{pageId:e.page.pageId}},r=await Sn(o,15e3,(()=>n?Mo(t,e):function(e,t){return e.tpa.add.component(ae,t)}(t,e)),i);return r};return r=await Promise.all(n.map((e=>a(e)))),Promise.resolve(r).then((e=>{const r=n.map((e=>To({editorSDK:t,appDefinitionId:e.appDefinitionId,sectionId:e.page.pageId}).then((t=>{if(t)i.maPageInstalled({originAppId:e.appDefinitionId,pageName:e.page.pageId});else{nt("App installation failed verification just after the successful installation",{tags:{pageId:e.page.pageId,appDefinitionId:e.appDefinitionId}})}}))));return Promise.all(r).then((()=>o?(e=>{var n;const o=null==(n=e[0])?void 0:n.pageRef;return Ma({editorSDK:t,pageRef:o}),e})(e):e))}))},ol=e=>{let{applications:t,pages:n,routers:o}=e;return t.map(((e,t)=>{const i=!e.social,r=n[t],a="notifications_app"===e.pageId,{urlOverride:s,pageUriSEO:c}=(e=>{let{page:t,app:n,routers:o}=e;const{publicRouter:i,privateRouter:r}=o,a=n.social?i:r,s=a.config&&a.config.patterns&&Object.keys(a.config.patterns)||[],c=n.urlOverride&&yo(s,n.urlOverride);return{pageUriSEO:t&&t.pageUriSEO&&yo(s,t.pageUriSEO),urlOverride:c}})({page:r,app:e,routers:o});return{routerConfig:{socialHome:!!e.socialHome,pageId:r.id,appData:{numbers:e.numbers,appDefinitionId:e.appDefinitionId,appPageId:e.pageId,menuOrder:e.menuOrder||Oe,visibleForRoles:e.visibleForRoles||[]}},urlOverride:s,pageData:{isPrivate:i,...r,pageUriSEO:c},showInLoginMenu:e.showInLoginMenu,showInMemberMenu:e.showInMemberMenu,appDefinitionId:e.appDefinitionId,loginMenuTitle:e.loginMenuTitle,showInIconsMenu:a,menuIds:{members:ya,login:ba,icons:va}}}))},il=async e=>{let{editorSDK:t,applications:n,forceHorizontalLayout:o,shouldNavigate:i}=e;const r=fn()||o||await el({editorSDK:t}),a=(e=>{let{applications:t,isHorizontalLayout:n}=e;return t.map((e=>({method:e.method,appDefinitionId:e.appDefinitionId,managingAppDefId:Be,componentType:"PAGE",shouldNavigate:!!e.shouldNavigate,page:{pageId:e.pageId,requireLogin:!e.social,shouldNavigate:!!e.shouldNavigate,showInLoginMenu:!!e.showInLoginMenu},biData:e.biData,...n?Ie:Se})))})({applications:n,isHorizontalLayout:r}),s=await nl({editorSDK:t,applications:a,shouldNavigate:i}),c=await da(t)||{publicRouter:{},privateRouter:{}},l=ol({applications:n,pages:s,routers:c});await $c({editorSDK:t,pages:l}),r||await ea({editorSDK:t}),await Jc(t),await Nc(t),await rl(t,n)},rl=async(e,t)=>{try{const n=await da(e);t.forEach((e=>{const o=e.social?n.publicRouter:n.privateRouter;ha(o,e.pageId)||nt("Application was added but is not found in the router, it will probably be disconnected from MA",{tags:{appPageId:e.pageId},extra:{appPageId:e.pageId,applications:t,router:o}})}))}catch(e){nt("Failed to confirm applications installation",{extra:{e:e}})}},al=(e,t)=>e.map((e=>({...e,biData:t}))),sl=async e=>{let{editorSDK:t,applications:n,biData:o={},forceHorizontalLayout:i=!1,shouldNavigate:r=!1}=e;const a=n.filter((e=>"addApplicationToSite"===e.method)),s=jn(n.filter((e=>"addApplicationToSite"!==e.method))),c=await(async e=>{let{editorSDK:t,applications:n}=e;const o=n.map((e=>{const{appDefinitionId:n,pageId:o}=e;return o?To({editorSDK:t,appDefinitionId:n,sectionId:o}).then((t=>!t&&e)):Promise.resolve(e)}));return(await Promise.all(o)).filter((e=>!!e))})({editorSDK:t,applications:s});await Promise.all([a.length>0&&tl({editorSDK:t,applications:a,shouldNavigate:r}),c.length>0&&il({editorSDK:t,applications:al(c,o),forceHorizontalLayout:i,shouldNavigate:r})].filter((e=>!!e))),await(async(e,t)=>{try{if(1===t.length&&t[0].pageId===X.pageId){(await ro({editorSDK:e,menuId:be.LOGIN_MENU_ID})).find((e=>"my-wishlist"===e.link.innerRoute))||nt("My Wishlist menu item did not add to login menu when supposed to")}}catch(e){nt("Failed to confirm My Wishlist installation",{extra:{e:e}})}})(t,n)};const cl=async e=>{let{editorSDK:t,controllerRef:n,newConfig:o}=e;const{config:i}=await t.controllers.getData("",{controllerRef:n,scope:"APP"});return t.controllers.saveConfiguration("",{controllerRef:n,scope:"APP",config:{...i,...o}})},{APP_TOKEN:ll}=e;async function ul(e){if(pn(!0),gn())try{await async function(e){if(!await qr(e))return;if(fn())return Gr(e);if(await Sc(e))await Gr(e),await Ic(e);else{const t=await Ta({editorSDK:e});await Pc(e),await Gr(e),await Ma({editorSDK:e,pageRef:t})}}(e),await La(e),await mo(e),await go(e),await xo(e),await to(e),await e.history.add(ll,{label:"deleting members app"}),await e.editor.save(ll)}catch(e){const t="Failed to uninstall Members Area: "+typeof e=="string"?e:e.message;throw nt("Failed to uninstall MA",{tags:{message:t}}),new Error(t)}else await e.application.uninstall("",{openConfirmation:!1}),await e.history.add(ll,{label:"deleting members app - platformised uninstallation"}),await e.editor.save(ll);try{await ia(e)&&nt("DM-3935: Login component did not delete after installation, leaving the component without menus",{tags:{isPlatformUninstallation:!0}})}catch(e){nt("Failed verifying that the login component is deleted after uninstallation",{tags:{reason:e}})}pn(!1)}async function pl(e,t){try{var n;const o=(null==(n=t.origin.info)?void 0:n.appDefinitionId)===E.ZJ,i=!gn()||await nn();t=t||{};const[r,a]=await Na([tt("install.getSiteStructure",(()=>e.siteSegments.getSiteStructure(ll))),tt("install.getHeader",(()=>e.siteSegments.getHeader(ll)))]),s=await tt("install.createController",(()=>Po(e,r))),c=await async function(){return await en(),"true"===Yt.get("specs.membersArea.seoPanelChanges")}();await cl({editorSDK:e,controllerRef:s,newConfig:{isMembersAreaSeoEnabled:c}});const l=tt("install.createMenus",(()=>async function(e){await to(e);const t=e.menu.create(ae,{menuData:{name:"Member Menu",items:[]},customId:Jn}),n=Yn(e),o=Zn(e),[i,r,a]=await Promise.all([t.catch((()=>Jn)),n.catch((()=>Xn)),o.catch((()=>Qn))]);return{members:i,login:r,icons:a}}(e))),u=tt("install.createSospContainer",(()=>async function(e,t,n){const o=fn(),i=await nn(),r=!gn()||i,a=await qr(e);if(a)try{nt("SOSP container already existing during the installation");const t=await e.components.getChildren(Nr,{componentRef:a});await Promise.all(t.map((t=>e.components.remove(Nr,{componentRef:t})))),await Gr(e)}catch(e){throw nt("Can not remove members SOSP container"),e}if(o){const o=zn().cloneDeep(ko),i=await e.components.layout.get(Nr,{componentRef:t});return o.layout.y+=i.height,e.components.add(Nr,{pageRef:n,componentDefinition:o,showAddToHeaderPanel:!1,customId:Ae})}const s=zn().cloneDeep(r?we:ve),c=await e.components.layout.get(Nr,{componentRef:t});return s.layout.y+=c.height,e.components.add(Nr,{pageRef:n,componentDefinition:s,showAddToHeaderPanel:!1,customId:Ae})}(e,a,r))),p=tt("install.installRouters",(()=>async function(e){const t=fo(e,Pe.PRIVATE),n=fo(e,Pe.SOCIAL);await Promise.all([t,n]),2!==(await po(e)).length&&nt("Routers not found just after adding them")}(e))),d=tt("install.createPagesGroup",(()=>async function(e,t){const n=await e.pagesGroup.getByGroupName(ae,{groupName:t});n&&await e.pagesGroup.remove(ae,{pagesGroupPointer:n}),await e.pagesGroup.create(ae,{groupName:t})}(e,_e))),f=tt("install.addLoginButton",(()=>Kr(e,s,a,o)));await p;const g=tt("install.addAccountInfo",(()=>async function(e,t,n){const o=He(t);return sl({editorSDK:e,applications:[o],forceHorizontalLayout:n})}(e,t.origin,i))),m=await u,h=tt("install.addProfileWidget",(()=>Br(e,m))),y=await l;await h;const b=tt("install.addSubPagesMenu",(()=>Fr(e,y.members,m,s,i)));await Na([d,f,g,b]),async function(e){const t=await e.tpa.app.getDataByAppDefId(ll,"14cffd81-5215-0a7f-22f8-074b0e2401fb"),n=(await ro({editorSDK:e,menuId:be.LOGIN_MENU_ID})).find((e=>{var t;return"my-account"===(null==e||null==(t=e.link)?void 0:t.innerRoute)}));if(!(await e.pages.data.getAll(ll)).find((e=>"member_info"===e.tpaPageId))&&n)return void nt("Installation: MA-84 My account menu item is there, but the page is missing");if(!t&&n)return void nt("My account menu item is there but the app data is missing");await e.tpa.app.getAllCompsByApplicationId(ll,t.applicationId)||nt("My Account page data is existing but the widget is missing")}(e);const v=await tt("install.getChildren",(()=>Xr({editorSDK:e,componentRef:m}))),w=[m].concat(v);await Na([tt("install.deselectComponents",(()=>function(e,t){return e.editor.selection.deselectComponents(ae,{compsToDeselect:t})}(e,w))),tt("install.addComponentToGroup",(()=>async function(e,t,n){const o=await e.pagesGroup.getByGroupName(ae,{groupName:t});await e.components.modes.showComponentOnlyOnPagesGroup(ae,{componentPointer:n,pagesGroupPointer:o})}(e,_e,m)))]),bn()&&Uc(e,!1)}catch(e){return Promise.reject(e)}}async function dl(e,t){if(await async function(e,t){return!!t&&0===(await po(e)).length}(e,t.firstInstall))try{const n=()=>tt("install",(()=>pl(e,t)));await Sn("installation",15e3,n)}catch(t){throw nt("Removing initial installation as it failed",{extra:{error:t.toString()}}),await _c(e,!0,!0),t}}let fl=function(e){return e.RenameRouter="renameRouter",e.RemovePage="removePage",e.Uninstall="uninstall",e.ManagePages="managePages",e.CreateBlankPage="createBlankPage",e.GeneralSettings="generalSettings",e.MemberPrivacyDashboard="memberPrivacyDashboard",e}({}),gl=function(e){return e.AddMemberPage="addMemberPage",e.AddMemberTab="addMemberTab",e.OpenMembersAreaPagesPanel="openMembersAreaPagesPanel",e.OpenMembersAddPanel="openMembersAddPanel",e.OpenMembersAccountBmDashboard="openMembersAccountBmDashboard",e.OpenBadgesDashboard="openBadgesPage",e.OpenSiteMembersDashboard="openSiteMembersDashboard",e}({});const ml=e=>({title:e("Pages_Panel_MemberMenu_Open_GeneralSettings"),event:fl.GeneralSettings,icon:"settingsAction"}),hl=e=>({title:e("Pages_Panel_MemberMenu_Open_MemberPrivacyDashboard"),event:fl.MemberPrivacyDashboard,icon:"unhideAction"}),yl={type:"view_site_members"},bl={type:"open_signup_settings"},vl=e=>({title:e("Pages_Panel_MemberMenu_Add_Page"),type:"add_page",event:fl.CreateBlankPage,icon:"addPagePagesPanel"}),wl=e=>({title:e("Pages_Panel_MemberMenu_URLSettings_Link"),event:fl.RenameRouter,icon:"globe"}),Pl=e=>({title:e("Pages_Panel_MemberMenu_Delete_Link"),event:fl.Uninstall,icon:"delete_icon"}),Sl=async(e,t,n)=>{const o=await(async e=>{var t;const n=null==(t=(await e.tpa.app.getDataByAppDefId(ae,E.Kh)).appFields.platform)?void 0:t.editorScriptUrl;return n?(e=>{const[t]=e.split("/editorAppModule.bundle.min.js");return t})(n):"."})(e);return o+"/assets/"+t+(n||"")},Il={title:"Permissions",event:"pagePermissions",icon:"page_dynamic_icon",helpId:"d243ad48-2e17-4786-99d7-23d011aa4bd6",type:"permissions"},_l=async e=>({title:"Page Info",event:"pageInfo",icon:"page_dynamic_icon",url:await Sl(e,"pageInfo.html"),helpId:"2fd96dc5-ff35-4ead-9917-12b487c59fe4",type:"page_info"}),Dl=async e=>({title:"SEO Basics",event:"pageSEO",icon:"page_dynamic_icon",url:await Sl(e,"pageSEO.html"),helpId:"a621022f-17fa-433a-b4f5-d43994e8c4f6",type:"seo"}),Al=async(e,t)=>{var n;return"studio"===(null==(n=self)||null==(n=n.commonConfig)?void 0:n.brand)||(null!=t&&t.firstInstall?async function(){return await Promise.all([en(),tn()]),"true"===Yt.get("specs.membersArea.profilePageBoBInstallation")||"true"===Zt.get("specs.membersAreaV2.BoBInstallation")}():((e,t)=>e.application.isApplicationInstalled(ae,{appDefinitionId:t}))(e,E.rH))},xl=e=>({showOnAllModes:!0,default:[ml(e),vl(e),yl,hl(e),bl,wl(e),Pl(e)].filter((e=>!!e))}),Ol=async(e,t)=>{const n={default:"no-sort"},o=await(async e=>{try{const t=await Io(e);return!(null==t||!t.isMembersAreaSeoEnabled)}catch(e){return!1}})(e),i=[await _l(e),Il,...o?[]:[await Dl(e)]];return{...{appDescriptor:{mainActions:[{title:t("Apps_Manager_Add_Member_Page"),actionId:"addMemberPage",type:"editorActions",icon:"appManager_addElementsAction"}],defaultActions:{learnMoreKB:"b74bcbba-91c8-4951-a3de-a1dc698f6356"},customActions:[{title:t("Apps_Manager_Manage_Member_Pages"),actionId:"openMembersAreaPagesPanel",type:"editorActions",icon:"appManager_pagesAction"},{title:t("Apps_Manager_Open_Members_Add_Panel"),actionId:"openMembersAddPanel",type:"editorActions",icon:"appManager_addElementsAction"},{title:t("Apps_Manager_Customize_Members_Profiles"),actionId:"openMembersAccountBmDashboard",type:"dashboard",icon:"appManager_settingsAction"},{title:t("Apps_Manager_Open_Badges_Page"),actionId:"openBadgesPage",type:"dashboard",icon:"appManager_settingsAction"},{title:t("Apps_Manager_Engage_With_Your_Members"),actionId:"openSiteMembersDashboard",type:"dashboard",icon:"appManager_settingsAction"}]}},controllersStageData:{members:{default:{visibility:"NEVER"}},[xr]:{default:{displayName:t("LoginBarAppWidget_Display_Name")}},[zo]:{default:{displayName:t("MembersMenuAppWidget_Display_Name")}}},pages:{pageDescriptors:{default:{icon:"membersAction"}},applicationSettings:{default:{displayName:t("Pages_Panel_MemberMenu_Title"),helpId:se}},applicationActions:xl(t),pageSettings:{default:i},pageActions:{default:[],deletable:[{title:t("Pages_Panel_MemberMenu_Actions_Page_Delete"),icon:"deleteAction",event:"removePage"}]},sortInnerRoutes:n}}};var Ml=r(5208);const Rl="member-permissions/members",Tl="badge-definitions",El="members-account";var Cl=function(e){return e.INTENT="intent",e.CONFIRM="confirm",e.CANCEL="cancel",e}(Cl||{});const kl=async(e,t,n,o)=>{const i=await Bn({editorSDK:e,withClientId:!0}),r=await(async(e,t)=>t.tpaApplicationId?async function(e){var t;let{editorSDK:n,tpaAppId:o}=e;const i=await n.tpa.app.getAllCompsByApplicationId("",o);return null==i||null==(t=i[0])?void 0:t.appDefinitionId}({editorSDK:e,tpaAppId:t.tpaApplicationId}):t.managingAppDefId)(e,n),a=(e=>{var t;return null!=e&&e.tpaPageId?e.tpaPageId:"custom_"+(null!=e&&null!=(t=e.pageSecurity)&&t.requireLogin?"private":"public")})(n);null==i||i.managePagesActionDelete({pageId:a,pageName:n.title,value:o,appId:r})},Ll=async(e,t)=>{const n=await e.document.pages.data.get(ae,{pageRef:t}),o=await Ar(e);await kl(e,0,n,Cl.INTENT),e.editor.openErrorPanel(ae,{shouldShowIllustration:!0,headerText:o("MemberPages_Delete_Page_Title"),topDescriptionText:o("MemberPages_Delete_Any_Page_Warning_New",{title:null==n?void 0:n.title}),mainActionText:o("MemberPages_Delete_AccountInfo_Button_Delete"),secondaryActionText:o("MemberPages_Delete_AccountInfo_Button_Cancel")}).then((async t=>{if(t===Ml.PanelResolveType.MAIN_ACTION){kl(e,0,n,Cl.CONFIRM);(await e.editor.getAppAPI()).removePage(n)}else kl(e,0,n,Cl.CANCEL)}))},jl=async e=>{const t=await Ar(e);e.editor.openErrorPanel(ae,{shouldShowIllustration:!0,headerText:t("MemberPages_Delete_AccountInfo_Title"),topDescriptionText:t("MemberPages_Delete_AccountInfo_Body1"),bottomDescriptionText:t("MemberPages_Delete_AccountInfo_Body2")+" "+t("MemberPages_Delete_AccountInfo_Sitemembers_link"),mainActionText:t("MemberPages_Delete_AccountInfo_Button_Delete"),secondaryActionText:t("MemberPages_Delete_AccountInfo_Button_Cancel")}).then((async t=>{if(t===Ml.PanelResolveType.MAIN_ACTION){(await e.editor.getAppAPI()).uninstall()}}))};async function Nl(e){let{eventPayload:t,editorSDK:n}=e;(await Bn({editorSDK:n})).managePagesAddMemberPagesClick({origin:Tn.Editor,referralInfo:null==t?void 0:t.referralInfo,context:En.ManageMemberPages}),await n.editor.openModalPanel(ae,{url:await Sl(n,"managePages.html"),width:1098,height:696,shouldHideHeader:!0,initialData:t})}async function Bl(e){let{eventPayload:t,editorSDK:n}=e;(await Bn({editorSDK:n})).managePagesAddMemberPagesClick({origin:Tn.Editor,referralInfo:null==t?void 0:t.referralInfo,context:En.AddTabs}),await n.editor.openModalPanel(ae,{url:await Sl(n,"addTabs.html"),width:1098,height:696,shouldHideHeader:!0,initialData:t})}async function Kl(e){let{editorSDK:t,eventPayload:n}=e;const o=fn()?"?origin=editor_x":"";await t.editor.openModalPanel(ae,{url:await Sl(t,"generalSettings.html",o),width:876,height:631,shouldHideHeader:!0,initialData:n})}function Ul(e){return e.editor.openDashboardPanel(ae,{url:"/member-privacy-settings/profile-privacy?referralInfo=editor_actions_menu",closeOtherPanels:!1})}var Fl=function(e){return e.split("#")};var Hl="_",Wl=/{(.*)}/,Vl=new RegExp("\\.(".concat(["wix.com","editorx.com"].join("|"),")$")),Gl=new RegExp("\\.(".concat(["42.wixprod.net","uw2-edt-1.wixprod.net"].join("|"),")$")),ql=new RegExp(".*\\.".concat("dev.wix-code.com","$"));function zl(e){var t,n,o=function(e,t){var n=t[e]||t[Hl];if(!n&&function(e){return!!e.match(/\._base_domain_$/)}(e))return t[Xl];return n}(function(e){return e.replace("create.editorx.com","editor.editorx.com")}(e.host).replace(Vl,"._base_domain_").replace(Gl,"._api_base_domain_").replace(ql,"*.dev.wix-code.com"),e.domainToMappings),i=(t=e.protoPath,n=e.data||{},t.split("/").map((function(e){return function(e,t){var n=e.match(Wl)||[],o=n[1];if(o){var i=e.replace(n[0],"");return function(e,t,n,o){for(var i=e,r=0,a=t.split(".");r<a.length;r++){var s=a[r];if(!i)return n;i=i[s]}return"".concat(i).concat(o)}(t,o,e,i)}return e}(e,n)})).join("/"));return function(e,t){var n=null==t?void 0:t.find((function(t){return e.startsWith(t.destPath)}));if(!n)return e;return n.srcPath+e.slice(n.destPath.length)}(i,o)}var $l,Jl,Xl="www._base_domain_";function Ql(e,t){void 0===t&&(t="");var n={};return Object.entries(e).forEach((function(e){var o=e[0],i=e[1],r=null!==i&&"object"==typeof i&&!Array.isArray(i),a=function(e,t){return"".concat(e).concat(e?".":"").concat(t)}(t,o);if(r){var s=Ql(i,a);Object.assign(n,s)}else n[a]=i})),n}function Yl(e){var t=Ql(e);return Object.entries(t).reduce((function(e,t){var n=t[0],o=t[1];return(Array.isArray(o)?o:[o]).forEach((function(t){null!=t&&e.append(n,t)})),e}),new URLSearchParams)}function Zl(e,t,n){return void 0===t&&(t={}),function(o,i){return void 0===o&&(o={}),"string"==typeof o?o:r(e,o);function r(e,t){var n={};return[null,void 0].includes(t)?t:(Object.entries(t).forEach((function(t){var o,i,r,c,l=t[0],u=t[1],p=function(e){void 0===e&&(e="");var t=Fl(e),n=t[0],o=t[1];return o?{schemaName:o,schemaType:n}:{schemaName:n}}(e[l]),d=p.schemaName,f="Map"===p.schemaType;c=(null!==(r=null===(i=null===(o=s(d))||void 0===o?void 0:o.checkRepetable)||void 0===i?void 0:i.call(o,u))&&void 0!==r?r:Array.isArray(u))?u.map((function(e){return a(e,d)})):f?function(e,t){return Object.entries(e).reduce((function(e,n){var o=n[0],i=n[1];return e[o]=a(i,t),e}),{})}(u,d):a(u,d),n[l]=c})),n)}function a(e,n){if(!n)return e;var o=t[n];if(s(n))return s(n).transform(e);if(o)return r(o,e);throw new Error("".concat(n," is neither schema nor serializable type"))}function s(e){var t;return null===(t=n[e])||void 0===t?void 0:t[i]}}}!function(e){e[e.TO_JSON=0]="TO_JSON",e[e.FROM_JSON=1]="FROM_JSON"}($l||($l={}));var eu,tu,nu,ou,iu=((Jl={types:["google.protobuf.Timestamp"]})[$l.TO_JSON]={transform:function(e){return null==e?void 0:e.toISOString()}},Jl[$l.FROM_JSON]={transform:function(e){return e?new Date(e):void 0}},Jl),ru=((eu={types:["google.protobuf.FieldMask"]})[$l.TO_JSON]={transform:function(e){return e.join(",")},checkRepetable:function(e){return e.some((function(e){return Array.isArray(e)}))}},eu[$l.FROM_JSON]={transform:function(e){return"object"==typeof e?e.paths:e.split(",")}},eu),au=((tu={types:["google.protobuf.BytesValue","BYTES"]})[$l.TO_JSON]={transform:function(e){var t=e.reduce((function(e,t){return e+String.fromCharCode(t)}),"");return btoa(t)}},tu[$l.FROM_JSON]={transform:function(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}},tu),su=((nu={types:["google.protobuf.Duration"]})[$l.TO_JSON]={transform:function(e){var t=e.seconds,n=void 0===t?"0":t,o=e.nanos,i=void 0===o?0:o,r="";return 0!==i&&(r=".".concat(i.toString().padStart(9,"0"))),"".concat(n).concat(r,"s")}},nu[$l.FROM_JSON]={transform:function(e){var t=e.substring(0,e.length-1).split(".");return{seconds:t[0],nanos:cu(t[1])}}},nu);function cu(e){var t=0;if(void 0!==e){var n=3-e.length/3;t=parseInt(e,10)*Math.pow(1e3,n)}return t}var lu=((ou={types:["FLOAT","DOUBLE","google.protobuf.FloatValue","google.protobuf.DoubleValue"]})[$l.TO_JSON]={transform:function(e){return isFinite(e)?e:e.toString()}},ou[$l.FROM_JSON]={transform:function(e){return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:e}},ou),uu=function(){return uu=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},uu.apply(this,arguments)};var pu=function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))},du=pu([],[iu,ru,au,su,lu],!0).reduce((function(e,t){var n=t.types.reduce((function(e,n){var o;return uu(uu({},e),((o={})[n]=t,o))}),{});return uu(uu({},e),n)}),{});function fu(e,t){void 0===t&&(t={});var n=Zl(e,t,du);return{fromJSON:function(e){var t=function(e){try{return JSON.parse(e)}catch(e){}}(e)||e;return n(t,$l.FROM_JSON)},toJSON:function(e){return n(e,$l.TO_JSON)}}}var gu={},mu={memberPrivacySettings:"_memberPrivacySettings"},hu={updatedDate:"google.protobuf.Timestamp"};function yu(e){return zl(Object.assign(e,{domainToMappings:{"editor.wixapps.net":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"api._api_base_domain_":[{srcPath:"/members/v1/privacy-settings",destPath:""}],"manage._base_domain_":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"editor._base_domain_":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"blocks._base_domain_":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"create.editorx":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"www.wixapis.com":[{srcPath:"/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],_:[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"www._base_domain_":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"*.dev.wix-code.com":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}]}}))}const bu=async e=>{const t=await hc(e),{data:n}=await t.request(function(e){var t=fu(gu,{}),n=t.toJSON,o=t.fromJSON,i=fu(mu,{_memberPrivacySettings:hu}).fromJSON;function r(t){var o=t.host,r=n(e);return{entityFqdn:"wix.members.v1.member_privacy_settings",method:"GET",methodFqn:"com.wixpress.members.memberprivacysettings.MemberPrivacySettingsService.GetMemberPrivacySettings",url:yu({protoPath:"/v1/privacy-settings",data:r,host:o}),params:Yl(r),transformResponse:i}}return r.fromReq=o,r}({}));return n.memberPrivacySettings};let vu=function(e){return e.StandAlone="stand-alone",e.Custom="custom",e.TPA="tpa",e.WidgetPlugin="widget-plugin",e}({});const wu=async e=>{const[{publicRouter:t},n]=await Promise.all([da(e),Ca({editorSDK:e})]),o=(e=>{var t;return Object.values(null!=(t=e.config.patterns)?t:{}).map((e=>{var t,n;let{title:o,pageId:i,appData:{appDefinitionId:r,appPageId:a},seoData:s}=e;return{pageType:a?vu.TPA:vu.Custom,integrationApplication:{appDefinitionId:r,pageId:a||i},title:null!=(t=null==s||null==(n=s.title)?void 0:n.replace("{userName} | ",""))?t:o,isInstalled:!0}}))})(t),i=(e=>{const t=e.find((e=>{let{tpaPageId:t}=e;return t===$e}));return t?{pageType:vu.StandAlone,integrationApplication:{appDefinitionId:ze,pageId:void 0},title:t.title,isInstalled:!0}:null})(n);return i?[...o,i]:o},Pu=async e=>{const t=await wu(e),n=await(async(e,t)=>{const n=await Ar(e,!0);return(await Hs({editorSDK:e,i18next:or(),applications:[C,U,L]})).map((e=>{var o;const i=t.find((t=>{let{integrationApplication:n}=t;return Ln(n,e)}));if(i)return{...i,application:e};const{page:r}=e,a=Ln(e,L);return{pageType:a?vu.StandAlone:vu.TPA,title:a?n("GeneralSettings_MembersPageTitle"):null!=(o=null==r?void 0:r.name)?o:"",integrationApplication:e,isInstalled:!1}}))})(e,t);return{installedPublicPages:t,promotionalPublicPages:n}},Su=async(e,t)=>{let{appsToInstall:n,appsToRemove:o,profilePageType:i}=t,r=0;const a=n.length+o.length+(i?1:0),s=await Ar(e,!0);if(a){try{await e.editor.openProgressBar(ae,{title:s("GeneralSettings_ProgressModal_Title"),totalSteps:a,stepTitle:s("GeneralSettings_ProgressModal_Subtitle")})}catch(e){nt("General settings progress bar failed to open",{extra:{e:e}})}try{if(n.length&&(await Ru(n.map((e=>{let{integrationApplication:t}=e;return t})),!1),await e.editor.updateProgressBar(ae,{currentStep:r+=n.length,stepTitle:s("GeneralSettings_ProgressModal_Subtitle")})),o.length)for(const{pageType:t,integrationApplication:n}of o){const o=n.appDefinitionId===ze,i=!0;t===vu.StandAlone&&o?await Zc(e,i):t===vu.TPA?await Hc({...n,editorSDK:e,shouldDisableTransaction:i}):t===vu.Custom&&await Fc({editorSDK:e,id:n.pageId,shouldDisableTransaction:i}),await e.editor.updateProgressBar(ae,{currentStep:++r,stepTitle:s("GeneralSettings_ProgressModal_Subtitle")})}i&&(await Tc(e,i),await e.editor.updateProgressBar(ae,{currentStep:++r,stepTitle:s("GeneralSettings_ProgressModal_Subtitle")})),await e.editor.closeProgressBar(ae,{isError:!1})}catch(t){throw await e.editor.closeProgressBar(ae,{isError:!0}),t}}};async function Iu(e){let{editorSDK:t,sospContainerRef:n,pwComponentRef:o,isHorizontal:i,pwHeight:r}=e;const a=r?r+me.layout.height:we.layout.height,s=zn().cloneDeep(i?{...we.layout,height:a}:ve.layout),c=zn().cloneDeep(i?we.style:ve.style),l=await t.siteSegments.getHeader(""),u=await zr({editorSDK:t,componentRef:l});s.y+=u.height,await Promise.all([$r({editorSDK:t,componentRef:n,layout:s}),na({editorSDK:t,componentRef:n,style:c})]),async function(e){let{editorSDK:t,isHorizontal:n,sospContainerRef:o}=e;const i=await t.components.style.get("",{componentRef:o}),r=i.style.properties["alpha-bg"],a=i.style.properties.bg;!n||1===r&&"color_11"===a||nt("The color of SOSP did not change properly after relayout when changing to horizontal layout",{tags:{isHorizontal:n},extra:{alpha:r,bgColor:a}}),n||0===r&&"color_1"===a||nt("The color of SOSP did not change properly after relayout when changing to vertical layout",{tags:{isHorizontal:n},extra:{alpha:r,bgColor:a}})}({editorSDK:t,isHorizontal:i,sospContainerRef:n}),setTimeout((()=>$r({editorSDK:t,componentRef:n,layout:{y:s.y}})),0),setTimeout((()=>$r({editorSDK:t,componentRef:n,layout:{height:s.height}})),0),i||await ea({editorSDK:t,pwComponentRef:o,sospContainerRef:n})}async function _u(e){let{editorSDK:t,pwComponentRef:n,sospContainerRef:o}=e;const i={...n,type:"MOBILE"},r={...o,type:"MOBILE"},a=await Xr({editorSDK:t,componentRef:o}),s=await Xr({editorSDK:t,componentRef:r}),c=a.filter((e=>!zn().isEqual(e,n))),l=s.filter((e=>!zn().isEqual(e,i))),u=await _o(t),p=await async function(){return await en(),"true"===Yt.get("specs.membersArea.handleMobileComponentsDeletion")}();await Promise.all(c.map((e=>async function(e){let{editorSDK:t,allControllers:n,componentRef:o}=e;const i=n.find((e=>e.controllerRef.id===o.id));return i&&await Do(t,i),Jr({editorSDK:t,componentRef:o})}({editorSDK:t,allControllers:u,componentRef:e})))),p&&await Promise.all(l.map((e=>async function(e){let{editorSDK:t,componentRef:n}=e;try{const e={...n,type:"MOBILE"},[o]=await t.components.get("",{componentRefs:e});o&&await t.document.components.remove("",{componentRef:{...n,type:"MOBILE"}})}catch(e){nt("Mobile component delete failure: ",e)}}({editorSDK:t,componentRef:e}))))}async function Du(e){let{editorSDK:t,pwComponentRef:n,isHorizontal:o,pwHeight:i}=e;const r=i||Le.height,a=o?{...Le,height:r}:ke;await $r({editorSDK:t,componentRef:n,layout:a})}async function Au(e){let{editorSDK:t}=e;const n=await Qc({editorSDK:t}),o=await Promise.all(n.map((e=>Ra({editorSDK:t,pageRef:e})))),i=o.filter((e=>e.tpaApplicationId&&e.tpaApplicationId>0)),r=o.filter((e=>void 0===e.tpaApplicationId||0===e.tpaApplicationId)).map((e=>e.id)),a=i.map((e=>e.tpaApplicationId)),[s,c]=await Promise.all([Promise.all(r.map((e=>ta({editorSDK:t,id:e})))),Promise.all(a.map((e=>Co({editorSDK:t,applicationId:e}))))]),l=c.reduce(((e,t)=>[...e,...t]),[]).filter((e=>o.map((e=>e.id)).indexOf(e.pageId)>-1)),[u,p]=await Promise.all([Promise.all(s.map((e=>Xr({editorSDK:t,componentRef:e})))),Promise.all(l.map((e=>ta({editorSDK:t,id:e.id}))))]);return{allVerticalsPagesComponentsRefs:p,allCustomPagesComponentsFlat:u.reduce(((e,t)=>[...e,...t]),[])}}async function xu(e){let{editorSDK:t,isHorizontal:n,pwHeight:o}=e;const{allVerticalsPagesComponentsRefs:i,allCustomPagesComponentsFlat:r}=await Au({editorSDK:t}),a=o?o+me.layout.height:Ie.y,s=n?{...Ie,y:a}:Se,c=[...i.map((e=>$r({editorSDK:t,componentRef:e,layout:s}))),...r.map((e=>async function(e){let{editorSDK:t,componentRef:n,isHorizontal:o,pwHeight:i}=e;const r=await zr({editorSDK:t,componentRef:n});if(r.x<0||r.x>ce)return;const a=Se.x-Ie.x,s=Se.y-(i?i+me.layout.height:Ie.y),c={...r};o?(c.x=r.x-a,c.y=r.y-s):(c.x=r.x+a,c.y=r.y+s),await $r({editorSDK:t,componentRef:n,layout:c})}({editorSDK:t,componentRef:e,isHorizontal:n})))];return Promise.all(c)}async function Ou(e){let{editorSDK:t,isHorizontal:n,pwHeight:o}=e;if(!await Sc(t))return;const i=await qr(t),r=await Zr({editorSDK:t});r&&(await _u({editorSDK:t,sospContainerRef:i,pwComponentRef:r}),await Du({editorSDK:t,pwComponentRef:r,isHorizontal:n,pwHeight:o}),await async function(e){let{editorSDK:t,isHorizontal:n,sospContainerRef:o,pwHeight:i}=e;const r=await So(t);await Fr(t,be.SUB_MENU_ID,o,r,n,i)}({editorSDK:t,sospContainerRef:i,isHorizontal:n,pwHeight:o}),await Du({editorSDK:t,pwComponentRef:r,isHorizontal:n,pwHeight:o}),await Iu({editorSDK:t,sospContainerRef:i,pwComponentRef:r,isHorizontal:n,pwHeight:o}),await xu({editorSDK:t,isHorizontal:n,pwHeight:o}))}async function Mu(e,t){const{allVerticalsPagesComponentsRefs:n,allCustomPagesComponentsFlat:o}=await Au({editorSDK:e}),i=await el({editorSDK:e}),r=fn();if(!i)return;const a=t+40,s=a,c=await Zr({editorSDK:e});if(r){const n=await function(e){let{editorSDK:t,componentRef:n}=e;return t.document.responsiveLayout.get(Nr,{componentRef:n})}({editorSDK:e,componentRef:c}),o={...n,componentLayouts:n.componentLayouts.map((e=>({...e,height:{...e.height,value:t}})))};await function(e){let{editorSDK:t,componentRef:n,responsiveLayout:o}=e;return t.document.responsiveLayout.update(Nr,{componentRef:n,responsiveLayout:o})}({editorSDK:e,componentRef:c,responsiveLayout:o})}const l=await qr(e);await $r({editorSDK:e,componentRef:l,layout:{height:s}});const u=[...n.map((t=>$r({editorSDK:e,componentRef:t,layout:{y:a}}))),...o.map((t=>$r({editorSDK:e,componentRef:t,layout:{y:a}})))];await Promise.all(u)}const Ru=async(e,t,n)=>{const o=ln.editorSDK;if(!o)return;if(!await sa(o,{shouldLog:!1}))return console.warn("Members Area installation was corrupted so the integrations pages will not be added"),void nt("Skipping addApplications as the application is not ready and probably already deleted");const i=await Hs({applications:e,editorSDK:o,i18next:or()});return sl({editorSDK:o,applications:i,shouldNavigate:t,biData:null==n?void 0:n.biData})},Tu=async function(e,t){let n;void 0===t&&(t=!0);try{const o=await Ar(e),i=t?void 0:await async function(e,t){var n;let o;void 0===t&&(t="blank");const i=await po(e),r=await Ca({editorSDK:e}),a=Object.keys((null==(n=i.find((e=>"public"===e.config.type)))?void 0:n.config.patterns)||{}).map((e=>e.split("/{userName}/")[1])),s=r.map((e=>{let{pageUriSEO:t}=e;return t}));let c,l=1;do{o=t+"-"+l,c=!a.includes(o)&&!s.includes(o),l++}while(!c&&l<1e3);return o}(e),r=o(t?"Pages_New_Private_Page_Title":"Pages_New_Public_Page_Title");n=await Oa({editorSDK:e,pageTitle:r,pageUriSEO:i}),t||await xa({editorSDK:e,pageRef:n,pageData:{pageSecurity:{requireLogin:!1},hidePage:!1}});const a=await Ra({editorSDK:e,pageRef:n}),s=await da(e)||{publicRouter:{},privateRouter:{}};a.pageRef=n;const c=[{appDefinitionId:a.managingAppDefId,pageId:"",social:!t,showInLoginMenu:!0,showInMemberMenu:!0}],l=ol({applications:c,pages:[a],routers:s});await $c({editorSDK:e,pages:l}),await Jc(e)}catch(e){nt("Add custom page failed",{tags:{reason:e.toString()+"\n"+e.stack,isPrivate:t,pageRefAdded:!!n}})}},Eu=e=>{const t=(t,n)=>Gn(t,(()=>tt(t,(t=>function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Je(e,(()=>t(...o)))})(n))));return{addApplications:async(e,n,o)=>Sn("addApplications",15e3,(()=>tt("addApplications",(()=>t("editorApi.addApplications",(()=>Ru(e,n,o))))))),getMembersPageRef:t=>{if(!t)return Promise.resolve(void 0);const{appDefinitionId:n,appPageId:o}=t;return async function(e,t,n){const o=await po(e);for(const e of o){const o=zn().find(e.config.patterns,(e=>zn().get(e,"appData.appDefinitionId")===t&&zn().get(e,"appData.appPageId")===n));if(o)for(const t of e.pages)if(t.pageRoles.includes(o.page))return t.pageRef}throw new Error("Could not find member page for TPA "+t+" and section "+n)}(e,n,o)},removeMembersAreaPage:(n,o)=>t("editorApi.removeMembersAreaPage",(()=>Hc({pageId:n,appDefinitionId:o,editorSDK:e}))),setHorizontalLayout:n=>t("editorApi.setHorizontalLayout",(()=>function(e,t){return Ou({editorSDK:e,isHorizontal:!0,pwHeight:t})}(e,n))),setSidebarLayout:()=>t("editorApi.setSidebarLayout",(()=>function(e){return Ou({editorSDK:e,isHorizontal:!1})}(e))),_getIsResponsiveEditor:()=>Gn("_getIsResponsiveEditor",(async()=>fn())),handleVerticalDeletion:async n=>{const o=await rn();return t(o?"editorApi.handleVerticalDeletion.newIsAppInstalled":"editorApi.handleVerticalDeletion",(()=>(async(e,t)=>{const n=yn(e),o=hn(),i=(await Ba(Object.keys(o),await Cc(t))).reduce(((e,t)=>{var n;return e.concat(null!=(n=o[t])?n:[])}),[]),r=n.filter((a=i,e=>!a.some((t=>t.pageId===e.pageId)))).filter(Ec);var a;for(const e of r){const n=await Xc({editorSDK:t,app:e});n&&await tt("editorApi.removeMembersAreaPage",(()=>Fc({editorSDK:t,id:n.id})))}r.length>0&&gn()&&t.application.reloadManifest()})(n,e)))},registerMembersAreaApps:(t,n,o)=>kc(t,n,e,o),installRegisteredApps:async(n,o)=>{const i=await rn();return t(i?"editorApi.installRegisteredApps.newIsAppInstalled":"editorApi.installRegisteredApps",(()=>Lc(n,e,o)))},getRegisteredApps:()=>(async e=>{const t=await rn()?"editorApi.getRegisteredApps.newIsAppInstalled":"editorApi.getRegisteredApps";return Gn(t,(()=>tt(t,(async()=>{const t=hn(),n=Object.keys(t);return(await Ba(n,await Cc(e))).reduce((async(n,o)=>({...await n,[o]:await Ba(t[o],(async t=>!await Xc({editorSDK:e,app:t})&&!vc(t)))})),Promise.resolve({}))}))))})(e),addCustomPage:n=>t("editorApi.createBlankPage",(()=>Tu(e,n))),refreshPageState:()=>(e=>Jc(e))(e),getProfileType:()=>Rc(e),setProfileType:n=>t("editorApi.setProfileType",(()=>Tc(e,n))),refreshRouters:()=>function(e){return e.editor.routers.refresh(ae)}(e),refreshMembersAreaApps:()=>(async e=>{const t=[C,U,L,Me].map((async t=>{let{appDefinitionId:n}=t;const o=await e.application.getPublicAPI(ae,{appDefinitionId:n});return null==o||null==o.refreshApp?void 0:o.refreshApp()}));await Promise.all(t)})(e),setProfileWidgetHeight:t=>Mu(e,t),openGeneralSettingsPanel:t=>Kl({editorSDK:e,eventPayload:{pageRef:null,referralInfo:t}}),getGeneralSettingsPanelData:()=>Pu(e),getMemberPrivacySettings:()=>bu(e),modifyPages:n=>t("editorApi.modifyPages",(()=>Su(e,n))),modifyPagesAndOpenManagePages:(n,o)=>t("editorApi.modifyPagesAndOpenManagePages",(()=>(async(e,t,n)=>{await Su(e,t),Nl({editorSDK:e,eventPayload:{pageRef:null,referralInfo:n}})})(e,n,o))),registerAdditionalWidgets:()=>{},getAdditionalWidgets:()=>{},installAdditionalWidgets:()=>{},openAddTabsPanel:()=>Promise.resolve(),getIsMembersAreaV2Context:()=>Promise.resolve(!1)}},Cu={};async function ku(e,t){await e.history.add(ae,{label:t})}const Lu=e=>({hasSocialPages:()=>Gn("private-api.hasSocialPages",(()=>Yc(e))),removePage:t=>Gn("private-api.removePage",(()=>Fc({editorSDK:e,id:t.id}))),uninstall:()=>Gn("private-api.uninstall",(()=>tt("uninstall",(()=>ul(e))))),getRouterDataByPage:t=>Gn("private-api.getRouterDataByPage",(()=>async function(e,t){const n=await e.routers.getByPage(ae,{pageRef:t}),o=await e.routers.get(ae,{routerRef:n});if(!o)throw new Error("Could not retrieve the router in #getPageRouterData");const i=zn().find(o.pages,(e=>e.pageRef.id===t.id)),r=null==i?void 0:i.pageRoles[0],a=zn().find(o.config.patterns,(e=>e.page===r)),s=zn().findKey(o.config.patterns,(e=>e.page===r));return a&&(a.routerRef=n,a.innerRoute=s,a.prefix=o.prefix,a.isPrivate="private"===o.config.type),a}(e,t))),getAllRouters:()=>Gn("private-api.getAllRouters",(()=>po(e))),updatePageDataInRouter:(t,n,o)=>Gn("private-api.updatePageDataInRouter",(()=>uo(e,t,n,o))),saveInnerRoute:(t,n,o)=>Gn("private-api.saveInnerRoute",(async()=>{let i=await async function(e,t,n){const o=await e.routers.getByPage(ae,{pageRef:t}),i=await e.routers.get(ae,{routerRef:o}),r=zn().find(i.pages,(e=>e.pageRef.id===t.id)),a=null==r?void 0:r.pageRoles[0],s=zn().findKey(i.config.patterns,(e=>e.page===a)),c=zn().find(i.config.patterns,(e=>e.page===a)),l=i.config,u=("private"===l.type?"/":"/{userName}/")+n;return delete l.patterns[s],zn().set(l,"patterns["+u+"]",c),await e.routers.update(ae,{routerRef:o,config:l}),u}(e,n,t);i&&"/"===i[0]&&(i=i.substr(1)),await oo({editorSDK:e,pageRouterData:o,updatedData:{link:{innerRoute:i}}}),async function(e,t,n){void 0===n&&(n=0),Cu[t]&&clearTimeout(Cu[t]),Cu[t]=setTimeout((()=>ku(e,t)),n)}(e,"Members update uri seo")})),updatePageData:t=>{let{pageRef:n,pageData:o}=t;return Gn("private-api.updatePageData",(()=>xa({editorSDK:e,pageRef:n,pageData:o})))},savePasswordPermissions:async(t,n,o)=>{if(n===je.PASSWORD&&o)await xa({editorSDK:e,pageRef:t,pageData:{pageSecurity:{requireLogin:!1}}}),Gn("private-api.savePasswordPermissions",(()=>async function(e){let{editorSDK:t,pageRef:n,plainPassword:o}=e;await t.pages.permissions.updatePagePassword(ae,{pageRef:n,plainPassword:o})}({editorSDK:e,pageRef:t,plainPassword:o})));else{const o=!zn().isEqual(n,je.NONE);await xa({editorSDK:e,pageRef:t,pageData:{pageSecurity:{requireLogin:o}}}),Gn("private-api.removePagePassword",(()=>async function(e){let{editorSDK:t,pageRef:n}=e;await t.pages.permissions.removePagePassword(ae,{pageRef:n})}({editorSDK:e,pageRef:t})))}},renamePage:(t,n,o)=>Gn("private-api.renamePage",(async()=>{const i=async function(e){let{editorSDK:t,pageRef:n,title:o}=e;await t.pages.rename(ae,{pageRef:n,title:o})}({editorSDK:e,pageRef:n,title:t}),r=oo({editorSDK:e,pageRouterData:o,updatedData:{label:t}}),a=uo(e,n,"title",t),s=uo(e,n,"seoData",{title:t});await Promise.all([i,r,a,s]),ku(e,"Members page rename")})),createPrivateMemberPage:()=>{throw new Error("[MAV1] PrivateAPI.createPrivateMemberPage is not implemented")}}),ju={editorReady:async(e,t,n)=>{const o=await Bn({editorSDK:e,options:n});try{Ye("editorReady");const t=async()=>{await async function(e){let{editorSDK:t,options:n}=e;if(!n.firstInstall)try{const e=(await po(t)).reduce(((e,t)=>[...e,...t.pages.map((e=>e.pageRef))]),[]);await Promise.all(e.map((e=>zc({editorSDK:t,pageRef:e}))))}catch(e){nt("Failed to set managingAppDefId for MA pages, reason:",e.toString())}}({editorSDK:e,options:n}),await Jc(e),await async function(e,t){if(!e.firstInstall)try{const e=(await ro({editorSDK:t,menuId:be.SUB_MENU_ID})).find((e=>{var t;return"my-account"===(null==e||null==(t=e.link)?void 0:t.innerRoute)}));!(await t.pages.data.getAll(ae)).find((e=>"member_info"===e.tpaPageId))&&e&&nt("editorLoad: MA-84 My account menu item is there, but the page is missing")}catch(e){nt("Verifying My Account page failed",{tags:{reason:e.toString()}})}}(n,e),await dl(e,n),await wc(e),await Ac(e),await async function(e,t){let{firstInstall:n}=t;try{n&&await on()&&e.siteMembers.setPrivacyNoteType(ae,"NOTE")}catch(e){nt("Failed to set privacyNoteType")}}(e,n);const t=await sa(e),o=await async function(){return await en(),"true"===Yt.get("specs.membersArea.NoStartAfterStop")}();t?(await async function(e,t){try{if(!gn())return;if(!await ia(t)){nt("OB-19052: Login component missing in ADI",{tags:{firstInstall:e}});try{const e=await So(t),n=await t.siteSegments.getHeader(ae);e&&await Kr(t,e,n)}catch(e){nt("OB-19052: Re-adding login component failed",{tags:{reason:e.toString()}})}}}catch(e){nt("OB-19052: Verification of login component failed",{tags:{reason:e.toString()}})}}(n.firstInstall,e),o&&(await Nc(e),await ra(e),Wn())):Vn("Members Area was not installed."),o||(await Nc(e),await ra(e),Wn())};await t(),Ze("editorReady")}catch(e){const t="string"==typeof e?e:e.message;throw o.logInstallationFailure(t),et("editorReady",e),console.error("Members Area installation failed"),console.error(e),Vn(e),e}},getAppManifest:async(e,t)=>{const n=await Ar(t,!0);return Ol(t,n)},onEvent:async(e,t)=>{let{eventType:n,eventPayload:o}=e;Gn("onEventHandler",(async()=>{const e=await sa(t,{shouldLog:!1});if(n===fl.Uninstall?e||await async function(){return await en(),"true"===Yt.get("specs.membersArea.AllowDeletionOfBrokenApp")}():e)try{switch(n){case fl.GeneralSettings:Kl({eventPayload:{...o,referralInfo:Cn.ActionsMenu},editorSDK:t});break;case fl.MemberPrivacyDashboard:Ul(t);break;case fl.CreateBlankPage:Nl({eventPayload:o,editorSDK:t});break;case fl.ManagePages:Nl({eventPayload:void 0,editorSDK:t});break;case Ml.EventType.pageDeleted:Gn("handleVerticalSectionDeletion",(()=>tt("handleVerticalSectionDeletion",(()=>Kc(t,o.pageRole)))));break;case fl.Uninstall:jl(t);break;case fl.RemovePage:Ll(t,o.pageRef);break;case fl.RenameRouter:Yc(t).then((async e=>{const n=e?xe+150:xe,i=await t.routers.getAll(ae);t.editor.openModalPanel(ae,{url:await Sl(t,"renameRouter.html"),width:744,height:n,shouldHideHeader:!0,initialData:{routers:i,...o}})}));break;case Ml.EventType.componentAddedToStage:await Vr(t,o.compRef);break;case Ml.EventType.siteWasPublished:bc(t);break;case Ml.EventType.appActionClicked:switch(o&&o.actionId){case"openMembersAreaPagesPanel":t.editor.deeplink.show(ae,{type:"pagesPanel",params:[Be]});break;case"addMemberPage":Nl({eventPayload:o,editorSDK:t});break;case"openMembersAddPanel":t.editor.deeplink.show(ae,{type:"addPanel",params:[Be]});break;case"openMembersAccountBmDashboard":t.editor.openDashboardPanel(ae,{url:El,closeOtherPanels:!0});break;case"openBadgesPage":t.editor.openDashboardPanel(ae,{url:Tl,closeOtherPanels:!0});break;case"openSiteMembersDashboard":t.editor.openDashboardPanel(ae,{url:Rl,closeOtherPanels:!0})}break;default:console.log(n,o)}}catch(e){throw e}}))}},Nu=async e=>[{actionId:gl.OpenMembersAreaPagesPanel,type:"editorActions",icon:"appManager_pagesAction",title:e("Apps_Manager_Manage_Member_Pages")},{actionId:gl.OpenMembersAddPanel,type:"editorActions",icon:"appManager_addElementsAction",title:e("Apps_Manager_Open_Members_Add_Panel")},{actionId:gl.OpenMembersAccountBmDashboard,type:"dashboard",icon:"appManager_settingsAction",title:e("Apps_Manager_Customize_Members_Profiles")},{actionId:gl.OpenBadgesDashboard,type:"dashboard",icon:"appManager_settingsAction",title:e("Apps_Manager_Open_Badges_Page")},{actionId:gl.OpenSiteMembersDashboard,type:"dashboard",icon:"appManager_settingsAction",title:e("Apps_Manager_Engage_With_Your_Members")}],Bu=async e=>({mainActions:[],defaultActions:{learnMoreKB:"b74bcbba-91c8-4951-a3de-a1dc698f6356"},customActions:await Nu(e)}),Ku={viewSiteMembersAction:{type:"view_site_members"},openSignUpSettingsAction:{type:"open_signup_settings"},getAddPageAction:e=>({title:e("Pages_Panel_MemberMenu_Add_Page_V2"),type:"add_page",event:fl.CreateBlankPage,icon:"addPagePagesPanel"}),getOpenGeneralSettingsAction:e=>({title:e("Pages_Panel_MemberMenu_Open_GeneralSettings"),event:fl.GeneralSettings,icon:"settingsAction"}),getOpenMemberPrivacyDashboardAction:e=>({title:e("Pages_Panel_MemberMenu_Open_MemberPrivacyDashboard"),event:fl.MemberPrivacyDashboard,icon:"unhideAction"}),getDeleteMembersAreaAction:e=>({title:e("Pages_Panel_MemberMenu_Delete_Link"),event:fl.Uninstall,icon:"delete_icon"})},Uu=(e,t)=>({default:[...t?[Ku.getAddPageAction(e)]:[],Ku.viewSiteMembersAction,Ku.getOpenMemberPrivacyDashboardAction(e),Ku.openSignUpSettingsAction,Ku.getDeleteMembersAreaAction(e)]}),Fu=async e=>({title:"Page Info",event:"pageInfo",icon:"page_dynamic_icon",url:await Sl(e,"pageInfoV2.html"),helpId:"2fd96dc5-ff35-4ead-9917-12b487c59fe4",type:"page_info"}),Hu={title:"Page Info",event:"pageInfo",icon:"page_dynamic_icon",helpId:"2fd96dc5-ff35-4ead-9917-12b487c59fe4",type:"page_info"},Wu={title:"Permissions",type:"permissions",helpId:"d243ad48-2e17-4786-99d7-23d011aa4bd6"},Vu={title:"Layout",type:"layout"},Gu={title:"SEO Basics",type:"seo"},qu=async e=>({default:[await Fu(e),Vu,Wu],custom:[Hu,Vu,Wu,Gu]}),zu=e=>({default:[],custom:[{title:e("Pages_Panel_MemberMenu_Actions_Page_Delete"),icon:"deleteAction",event:fl.RemovePage}]}),$u=async(e,t,n)=>({sortInnerRoutes:"no-sort",pageDescriptors:{default:{icon:"membersAction"}},applicationSettings:{default:{displayName:t("Pages_Panel_MemberMenu_Title"),helpId:se}},applicationActions:Uu(t,n),pageSettings:await qu(e),pageActions:zu(t)}),Ju=e=>({members:{default:{visibility:"NEVER"}},[xr]:{default:{displayName:e("LoginBarAppWidget_Display_Name")}},[zo]:{default:{displayName:e("MembersMenuAppWidget_Display_Name")}}}),Xu="[MAV2] Members Area Page PublicAPI is not found",Qu=async e=>{const t=await e.application.getPublicAPI(ae,{appDefinitionId:Fe});if(t)return t;throw new Error(Xu)},Yu=async e=>(await Qu(e)).getInstalledWidgetPlugins(),Zu=async e=>(await Qu(e)).getRoutes(),ep=async e=>(await Qu(e)).hideProfileCard(),tp=async e=>(await Qu(e)).refreshApp(),np=e=>t=>e.application.isApplicationInstalled(ae,{appDefinitionId:t}),op=(e,t)=>t.some((t=>{let{appDefinitionId:n,widgetId:o}=t;return e.appDefinitionId===n&&e.widgetId===o})),ip=async e=>{const t=hn();return Ba(Object.keys(t),np(e))},rp=async(e,t)=>{const n=yn(t),o=await(async(e,t)=>{const n=await ip(e),o=hn();return n.reduce(((e,n)=>{var i;if(t===n)return e;const r=null!=(i=o[n])?i:[];return[...e,...r]}),[])})(e,t),i=((e,t,n)=>t.reduce(((t,o)=>op(o,e)?op(o,n)?t:[...t,o]:t),[]))(await Yu(e),n,o),r=await((e,t)=>Ba(e.filter((e=>{let{method:t}=e;return"addApplicationToSite"===t})).filter((e=>t.some((t=>!Ln(e,t))))).map((e=>({...e,pageId:e.appDefinitionId===ze?$e:e.pageId}))),np))(n,o);return[...i,...r]},ap=async e=>{const t=hn();return(await ip(e)).reduce(((e,n)=>({...e,[n]:t[n]})),{})},sp=async e=>(await Zu(e)).find((e=>{let{widgetId:t}=e;return T.About===t})),cp=async e=>{const t=await ap(e);if(!t[E.dn])return!1;const{[Fe]:n,...o}=t;return 1===Object.values(o).flat().filter((e=>{let{widgetId:t}=e;return T.About===t})).length},lp=async e=>{const t=await sp(e);var n;return t&&await cp(e)?null!=(n=t.vfr)&&n.includes(ue)?kn.BWP_ONLY:kn.BWP_ALL:kn.ALL},up=async(e,t)=>{const n=await sp(e);if(!n)return;let{vfr:o=[]}=n;o=o.filter((e=>!le.includes(e))),t===kn.BWP_ONLY&&(o=o.concat(le)),await(async(e,t)=>(await Qu(e)).updateRoute(t))(e,{routeConfiguration:{widgetId:n.widgetId,vfr:o},fieldMask:["vfr"]})},pp=async(e,t,n,o)=>{var i;const r=await Hs({i18next:or(),applications:t,editorSDK:e,applicationsOptions:o}),a=hn(),s=jn([...null!=(i=a[n])?i:[],...r]);un({...a,[n]:s}),await(async(e,t,n)=>{var o;const i=(await ap(e))[E.dn],r=t!==E.dn,a=n.some((e=>{let{widgetId:t}=e;return T.About===t}));if(r||!i||!a)return;const s=await sp(e);null!=s&&null!=(o=s.vfr)&&o.length&&await up(e,kn.BWP_ALL)})(e,n,s)},dp=async e=>{if(gn())return;const t=await(async e=>{for(const t of We)if(await Ro({editorSDK:e,appDefinitionId:t}))return!0;return!1})(e),n=Ge.concat(t?qe:[]),o=await Hs({applications:n,editorSDK:e,i18next:or()});un({...hn(),[Fe]:o})},fp=e=>{const t={widgetPlugins:[],siteApps:[]};return e.forEach((e=>{"addApplicationToSite"===e.method?t.siteApps.push(e):t.widgetPlugins.push(e)})),t},gp=e=>{let{label:t,page:n,definition:o}=e;if(!o.urlOverride)throw new Error("MA V2: urlOverride is missing for "+o.appDefinitionId);const i=(e=>e?"#"+e:"")(n.id);return{id:"",type:"BasicMenuItem",label:t,link:{type:"TpaPageLink",itemTypeIdentifier:"wix.members_area.sub_pages.tab",itemId:o.widgetId,pageId:i,appDefinitionId:E.rH,path:"/"+n.pageUriSEO+"/{userName}/"+o.urlOverride},isVisible:!0,isVisibleMobile:!0,items:[]}},mp=async(e,t)=>{const n=await ka(e),o=await((e,t)=>Promise.all(t.map((t=>Eo({editorSDK:e,appDefinitionId:t.appDefinitionId})))))(e,t);return o.map(((e,o)=>{const i=t[o];if(!i)throw new Error("Page definition is missing when creating the login menu item");const r=e.components.find((e=>e.componentId===i.widgetId));if(!r)throw new Error("App data for widget is missing when creating the login menu item");return gp({page:n,label:r.name,definition:i})}))},hp=async(e,t,n)=>{const o=((e,t)=>t===be.SUB_MENU_ID?e.filter((e=>e.showInMemberMenu)):e.filter((e=>e.showInLoginMenu)))(t,n);return async function(e){let{editorSDK:t,menuId:n,items:o}=e;const i=await t.menu.getById(ae,{menuId:n});return lo({editorSDK:t,menuId:n,items:[...(null==i?void 0:i.items)||[],...o]})}({editorSDK:e,menuId:n,items:await mp(e,o)})},yp=async(e,t,n)=>{const o=He(t.origin),i=await ka(e),r=await Eo({editorSDK:e,appDefinitionId:Ke}),a=await r.widgets[Ue];if(!a)throw new Error("My Account widget is not found");return lo({editorSDK:e,menuId:n,items:[gp({page:i,label:a.appPage.name,definition:o})]})},bp=(e,t)=>yp(e,t,be.LOGIN_MENU_ID),vp=(e,t)=>yp(e,t,be.SUB_MENU_ID),wp=async(e,t)=>hp(e,t,be.LOGIN_MENU_ID),Pp=async(e,t)=>hp(e,t,be.SUB_MENU_ID),Sp=async(e,t)=>Promise.all([bp(e,t),vp(e,t)]),Ip=async(e,t)=>{if(t.some((e=>{let{social:t}=e;return t})))return(async e=>(await Qu(e)).showProfileCard())(e)},_p=async function(e,t,n){void 0===n&&(n=!1);const{widgetPlugins:o,siteApps:i}=fp(t),r=await Zu(e),a=r?(s=r,o.filter((e=>{let{widgetId:t}=e;return!s.some((e=>e.widgetId===t))}))):o;var s;a.length>0&&(await async function(e,t,n){return void 0===n&&(n=!1),(await Qu(e)).addWidgetsPlugins(t,n)}(e,a,n),await(async(e,t)=>Promise.all([wp(e,t),Pp(e,t)]))(e,a),await tp(e)),i.length>0&&await tl({editorSDK:e,applications:i,shouldNavigate:!1})},Dp=async(e,t)=>{const n=await Bn({editorSDK:e});n.verticalTriggeredMaInstallInitiated({originAppId:t});const o=yn(t).filter((e=>!1!==e.shouldInstallInitially));o.length>0&&(await _p(e,o),await Ip(e,o)),await(async(e,t)=>{if(t!==E.dn||gn()||!await cp(e))return;const n=bn()?kn.BWP_ONLY:kn.BWP_ALL;n!==await lp(e)&&await up(e,n)})(e,t),n.verticalTriggeredMaInstallSuccess({originAppId:t})},Ap=async(e,t)=>{const n=await Xc({editorSDK:e,app:t});if(!n)return;const o=await ta({editorSDK:e,id:n.id});if(!o)return;const i=await function(e,t){return e.components.getPage(Nr,{componentRef:t})}(e,o);if(i){if(!n.managingAppDefId){const n={delayMs:100,delayConditionCheckMs:100,message:"Failed to to update page with managing app def id "+t.appDefinitionId,maxTries:4,condition:()=>(async(e,t)=>{const n=await Xc({editorSDK:e,app:t});return!(null==n||!n.managingAppDefId)})(e,t)};await ja((()=>zc({editorSDK:e,pageRef:i})),n)}await Ea({editorSDK:e,pageRef:i,shouldShowEditorRemovePanel:!1})}},xp=async(e,t)=>{const{widgetPlugins:n,siteApps:o}=fp(t);n.length>0&&await(async(e,t)=>{const n=await Qu(e),o=t.map((e=>{let{widgetId:t}=e;return t}));return n.removeWidgets(o)})(e,n),o.length>0&&await(async(e,t)=>{await Promise.all(t.map((t=>Ap(e,t))))})(e,o),await dp(e)},Op=async(e,t)=>{const n=await ri(e);return e.components.properties.update(ae,{componentRef:t,props:{itemsAlignment:ii(n)?"right":"left"}})};async function Mp(e,t,n){void 0===n&&(n=!0);const o=fn(),i=await async function(){return await en(),"true"===Yt.get("specs.membersArea.LoginBarAddMenuRefsToDefinitions")}(),r=((e,t,n)=>{var o;const i=e?qo:t?Lr:Cr;if(!n)return i;const r={...null==(o=i.components)?void 0:o[0],data:jo};return{...i,components:[r]}})(o,n,i),a=await e.components.add(ae,{pageRef:t,componentDefinition:r,showAddToHeaderPanel:!1});if(i)return;const s=(await e.document.components.getChildren(ae,{componentRef:a}))[0];await Rp(e,s)}async function Rp(e,t){const n=no(),o=await e.components.data.get("",{componentRef:t});if(o.iconItemsRef&&o.menuItemsRef)return;const i={menuItemsRef:{menuRef:"#"+n.login,type:"CustomMenuDataRef"},iconItemsRef:{menuRef:"#"+n.icons,type:"CustomMenuDataRef"}};await e.components.data.update(ae,{componentRef:t,data:i})}const Tp=async(e,t)=>{var n;const o=(null==(n=t.origin.info)?void 0:n.appDefinitionId)===E.ZJ,i=await e.siteSegments.getHeader(ae);await Promise.all([Yn(e),Zn(e)]),await Mp(e,i,o)},Ep=async e=>{await e.menu.create(ae,{menuData:{name:"Member Menu",items:[]},customId:be.SUB_MENU_ID})},Cp=async e=>{try{const t=await async function(e){return ta({editorSDK:e,id:De})}(e);t&&(nt("[MA V2] removing global controller"),await e.components.remove(ae,{componentRef:t}))}catch(e){nt("[MA V2] Error occurred in removeGlobalControllerIfExists",{extra:{error:JSON.stringify(e)}})}};var kp=function(e){return e.ControllerConfig="controller config is invalid",e.MembersMenu="members menu is invalid",e.LoginMenu="login menu is invalid",e.MemberPage="member page is invalid",e}(kp||{});const Lp=[{validate:async e=>{if(await cn())return!0;try{var t;const n=await Io(e);return!(void 0===(null==n?void 0:n.isMembersAreaV2)||null==(t=n.routes)||!t.length)}catch(e){return!1}},error:kp.ControllerConfig},{validate:async e=>{try{return!!(await ro({editorSDK:e,menuId:be.SUB_MENU_ID})).length}catch(e){return!1}},error:kp.MembersMenu},{validate:async e=>{try{return!!await ao({editorSDK:e,menuId:be.LOGIN_MENU_ID})}catch(e){return!1}},error:kp.LoginMenu},{validate:async e=>{try{if(!await async function(){return await en(),"true"===Yt.get("specs.membersArea.verifyMemberPage")}())return!0;const t=await function(e){let{editorSDK:t}=e;return t.pages.getApplicationPages(ae)}({editorSDK:e});return t.some((e=>"member_page"===e.tpaPageId))}catch(e){return!1}},error:kp.MemberPage}],jp=async e=>(async e=>{const t=await Promise.all(Lp.map((t=>t.validate(e))));for(const e in t)if(!t[e])return n=Lp[e].error,{success:!1,error:new Error(n)};var n;return{success:!0}})(e),Np=async e=>{try{await(async e=>(await Qu(e)).uninstall())(e)}catch(e){if(e.message===Xu)return;throw e}await e.application.uninstall("",{openConfirmation:!1})},Bp=e=>e.document.application.add(ae,{appDefinitionId:Fe,managingAppDefId:Be,shouldNavigate:!0,isSilent:!0});const Kp=async(e,t)=>{try{await(async e=>{const t=await e.siteSegments.getSiteStructure(ae),n=await Po(e,t),o=await cn();await cl({editorSDK:e,controllerRef:n,newConfig:{...o?{}:{isMembersAreaV2:!0},isMembersAreaSeoEnabled:!0}})})(e),await Promise.all([Ep(e),Tp(e,t),Bp(e)]),await Promise.all([Sp(e,t),ep(e)]);if(await an()){const t=await jp(e);if(!t.success)throw t.error}await tp(e)}catch(t){throw await Np(e),t}},Up=async e=>{const t=await Ta({editorSDK:e}),n=await ka(e);t.id!==n.id&&n&&await e.pages.navigateTo(ae,{pageRef:{id:n.id,type:"DESKTOP"}})},Fp=async function(e,t){void 0===t&&(t={});const n=await ka(e);return n&&await e.pages.navigateTo(ae,{pageRef:{id:n.id,type:"DESKTOP"}}),Bl({editorSDK:e,eventPayload:t})},Hp=async(e,t)=>{let{eventPayload:n}=t;if(null!=n&&n.actionId)switch(n.actionId){case gl.AddMemberPage:return async function(e,t){void 0===t&&(t={});const n=await ka(e);return n&&await e.pages.navigateTo(ae,{pageRef:{id:n.id,type:"DESKTOP"}}),Nl({editorSDK:e,eventPayload:t})}(e);case gl.AddMemberTab:return Fp(e);case gl.OpenMembersAddPanel:return e.editor.deeplink.show(ae,{type:"addPanel",params:[Be]});case gl.OpenMembersAreaPagesPanel:return e.editor.deeplink.show(ae,{type:"pagesPanel",params:[Be]});case gl.OpenBadgesDashboard:return e.editor.openDashboardPanel(ae,{url:Tl,closeOtherPanels:!0});case gl.OpenSiteMembersDashboard:return e.editor.openDashboardPanel(ae,{url:Rl,closeOtherPanels:!0});case gl.OpenMembersAccountBmDashboard:return e.editor.openDashboardPanel(ae,{url:El,closeOtherPanels:!0})}},Wp=async e=>{const t=await e.editor.getAppAPI();return ln.isClassicEditor?e.editor.openModalPanel(ae,{url:await Sl(e,"privateMemberPage.html"),width:600,height:467,shouldHideHeader:!0,initialData:null}):t.createPrivateMemberPage()},Vp=async(e,t)=>{let{appsToInstall:n,appsToRemove:o,profilePageType:i}=t;const r=await Ar(e,!0),a=n.length+o.length+(i?1:0);let s=0;if(a){try{await e.editor.openProgressBar(ae,{title:r("GeneralSettings_ProgressModal_Title"),totalSteps:a,stepTitle:r("GeneralSettings_ProgressModal_Subtitle")})}catch(e){nt("V2 General settings progress bar failed to open",{extra:{e:e}})}try{if(n.length){const t=n.map((e=>{let{integrationApplication:t}=e;return t}));await _p(e,t),await e.editor.updateProgressBar(ae,{currentStep:s+=n.length,stepTitle:r("GeneralSettings_ProgressModal_Subtitle")})}if(o.length){const t=o.map((e=>{let{integrationApplication:t}=e;return t}));await xp(e,t),await e.editor.updateProgressBar(ae,{currentStep:s+=o.length,stepTitle:r("GeneralSettings_ProgressModal_Subtitle")})}i&&(await up(e,i),await e.editor.updateProgressBar(ae,{currentStep:++s,stepTitle:r("GeneralSettings_ProgressModal_Subtitle")})),await e.editor.closeProgressBar(ae,{isError:!1})}catch(t){throw await e.editor.closeProgressBar(ae,{isError:!0}),t}}},Gp=e=>{const t=ot(e),n=(e,n)=>Gn(e,(()=>t(e,n)));return{getRegisteredApps:()=>(async e=>{const t=hn(),n=await ip(e),o=await Yu(e);return n.reduce(((e,n)=>{var i;const r=null!=(i=t[n])?i:[];return r.length>0?{...e,[n]:r.filter((e=>!vc(e)&&!op(e,o)))}:e}),{})})(e),registerMembersAreaApps:(n,o,i)=>t("editorAPI.v2.registerMembersAreaApps",(()=>pp(e,n,o,i))),installRegisteredApps:t=>n("editorAPI.v2.installRegisteredApps",(()=>Dp(e,t))),addApplications:async(t,o,i)=>n("editorAPI.v2.addApplications",(async()=>{const n=await(async(e,t)=>Hs({editorSDK:e,applications:t,i18next:or()}))(e,t);return await _p(e,n,o),Ip(e,n)})),handleVerticalDeletion:n=>t("editorAPI.v2.handleVerticalDeletion",(async()=>(await Up(e),(async(e,t)=>{const n=await rp(e,t);return xp(e,n)})(e,n)))),getProfileType:()=>lp(e),setProfileType:n=>t("editorAPI.v2.setProfileType",(()=>up(e,n))),modifyPages:n=>t("editorAPI.v2.modifyPages",(()=>Vp(e,n))),modifyPagesAndOpenManagePages:(n,o)=>t("editorAPI.v2.modifyPagesAndOpenManagePages",(()=>(async(e,t,n)=>(await Vp(e,t),Nl({editorSDK:e,eventPayload:{pageRef:void 0,referralInfo:n}})))(e,n,o))),refreshPageState:()=>e.application.reloadManifest(),_getIsResponsiveEditor:()=>Promise.resolve(fn()),openAddTabsPanel:t=>Bl({editorSDK:e,eventPayload:{pageRef:void 0,referralInfo:t}}),getIsMembersAreaV2Context:()=>Promise.resolve(!0),openGeneralSettingsPanel:async()=>{throw new Error("[MAV2] PublicAPI.openGeneralSettingsPanel is not supported")},getGeneralSettingsPanelData:()=>{throw new Error("[MAV2] PublicAPI.getGeneralSettingsPanelData is not supported")},getMemberPrivacySettings:()=>{throw new Error("[MAV2] PublicAPI.getMemberPrivacySettings is not supported")},getMembersPageRef:e=>{throw new Error("[MAV2] PublicAPI.getMembersPageRef is not implemented")},removeMembersAreaPage:(e,t)=>{throw new Error("[MAV2] PublicAPI.removeMembersAreaPage is not implemented")},setHorizontalLayout:e=>{throw new Error("[MAV2] PublicAPI.setHorizontalLayout is not implemented")},setSidebarLayout:()=>{throw new Error("[MAV2] PublicAPI.setSidebarLayout is not implemented")},addCustomPage:e=>{throw new Error("[MAV2] PublicAPI.addCustomPage is not implemented")},refreshMembersAreaApps:()=>{throw new Error("[MAV2] PublicAPI.refreshMembersAreaApps is not implemented")},setProfileWidgetHeight:e=>{throw new Error("[MAV2] PublicAPI.setProfileWidgetHeight is not implemented")},refreshRouters:()=>{throw new Error("[MAV2] PublicAPI.refreshRouters is not implemented")},registerAdditionalWidgets:()=>{throw new Error("[MAV2] PublicAPI.registerAdditionalWidgets is not implemented")},getAdditionalWidgets:()=>{throw new Error("[MAV2] PublicAPI.getAdditionalWidgets is not implemented")},installAdditionalWidgets:()=>{throw new Error("[MAV2] PublicAPI.installAdditionalWidgets is not implemented")}}},qp=async(e,t)=>{let{pageId:n}=t;const o=await ta({editorSDK:e,id:n});if(!o)throw new Error("Page not found");const i=await(async e=>(await Qu(e)).getMembersAreaPageRef())(e).catch((()=>{}));return Ea({editorSDK:e,pageRef:o,pageToNavigateAfterRemove:i,shouldShowEditorRemovePanel:!1})},zp=e=>{const t=ot(e);return{hasSocialPages:async()=>t("private-api.v2.hasSocialPages",(async()=>{await Up(e);const t=await(async e=>(await Qu(e)).getPublicApplications())(e);return t.length>0})),uninstall:async()=>t("v2.uninstall",(async()=>{await Np(e),await e.history.add(ae,{label:"Deleting Members Area"})})),removePage:n=>t("private-api.v2.removePage",(()=>qp(e,{pageId:n.id}))),createPrivateMemberPage:async()=>t("private-api.v2.createPrivateMemberPage",(async()=>{const{pageTitle:t,pageRef:n}=await(async e=>{const t=(await Ar(e))("Pages_Private_Member_Page_Title");return{pageTitle:t,pageRef:await Oa({editorSDK:e,pageTitle:t,pageSecurity:{requireLogin:!0},shouldAddMenuItem:!1})}})(e),{id:o}=await Ra({editorSDK:e,pageRef:n});return await function(e){let{editorSDK:t,menuId:n,menuItem:o}=e;return t.menu.addItem("",{menuId:n,menuItem:(i=o,zn().assign({},$n,i))});var i}({editorSDK:e,menuId:be.LOGIN_MENU_ID,menuItem:{label:t,link:{pageId:o,target:"_self",type:"PageLink"}}}),await function(e){let{editorSDK:t,state:n}=e;return t.document.pages.setState("",{state:n})}({editorSDK:e,state:{custom:[n]}}),{pageRef:n,pageTitle:t}})),updatePageData:e=>{let{pageRef:t,pageData:n}=e;throw new Error("[MAV2] PrivateAPI.updatePageData is not implemented")},getAllRouters:()=>{throw new Error("[MAV2] PrivateAPI.getAllRouters is not implemented")},getRouterDataByPage:e=>{throw new Error("[MAV2] PrivateAPI.getRouterDataByPage is not implemented")},updatePageDataInRouter:(e,t,n)=>{throw new Error("[MAV2] PrivateAPI.updatePageDataInRouter is not implemented")},saveInnerRoute:(e,t,n)=>{throw new Error("[MAV2] PrivateAPI.saveInnerRoute is not implemented")},savePasswordPermissions:(e,t,n)=>{throw new Error("[MAV2] PrivateAPI.savePasswordPermissions is not implemented")},renamePage:(e,t,n)=>{throw new Error("[MAV2] PrivateAPI.renamePage is not implemented")}}},$p={getAppManifest:async(e,t)=>{const n=await Ar(t,!0),o=await sn();return{appDescriptor:await Bu(n),pages:await $u(t,n,o),controllersStageData:Ju(n)}},editorReady:async(e,t,n)=>{const o=ot(e);try{const t=async()=>{if(n.firstInstall){await async function(){try{return await en(),"true"===Yt.get("specs.membersArea.removeGlobalControllerOnFirstInstall")}catch(e){}}()&&await Cp(e),await o("v2.install",(()=>Kp(e,n))),await async function(e){try{await on()&&await e.siteMembers.setPrivacyNoteType(ae,"NOTE")}catch(e){nt("Failed to set privacyNoteType")}}(e)}await ra(e),await dp(e);if(!n.firstInstall&&await an()){const t=await jp(e);t.success||nt("Members Area v2.editorReady validation: "+t.error)}Wn()};await tt("v2.editorReady",t)}catch(e){throw console.error("Members Area V2 editorReady failed"),console.error(e),Vn(e),e}},onEvent:async(e,t)=>{const{eventType:n,eventPayload:o}=e;switch(n){case Ml.EventType.appActionClicked:return Hp(t,e);case Ml.EventType.widgetAdded:return(async(e,t)=>{if(null==t||!t.componentRef)return;const[n]=await e.controllers.getControllerConnections("",{controllerRef:t.componentRef});if((null==n?void 0:n.connection.role)!==xr)return;const o=n.componentRef;return Promise.all([Op(e,o),Rp(e,o)])})(t,o);case Ml.EventType.siteWasPublished:return bc(t);case fl.CreateBlankPage:return await sn()?Wp(t):Fp(t,o);case fl.ManagePages:return Fp(t,o);case fl.RemovePage:return Ll(t,o.pageRef);case fl.Uninstall:return jl(t);case fl.GeneralSettings:return await Up(t),Kl({editorSDK:t,eventPayload:{...o,referralInfo:Cn.ActionsMenu}});case fl.MemberPrivacyDashboard:return Ul(t)}}},Jp=e=>{const t=()=>(async e=>(await Al(e)?Gp:Eu)(e))(e);return{getRegisteredApps:async()=>(await t()).getRegisteredApps(),registerMembersAreaApps:async(e,n,o)=>(await t()).registerMembersAreaApps(e,n,o),installRegisteredApps:async(e,n)=>(await t()).installRegisteredApps(e,n),addApplications:async(e,n,o)=>(await t()).addApplications(e,n,o),openGeneralSettingsPanel:async e=>(await t()).openGeneralSettingsPanel(e),getGeneralSettingsPanelData:async()=>(await t()).getGeneralSettingsPanelData(),getMemberPrivacySettings:async()=>(await t()).getMemberPrivacySettings(),modifyPages:async e=>(await t()).modifyPages(e),modifyPagesAndOpenManagePages:async(e,n)=>(await t()).modifyPagesAndOpenManagePages(e,n),getMembersPageRef:async e=>(await t()).getMembersPageRef(e),removeMembersAreaPage:async(e,n)=>(await t()).removeMembersAreaPage(e,n),setHorizontalLayout:async e=>(await t()).setHorizontalLayout(e),setSidebarLayout:async()=>(await t()).setSidebarLayout(),_getIsResponsiveEditor:async()=>(await t())._getIsResponsiveEditor(),handleVerticalDeletion:async e=>(await t()).handleVerticalDeletion(e),addCustomPage:async e=>(await t()).addCustomPage(e),refreshPageState:async()=>(await t()).refreshPageState(),getProfileType:async()=>(await t()).getProfileType(),setProfileType:async e=>(await t()).setProfileType(e),refreshRouters:async()=>(await t()).refreshRouters(),refreshMembersAreaApps:async()=>(await t()).refreshMembersAreaApps(),setProfileWidgetHeight:async e=>(await t()).setProfileWidgetHeight(e),registerAdditionalWidgets:()=>{},getAdditionalWidgets:()=>{},installAdditionalWidgets:()=>{},openAddTabsPanel:async e=>(await t()).openAddTabsPanel(e),getIsMembersAreaV2Context:async()=>(await t()).getIsMembersAreaV2Context()}},Xp=e=>{const t=()=>(async e=>(await Al(e)?zp:Lu)(e))(e);return{uninstall:async()=>(await t()).uninstall(),getAllRouters:async()=>(await t()).getAllRouters(),getRouterDataByPage:async e=>(await t()).getRouterDataByPage(e),updatePageDataInRouter:async(e,n,o)=>(await t()).updatePageDataInRouter(e,n,o),saveInnerRoute:async(e,n,o)=>(await t()).saveInnerRoute(e,n,o),updatePageData:async e=>(await t()).updatePageData(e),savePasswordPermissions:async(e,n,o)=>(await t()).savePasswordPermissions(e,n,o),hasSocialPages:async()=>(await t()).hasSocialPages(),createPrivateMemberPage:async()=>(await t()).createPrivateMemberPage(),renamePage:async(e,n,o)=>(await t()).renamePage(e,n,o),removePage:async e=>(await t()).removePage(e)}};function Qp(e){return"wysiwyg.viewer.components.LoginSocialBar"===e}async function Yp(e,t){var n;const o=await async function(e){return await e.editor.info.getEditorMode()===Ml.DeviceType.Mobile}(t);if(o)return;const i=e.componentType,r=function(e){return"platform.components.AppWidget"===e}(i),a=null==(n=e.components)?void 0:n[0];Qp(r&&"object"==typeof a?null==a?void 0:a.componentType:i)&&await(async e=>{const t=await Ar(e);await e.editor.openConfirmationPanel("",{headerText:t("ConfirmationPanel_Remove_Login_Bar_Title"),shouldShowIllustration:!0,illustration:mn()+"assets/icons/DeleteSectionIcon.svg",descriptionText:[{tag:"p",content:t("ConfirmationPanel_Remove_Login_Bar_Content")},{tag:"li",content:t("ConfirmationPanel_Remove_Login_Bar_List_Item_One")},{tag:"li",content:t("ConfirmationPanel_Remove_Login_Bar_List_Item_Two")},{tag:"li",content:t("ConfirmationPanel_Remove_Login_Bar_List_Item_Three")},{tag:"p",content:""},{tag:"p",content:t("ConfirmationPanel_Remove_Login_Bar_Note")}],mainActionText:t("ConfirmationPanel_Remove_Login_Bar_Main_Action_text")})})(t)}const Zp=e=>{dn(e);const t=Jp(e);return{public:t,private:Xp(e),editor:{beforeComponentRemoved:t=>{let{componentDefinition:n}=t;return Yp(n,e)},async migrate(e){switch(null==e?void 0:e.migrationTask){case"install_subscriptions":await t.addApplications([ee],!1);break;case"install_wallet":await t.addApplications([J],!1);break;case"install_subscriptions_and_wallet":await t.addApplications([ee,J],!1)}}}}};async function ed(){return Promise.resolve([])}const td=async(e,t)=>await Al(e,t)?$p:ju,nd=async(e,t,n)=>{var o,i,r,a,s,c;en(),tn(),dn(e),i=function(e){const t=e.split("/");return t.slice(0,t.length-1).join("/")+"/"}(n.initialAppData.editorScriptUrl),ln={...ln,staticsBaseUrl:i},r=!(null==(o=n.origin.info)||!o.blogWriterProfilesOnly),ln={...ln,blogWriterProfilesOnly:r},a="CLASSIC"===n.origin.type,ln={...ln,isClassicEditor:a},s="RESPONSIVE"===n.origin.type,ln={...ln,isResponsiveEditor:s},c=0===n.origin.type.indexOf("ADI"),ln={...ln,isADI:c};try{await async function(e,t){var n,o,i,r;const[a,s,c]=await Promise.all([e.info.getMetaSiteId(ae),e.info.getSiteRegion(ae),e.info.getLanguage(ae)]),l={metaSiteId:a,siteRegion:s,siteLanguage:c};var u,p;void 0!==t.firstInstall&&(l.firstInstall=t.firstInstall),t.origin&&t.origin.type&&(l.type=t.origin.type),null!=(n=t.origin)&&n.info&&(l.originInfo=(null==(u=t.origin.info)?void 0:u.type)||(null==(p=t.origin.info)?void 0:p.appDefinitionId)),t.initialAppData&&t.initialAppData.editorScriptUrl&&(l.editorScriptUrl=t.initialAppData.editorScriptUrl),null!=(o=self)&&null!=(o=o.commonConfig)&&o.brand&&(l.brand=self.commonConfig.brand);const d={dataCallback:()=>{},tags:l};Qe=null==t||null==(i=t.monitoring)?void 0:i.createSentryMonitorForApp("https://d71c47c01a6e4b2a9c1cf460e3f76627@sentry.wixpress.com/27",d),Xe=null==t||null==(r=t.monitoring)?void 0:r.createFedopsLogger(),Qe&&Xe||console.error("Issues while initialising loggers. Sentry: "+Qe+", Fedops: "+Xe),await e.document.errors.registerToErrors("",{callback:e=>{let{error:t,methodName:n}=e;console.log("An error occured in DS, method "+n+", error: "+t),nt("Error in DS",{tags:{errorMessage:t.toString(),methodName:n}})}})}(e,n)}catch(e){}return(await td(e,n)).editorReady(e,t,n)},od=async(e,t)=>(await td(t)).onEvent(e,t),id=async(e,t,n)=>(await td(t)).getAppManifest(e,t,n)}(),a}()}));
//# sourceMappingURL=editorAppModule.bundle.min.js.map